(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var hm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function m6(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function g6(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var Mw={exports:{}},l1={},jw={exports:{}},$t={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var v0=Symbol.for("react.element"),v6=Symbol.for("react.portal"),y6=Symbol.for("react.fragment"),x6=Symbol.for("react.strict_mode"),_6=Symbol.for("react.profiler"),w6=Symbol.for("react.provider"),S6=Symbol.for("react.context"),E6=Symbol.for("react.forward_ref"),A6=Symbol.for("react.suspense"),T6=Symbol.for("react.memo"),b6=Symbol.for("react.lazy"),xy=Symbol.iterator;function N6(t){return t===null||typeof t!="object"?null:(t=xy&&t[xy]||t["@@iterator"],typeof t=="function"?t:null)}var Bw={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Vw=Object.assign,Uw={};function df(t,e,r){this.props=t,this.context=e,this.refs=Uw,this.updater=r||Bw}df.prototype.isReactComponent={};df.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};df.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function zw(){}zw.prototype=df.prototype;function W2(t,e,r){this.props=t,this.context=e,this.refs=Uw,this.updater=r||Bw}var q2=W2.prototype=new zw;q2.constructor=W2;Vw(q2,df.prototype);q2.isPureReactComponent=!0;var _y=Array.isArray,Hw=Object.prototype.hasOwnProperty,G2={current:null},Ww={key:!0,ref:!0,__self:!0,__source:!0};function qw(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)Hw.call(e,n)&&!Ww.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:v0,type:t,key:s,ref:a,props:i,_owner:G2.current}}function C6(t,e){return{$$typeof:v0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function $2(t){return typeof t=="object"&&t!==null&&t.$$typeof===v0}function I6(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var wy=/\/+/g;function dm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?I6(""+t.key):e.toString(36)}function Wd(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case v0:case v6:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+dm(a,0):n,_y(i)?(r="",t!=null&&(r=t.replace(wy,"$&/")+"/"),Wd(i,e,r,"",function(u){return u})):i!=null&&($2(i)&&(i=C6(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(wy,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",_y(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+dm(s,o);a+=Wd(s,e,r,l,i)}else if(l=N6(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+dm(s,o++),a+=Wd(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function ad(t,e,r){if(t==null)return t;var n=[],i=0;return Wd(t,n,"","",function(s){return e.call(r,s,i++)}),n}function P6(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fi={current:null},qd={transition:null},k6={ReactCurrentDispatcher:Fi,ReactCurrentBatchConfig:qd,ReactCurrentOwner:G2};function Gw(){throw Error("act(...) is not supported in production builds of React.")}$t.Children={map:ad,forEach:function(t,e,r){ad(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ad(t,function(){e++}),e},toArray:function(t){return ad(t,function(e){return e})||[]},only:function(t){if(!$2(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$t.Component=df;$t.Fragment=y6;$t.Profiler=_6;$t.PureComponent=W2;$t.StrictMode=x6;$t.Suspense=A6;$t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k6;$t.act=Gw;$t.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=Vw({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=G2.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)Hw.call(e,l)&&!Ww.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:v0,type:t.type,key:i,ref:s,props:n,_owner:a}};$t.createContext=function(t){return t={$$typeof:S6,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:w6,_context:t},t.Consumer=t};$t.createElement=qw;$t.createFactory=function(t){var e=qw.bind(null,t);return e.type=t,e};$t.createRef=function(){return{current:null}};$t.forwardRef=function(t){return{$$typeof:E6,render:t}};$t.isValidElement=$2;$t.lazy=function(t){return{$$typeof:b6,_payload:{_status:-1,_result:t},_init:P6}};$t.memo=function(t,e){return{$$typeof:T6,type:t,compare:e===void 0?null:e}};$t.startTransition=function(t){var e=qd.transition;qd.transition={};try{t()}finally{qd.transition=e}};$t.unstable_act=Gw;$t.useCallback=function(t,e){return Fi.current.useCallback(t,e)};$t.useContext=function(t){return Fi.current.useContext(t)};$t.useDebugValue=function(){};$t.useDeferredValue=function(t){return Fi.current.useDeferredValue(t)};$t.useEffect=function(t,e){return Fi.current.useEffect(t,e)};$t.useId=function(){return Fi.current.useId()};$t.useImperativeHandle=function(t,e,r){return Fi.current.useImperativeHandle(t,e,r)};$t.useInsertionEffect=function(t,e){return Fi.current.useInsertionEffect(t,e)};$t.useLayoutEffect=function(t,e){return Fi.current.useLayoutEffect(t,e)};$t.useMemo=function(t,e){return Fi.current.useMemo(t,e)};$t.useReducer=function(t,e,r){return Fi.current.useReducer(t,e,r)};$t.useRef=function(t){return Fi.current.useRef(t)};$t.useState=function(t){return Fi.current.useState(t)};$t.useSyncExternalStore=function(t,e,r){return Fi.current.useSyncExternalStore(t,e,r)};$t.useTransition=function(){return Fi.current.useTransition()};$t.version="18.3.1";jw.exports=$t;var rt=jw.exports;/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var L6=rt,F6=Symbol.for("react.element"),R6=Symbol.for("react.fragment"),D6=Object.prototype.hasOwnProperty,O6=L6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,M6={key:!0,ref:!0,__self:!0,__source:!0};function $w(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)D6.call(e,n)&&!M6.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:F6,type:t,key:s,ref:a,props:i,_owner:O6.current}}l1.Fragment=R6;l1.jsx=$w;l1.jsxs=$w;Mw.exports=l1;var R=Mw.exports,hg={},Kw={exports:{}},_s={},Xw={exports:{}},Yw={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(X,ee){var he=X.length;X.push(ee);e:for(;0<he;){var we=he-1>>>1,P=X[we];if(0<i(P,ee))X[we]=ee,X[he]=P,he=we;else break e}}function r(X){return X.length===0?null:X[0]}function n(X){if(X.length===0)return null;var ee=X[0],he=X.pop();if(he!==ee){X[0]=he;e:for(var we=0,P=X.length,B=P>>>1;we<B;){var V=2*(we+1)-1,U=X[V],Y=V+1,pe=X[Y];if(0>i(U,he))Y<P&&0>i(pe,U)?(X[we]=pe,X[Y]=he,we=Y):(X[we]=U,X[V]=he,we=V);else if(Y<P&&0>i(pe,he))X[we]=pe,X[Y]=he,we=Y;else break e}}return ee}function i(X,ee){var he=X.sortIndex-ee.sortIndex;return he!==0?he:X.id-ee.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,p=null,m=3,d=!1,y=!1,v=!1,T=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function E(X){for(var ee=r(u);ee!==null;){if(ee.callback===null)n(u);else if(ee.startTime<=X)n(u),ee.sortIndex=ee.expirationTime,e(l,ee);else break;ee=r(u)}}function L(X){if(v=!1,E(X),!y)if(r(l)!==null)y=!0,se(j);else{var ee=r(u);ee!==null&&re(L,ee.startTime-X)}}function j(X,ee){y=!1,v&&(v=!1,_(S),S=-1),d=!0;var he=m;try{for(E(ee),p=r(l);p!==null&&(!(p.expirationTime>ee)||X&&!N());){var we=p.callback;if(typeof we=="function"){p.callback=null,m=p.priorityLevel;var P=we(p.expirationTime<=ee);ee=t.unstable_now(),typeof P=="function"?p.callback=P:p===r(l)&&n(l),E(ee)}else n(l);p=r(l)}if(p!==null)var B=!0;else{var V=r(u);V!==null&&re(L,V.startTime-ee),B=!1}return B}finally{p=null,m=he,d=!1}}var z=!1,w=null,S=-1,I=5,F=-1;function N(){return!(t.unstable_now()-F<I)}function b(){if(w!==null){var X=t.unstable_now();F=X;var ee=!0;try{ee=w(!0,X)}finally{ee?D():(z=!1,w=null)}}else z=!1}var D;if(typeof x=="function")D=function(){x(b)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,de=Z.port2;Z.port1.onmessage=b,D=function(){de.postMessage(null)}}else D=function(){T(b,0)};function se(X){w=X,z||(z=!0,D())}function re(X,ee){S=T(function(){X(t.unstable_now())},ee)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(X){X.callback=null},t.unstable_continueExecution=function(){y||d||(y=!0,se(j))},t.unstable_forceFrameRate=function(X){0>X||125<X?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<X?Math.floor(1e3/X):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(X){switch(m){case 1:case 2:case 3:var ee=3;break;default:ee=m}var he=m;m=ee;try{return X()}finally{m=he}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(X,ee){switch(X){case 1:case 2:case 3:case 4:case 5:break;default:X=3}var he=m;m=X;try{return ee()}finally{m=he}},t.unstable_scheduleCallback=function(X,ee,he){var we=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?we+he:we):he=we,X){case 1:var P=-1;break;case 2:P=250;break;case 5:P=1073741823;break;case 4:P=1e4;break;default:P=5e3}return P=he+P,X={id:c++,callback:ee,priorityLevel:X,startTime:he,expirationTime:P,sortIndex:-1},he>we?(X.sortIndex=he,e(u,X),r(l)===null&&X===r(u)&&(v?(_(S),S=-1):v=!0,re(L,he-we))):(X.sortIndex=P,e(l,X),y||d||(y=!0,se(j))),X},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(X){var ee=m;return function(){var he=m;m=ee;try{return X.apply(this,arguments)}finally{m=he}}}})(Yw);Xw.exports=Yw;var j6=Xw.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B6=rt,ys=j6;function et(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Qw=new Set,Fh={};function Fu(t,e){Yc(t,e),Yc(t+"Capture",e)}function Yc(t,e){for(Fh[t]=e,t=0;t<e.length;t++)Qw.add(e[t])}var uo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),dg=Object.prototype.hasOwnProperty,V6=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Sy={},Ey={};function U6(t){return dg.call(Ey,t)?!0:dg.call(Sy,t)?!1:V6.test(t)?Ey[t]=!0:(Sy[t]=!0,!1)}function z6(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function H6(t,e,r,n){if(e===null||typeof e>"u"||z6(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Ri(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ri={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ri[t]=new Ri(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ri[e]=new Ri(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ri[t]=new Ri(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ri[t]=new Ri(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ri[t]=new Ri(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ri[t]=new Ri(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ri[t]=new Ri(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ri[t]=new Ri(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ri[t]=new Ri(t,5,!1,t.toLowerCase(),null,!1,!1)});var K2=/[\-:]([a-z])/g;function X2(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(K2,X2);ri[e]=new Ri(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(K2,X2);ri[e]=new Ri(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(K2,X2);ri[e]=new Ri(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ri[t]=new Ri(t,1,!1,t.toLowerCase(),null,!1,!1)});ri.xlinkHref=new Ri("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ri[t]=new Ri(t,1,!1,t.toLowerCase(),null,!0,!0)});function Y2(t,e,r,n){var i=ri.hasOwnProperty(e)?ri[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(H6(e,r,i,n)&&(r=null),n||i===null?U6(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var _o=B6.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,od=Symbol.for("react.element"),Ac=Symbol.for("react.portal"),Tc=Symbol.for("react.fragment"),Q2=Symbol.for("react.strict_mode"),pg=Symbol.for("react.profiler"),Jw=Symbol.for("react.provider"),Zw=Symbol.for("react.context"),J2=Symbol.for("react.forward_ref"),mg=Symbol.for("react.suspense"),gg=Symbol.for("react.suspense_list"),Z2=Symbol.for("react.memo"),Zo=Symbol.for("react.lazy"),e4=Symbol.for("react.offscreen"),Ay=Symbol.iterator;function Hf(t){return t===null||typeof t!="object"?null:(t=Ay&&t[Ay]||t["@@iterator"],typeof t=="function"?t:null)}var $r=Object.assign,pm;function th(t){if(pm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function gm(t,e){if(!t||mm)return"";mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{mm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?th(t):""}function W6(t){switch(t.tag){case 5:return th(t.type);case 16:return th("Lazy");case 13:return th("Suspense");case 19:return th("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function vg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Tc:return"Fragment";case Ac:return"Portal";case pg:return"Profiler";case Q2:return"StrictMode";case mg:return"Suspense";case gg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Zw:return(t.displayName||"Context")+".Consumer";case Jw:return(t._context.displayName||"Context")+".Provider";case J2:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Z2:return e=t.displayName||null,e!==null?e:vg(t.type)||"Memo";case Zo:e=t._payload,t=t._init;try{return vg(t(e))}catch{}}return null}function q6(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vg(e);case 8:return e===Q2?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function El(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function t4(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function G6(t){var e=t4(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ld(t){t._valueTracker||(t._valueTracker=G6(t))}function r4(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=t4(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function up(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yg(t,e){var r=e.checked;return $r({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function Ty(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=El(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function n4(t,e){e=e.checked,e!=null&&Y2(t,"checked",e,!1)}function xg(t,e){n4(t,e);var r=El(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?_g(t,e.type,r):e.hasOwnProperty("defaultValue")&&_g(t,e.type,El(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function by(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function _g(t,e,r){(e!=="number"||up(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var rh=Array.isArray;function jc(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+El(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(et(91));return $r({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ny(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(et(92));if(rh(r)){if(1<r.length)throw Error(et(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:El(r)}}function i4(t,e){var r=El(e.value),n=El(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function Cy(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function s4(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Sg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?s4(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ud,a4=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ud=ud||document.createElement("div"),ud.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ud.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rh(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var uh={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},$6=["Webkit","ms","Moz","O"];Object.keys(uh).forEach(function(t){$6.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),uh[e]=uh[t]})});function o4(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||uh.hasOwnProperty(t)&&uh[t]?(""+e).trim():e+"px"}function l4(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=o4(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var K6=$r({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Eg(t,e){if(e){if(K6[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(et(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(et(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(et(61))}if(e.style!=null&&typeof e.style!="object")throw Error(et(62))}}function Ag(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Tg=null;function ev(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var bg=null,Bc=null,Vc=null;function Iy(t){if(t=_0(t)){if(typeof bg!="function")throw Error(et(280));var e=t.stateNode;e&&(e=d1(e),bg(t.stateNode,t.type,e))}}function u4(t){Bc?Vc?Vc.push(t):Vc=[t]:Bc=t}function c4(){if(Bc){var t=Bc,e=Vc;if(Vc=Bc=null,Iy(t),e)for(t=0;t<e.length;t++)Iy(e[t])}}function f4(t,e){return t(e)}function h4(){}var vm=!1;function d4(t,e,r){if(vm)return t(e,r);vm=!0;try{return f4(t,e,r)}finally{vm=!1,(Bc!==null||Vc!==null)&&(h4(),c4())}}function Dh(t,e){var r=t.stateNode;if(r===null)return null;var n=d1(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(et(231,e,typeof r));return r}var Ng=!1;if(uo)try{var Wf={};Object.defineProperty(Wf,"passive",{get:function(){Ng=!0}}),window.addEventListener("test",Wf,Wf),window.removeEventListener("test",Wf,Wf)}catch{Ng=!1}function X6(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var ch=!1,cp=null,fp=!1,Cg=null,Y6={onError:function(t){ch=!0,cp=t}};function Q6(t,e,r,n,i,s,a,o,l){ch=!1,cp=null,X6.apply(Y6,arguments)}function J6(t,e,r,n,i,s,a,o,l){if(Q6.apply(this,arguments),ch){if(ch){var u=cp;ch=!1,cp=null}else throw Error(et(198));fp||(fp=!0,Cg=u)}}function Ru(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function p4(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Py(t){if(Ru(t)!==t)throw Error(et(188))}function Z6(t){var e=t.alternate;if(!e){if(e=Ru(t),e===null)throw Error(et(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return Py(i),t;if(s===n)return Py(i),e;s=s.sibling}throw Error(et(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(et(189))}}if(r.alternate!==n)throw Error(et(190))}if(r.tag!==3)throw Error(et(188));return r.stateNode.current===r?t:e}function m4(t){return t=Z6(t),t!==null?g4(t):null}function g4(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=g4(t);if(e!==null)return e;t=t.sibling}return null}var v4=ys.unstable_scheduleCallback,ky=ys.unstable_cancelCallback,eb=ys.unstable_shouldYield,tb=ys.unstable_requestPaint,on=ys.unstable_now,rb=ys.unstable_getCurrentPriorityLevel,tv=ys.unstable_ImmediatePriority,y4=ys.unstable_UserBlockingPriority,hp=ys.unstable_NormalPriority,nb=ys.unstable_LowPriority,x4=ys.unstable_IdlePriority,u1=null,ka=null;function ib(t){if(ka&&typeof ka.onCommitFiberRoot=="function")try{ka.onCommitFiberRoot(u1,t,void 0,(t.current.flags&128)===128)}catch{}}var oa=Math.clz32?Math.clz32:ob,sb=Math.log,ab=Math.LN2;function ob(t){return t>>>=0,t===0?32:31-(sb(t)/ab|0)|0}var cd=64,fd=4194304;function nh(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function dp(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=nh(o):(s&=a,s!==0&&(n=nh(s)))}else a=r&~i,a!==0?n=nh(a):s!==0&&(n=nh(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-oa(e),i=1<<r,n|=t[r],e&=~i;return n}function lb(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ub(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-oa(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=lb(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function Ig(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function _4(){var t=cd;return cd<<=1,!(cd&4194240)&&(cd=64),t}function ym(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function y0(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-oa(e),t[e]=r}function cb(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-oa(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function rv(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-oa(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var xr=0;function w4(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var S4,nv,E4,A4,T4,Pg=!1,hd=[],cl=null,fl=null,hl=null,Oh=new Map,Mh=new Map,tl=[],fb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Ly(t,e){switch(t){case"focusin":case"focusout":cl=null;break;case"dragenter":case"dragleave":fl=null;break;case"mouseover":case"mouseout":hl=null;break;case"pointerover":case"pointerout":Oh.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mh.delete(e.pointerId)}}function qf(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_0(e),e!==null&&nv(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function hb(t,e,r,n,i){switch(e){case"focusin":return cl=qf(cl,t,e,r,n,i),!0;case"dragenter":return fl=qf(fl,t,e,r,n,i),!0;case"mouseover":return hl=qf(hl,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Oh.set(s,qf(Oh.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Mh.set(s,qf(Mh.get(s)||null,t,e,r,n,i)),!0}return!1}function b4(t){var e=lu(t.target);if(e!==null){var r=Ru(e);if(r!==null){if(e=r.tag,e===13){if(e=p4(r),e!==null){t.blockedOn=e,T4(t.priority,function(){E4(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Gd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=kg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);Tg=n,r.target.dispatchEvent(n),Tg=null}else return e=_0(r),e!==null&&nv(e),t.blockedOn=r,!1;e.shift()}return!0}function Fy(t,e,r){Gd(t)&&r.delete(e)}function db(){Pg=!1,cl!==null&&Gd(cl)&&(cl=null),fl!==null&&Gd(fl)&&(fl=null),hl!==null&&Gd(hl)&&(hl=null),Oh.forEach(Fy),Mh.forEach(Fy)}function Gf(t,e){t.blockedOn===e&&(t.blockedOn=null,Pg||(Pg=!0,ys.unstable_scheduleCallback(ys.unstable_NormalPriority,db)))}function jh(t){function e(i){return Gf(i,t)}if(0<hd.length){Gf(hd[0],t);for(var r=1;r<hd.length;r++){var n=hd[r];n.blockedOn===t&&(n.blockedOn=null)}}for(cl!==null&&Gf(cl,t),fl!==null&&Gf(fl,t),hl!==null&&Gf(hl,t),Oh.forEach(e),Mh.forEach(e),r=0;r<tl.length;r++)n=tl[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<tl.length&&(r=tl[0],r.blockedOn===null);)b4(r),r.blockedOn===null&&tl.shift()}var Uc=_o.ReactCurrentBatchConfig,pp=!0;function pb(t,e,r,n){var i=xr,s=Uc.transition;Uc.transition=null;try{xr=1,iv(t,e,r,n)}finally{xr=i,Uc.transition=s}}function mb(t,e,r,n){var i=xr,s=Uc.transition;Uc.transition=null;try{xr=4,iv(t,e,r,n)}finally{xr=i,Uc.transition=s}}function iv(t,e,r,n){if(pp){var i=kg(t,e,r,n);if(i===null)Cm(t,e,n,mp,r),Ly(t,n);else if(hb(i,t,e,r,n))n.stopPropagation();else if(Ly(t,n),e&4&&-1<fb.indexOf(t)){for(;i!==null;){var s=_0(i);if(s!==null&&S4(s),s=kg(t,e,r,n),s===null&&Cm(t,e,n,mp,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Cm(t,e,n,null,r)}}var mp=null;function kg(t,e,r,n){if(mp=null,t=ev(n),t=lu(t),t!==null)if(e=Ru(t),e===null)t=null;else if(r=e.tag,r===13){if(t=p4(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return mp=t,null}function N4(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(rb()){case tv:return 1;case y4:return 4;case hp:case nb:return 16;case x4:return 536870912;default:return 16}default:return 16}}var il=null,sv=null,$d=null;function C4(){if($d)return $d;var t,e=sv,r=e.length,n,i="value"in il?il.value:il.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return $d=i.slice(t,1<n?1-n:void 0)}function Kd(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dd(){return!0}function Ry(){return!1}function ws(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dd:Ry,this.isPropagationStopped=Ry,this}return $r(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dd)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dd)},persist:function(){},isPersistent:dd}),e}var pf={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},av=ws(pf),x0=$r({},pf,{view:0,detail:0}),gb=ws(x0),xm,_m,$f,c1=$r({},x0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ov,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$f&&($f&&t.type==="mousemove"?(xm=t.screenX-$f.screenX,_m=t.screenY-$f.screenY):_m=xm=0,$f=t),xm)},movementY:function(t){return"movementY"in t?t.movementY:_m}}),Dy=ws(c1),vb=$r({},c1,{dataTransfer:0}),yb=ws(vb),xb=$r({},x0,{relatedTarget:0}),wm=ws(xb),_b=$r({},pf,{animationName:0,elapsedTime:0,pseudoElement:0}),wb=ws(_b),Sb=$r({},pf,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Eb=ws(Sb),Ab=$r({},pf,{data:0}),Oy=ws(Ab),Tb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},bb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Nb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Cb(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Nb[t])?!!e[t]:!1}function ov(){return Cb}var Ib=$r({},x0,{key:function(t){if(t.key){var e=Tb[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Kd(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?bb[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ov,charCode:function(t){return t.type==="keypress"?Kd(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Kd(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),Pb=ws(Ib),kb=$r({},c1,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),My=ws(kb),Lb=$r({},x0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ov}),Fb=ws(Lb),Rb=$r({},pf,{propertyName:0,elapsedTime:0,pseudoElement:0}),Db=ws(Rb),Ob=$r({},c1,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Mb=ws(Ob),jb=[9,13,27,32],lv=uo&&"CompositionEvent"in window,fh=null;uo&&"documentMode"in document&&(fh=document.documentMode);var Bb=uo&&"TextEvent"in window&&!fh,I4=uo&&(!lv||fh&&8<fh&&11>=fh),jy=" ",By=!1;function P4(t,e){switch(t){case"keyup":return jb.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function k4(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var bc=!1;function Vb(t,e){switch(t){case"compositionend":return k4(e);case"keypress":return e.which!==32?null:(By=!0,jy);case"textInput":return t=e.data,t===jy&&By?null:t;default:return null}}function Ub(t,e){if(bc)return t==="compositionend"||!lv&&P4(t,e)?(t=C4(),$d=sv=il=null,bc=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return I4&&e.locale!=="ko"?null:e.data;default:return null}}var zb={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vy(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!zb[t.type]:e==="textarea"}function L4(t,e,r,n){u4(n),e=gp(e,"onChange"),0<e.length&&(r=new av("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var hh=null,Bh=null;function Hb(t){H4(t,0)}function f1(t){var e=Ic(t);if(r4(e))return t}function Wb(t,e){if(t==="change")return e}var F4=!1;if(uo){var Sm;if(uo){var Em="oninput"in document;if(!Em){var Uy=document.createElement("div");Uy.setAttribute("oninput","return;"),Em=typeof Uy.oninput=="function"}Sm=Em}else Sm=!1;F4=Sm&&(!document.documentMode||9<document.documentMode)}function zy(){hh&&(hh.detachEvent("onpropertychange",R4),Bh=hh=null)}function R4(t){if(t.propertyName==="value"&&f1(Bh)){var e=[];L4(e,Bh,t,ev(t)),d4(Hb,e)}}function qb(t,e,r){t==="focusin"?(zy(),hh=e,Bh=r,hh.attachEvent("onpropertychange",R4)):t==="focusout"&&zy()}function Gb(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return f1(Bh)}function $b(t,e){if(t==="click")return f1(e)}function Kb(t,e){if(t==="input"||t==="change")return f1(e)}function Xb(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fa=typeof Object.is=="function"?Object.is:Xb;function Vh(t,e){if(fa(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!dg.call(e,i)||!fa(t[i],e[i]))return!1}return!0}function Hy(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Wy(t,e){var r=Hy(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=Hy(r)}}function D4(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?D4(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function O4(){for(var t=window,e=up();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=up(t.document)}return e}function uv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function Yb(t){var e=O4(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&D4(r.ownerDocument.documentElement,r)){if(n!==null&&uv(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=Wy(r,s);var a=Wy(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Qb=uo&&"documentMode"in document&&11>=document.documentMode,Nc=null,Lg=null,dh=null,Fg=!1;function qy(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;Fg||Nc==null||Nc!==up(n)||(n=Nc,"selectionStart"in n&&uv(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),dh&&Vh(dh,n)||(dh=n,n=gp(Lg,"onSelect"),0<n.length&&(e=new av("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Nc)))}function pd(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Cc={animationend:pd("Animation","AnimationEnd"),animationiteration:pd("Animation","AnimationIteration"),animationstart:pd("Animation","AnimationStart"),transitionend:pd("Transition","TransitionEnd")},Am={},M4={};uo&&(M4=document.createElement("div").style,"AnimationEvent"in window||(delete Cc.animationend.animation,delete Cc.animationiteration.animation,delete Cc.animationstart.animation),"TransitionEvent"in window||delete Cc.transitionend.transition);function h1(t){if(Am[t])return Am[t];if(!Cc[t])return t;var e=Cc[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in M4)return Am[t]=e[r];return t}var j4=h1("animationend"),B4=h1("animationiteration"),V4=h1("animationstart"),U4=h1("transitionend"),z4=new Map,Gy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Rl(t,e){z4.set(t,e),Fu(e,[t])}for(var Tm=0;Tm<Gy.length;Tm++){var bm=Gy[Tm],Jb=bm.toLowerCase(),Zb=bm[0].toUpperCase()+bm.slice(1);Rl(Jb,"on"+Zb)}Rl(j4,"onAnimationEnd");Rl(B4,"onAnimationIteration");Rl(V4,"onAnimationStart");Rl("dblclick","onDoubleClick");Rl("focusin","onFocus");Rl("focusout","onBlur");Rl(U4,"onTransitionEnd");Yc("onMouseEnter",["mouseout","mouseover"]);Yc("onMouseLeave",["mouseout","mouseover"]);Yc("onPointerEnter",["pointerout","pointerover"]);Yc("onPointerLeave",["pointerout","pointerover"]);Fu("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fu("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fu("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fu("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fu("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ih="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),eN=new Set("cancel close invalid load scroll toggle".split(" ").concat(ih));function $y(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,J6(n,e,void 0,t),t.currentTarget=null}function H4(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;$y(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;$y(i,o,u),s=l}}}if(fp)throw t=Cg,fp=!1,Cg=null,t}function Or(t,e){var r=e[jg];r===void 0&&(r=e[jg]=new Set);var n=t+"__bubble";r.has(n)||(W4(e,t,2,!1),r.add(n))}function Nm(t,e,r){var n=0;e&&(n|=4),W4(r,t,n,e)}var md="_reactListening"+Math.random().toString(36).slice(2);function Uh(t){if(!t[md]){t[md]=!0,Qw.forEach(function(r){r!=="selectionchange"&&(eN.has(r)||Nm(r,!1,t),Nm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[md]||(e[md]=!0,Nm("selectionchange",!1,e))}}function W4(t,e,r,n){switch(N4(e)){case 1:var i=pb;break;case 4:i=mb;break;default:i=iv}r=i.bind(null,e,r,t),i=void 0,!Ng||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Cm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=lu(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}d4(function(){var u=s,c=ev(r),p=[];e:{var m=z4.get(t);if(m!==void 0){var d=av,y=t;switch(t){case"keypress":if(Kd(r)===0)break e;case"keydown":case"keyup":d=Pb;break;case"focusin":y="focus",d=wm;break;case"focusout":y="blur",d=wm;break;case"beforeblur":case"afterblur":d=wm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":d=Dy;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":d=yb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":d=Fb;break;case j4:case B4:case V4:d=wb;break;case U4:d=Db;break;case"scroll":d=gb;break;case"wheel":d=Mb;break;case"copy":case"cut":case"paste":d=Eb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":d=My}var v=(e&4)!==0,T=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var x=u,E;x!==null;){E=x;var L=E.stateNode;if(E.tag===5&&L!==null&&(E=L,_!==null&&(L=Dh(x,_),L!=null&&v.push(zh(x,L,E)))),T)break;x=x.return}0<v.length&&(m=new d(m,y,null,r,c),p.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",d=t==="mouseout"||t==="pointerout",m&&r!==Tg&&(y=r.relatedTarget||r.fromElement)&&(lu(y)||y[co]))break e;if((d||m)&&(m=c.window===c?c:(m=c.ownerDocument)?m.defaultView||m.parentWindow:window,d?(y=r.relatedTarget||r.toElement,d=u,y=y?lu(y):null,y!==null&&(T=Ru(y),y!==T||y.tag!==5&&y.tag!==6)&&(y=null)):(d=null,y=u),d!==y)){if(v=Dy,L="onMouseLeave",_="onMouseEnter",x="mouse",(t==="pointerout"||t==="pointerover")&&(v=My,L="onPointerLeave",_="onPointerEnter",x="pointer"),T=d==null?m:Ic(d),E=y==null?m:Ic(y),m=new v(L,x+"leave",d,r,c),m.target=T,m.relatedTarget=E,L=null,lu(c)===u&&(v=new v(_,x+"enter",y,r,c),v.target=E,v.relatedTarget=T,L=v),T=L,d&&y)t:{for(v=d,_=y,x=0,E=v;E;E=fc(E))x++;for(E=0,L=_;L;L=fc(L))E++;for(;0<x-E;)v=fc(v),x--;for(;0<E-x;)_=fc(_),E--;for(;x--;){if(v===_||_!==null&&v===_.alternate)break t;v=fc(v),_=fc(_)}v=null}else v=null;d!==null&&Ky(p,m,d,v,!1),y!==null&&T!==null&&Ky(p,T,y,v,!0)}}e:{if(m=u?Ic(u):window,d=m.nodeName&&m.nodeName.toLowerCase(),d==="select"||d==="input"&&m.type==="file")var j=Wb;else if(Vy(m))if(F4)j=Kb;else{j=Gb;var z=qb}else(d=m.nodeName)&&d.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(j=$b);if(j&&(j=j(t,u))){L4(p,j,r,c);break e}z&&z(t,m,u),t==="focusout"&&(z=m._wrapperState)&&z.controlled&&m.type==="number"&&_g(m,"number",m.value)}switch(z=u?Ic(u):window,t){case"focusin":(Vy(z)||z.contentEditable==="true")&&(Nc=z,Lg=u,dh=null);break;case"focusout":dh=Lg=Nc=null;break;case"mousedown":Fg=!0;break;case"contextmenu":case"mouseup":case"dragend":Fg=!1,qy(p,r,c);break;case"selectionchange":if(Qb)break;case"keydown":case"keyup":qy(p,r,c)}var w;if(lv)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else bc?P4(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(I4&&r.locale!=="ko"&&(bc||S!=="onCompositionStart"?S==="onCompositionEnd"&&bc&&(w=C4()):(il=c,sv="value"in il?il.value:il.textContent,bc=!0)),z=gp(u,S),0<z.length&&(S=new Oy(S,t,null,r,c),p.push({event:S,listeners:z}),w?S.data=w:(w=k4(r),w!==null&&(S.data=w)))),(w=Bb?Vb(t,r):Ub(t,r))&&(u=gp(u,"onBeforeInput"),0<u.length&&(c=new Oy("onBeforeInput","beforeinput",null,r,c),p.push({event:c,listeners:u}),c.data=w))}H4(p,e)})}function zh(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gp(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Dh(t,r),s!=null&&n.unshift(zh(t,s,i)),s=Dh(t,e),s!=null&&n.push(zh(t,s,i))),t=t.return}return n}function fc(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ky(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Dh(r,s),l!=null&&a.unshift(zh(r,l,o))):i||(l=Dh(r,s),l!=null&&a.push(zh(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var tN=/\r\n?/g,rN=/\u0000|\uFFFD/g;function Xy(t){return(typeof t=="string"?t:""+t).replace(tN,`
`).replace(rN,"")}function gd(t,e,r){if(e=Xy(e),Xy(t)!==e&&r)throw Error(et(425))}function vp(){}var Rg=null,Dg=null;function Og(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Mg=typeof setTimeout=="function"?setTimeout:void 0,nN=typeof clearTimeout=="function"?clearTimeout:void 0,Yy=typeof Promise=="function"?Promise:void 0,iN=typeof queueMicrotask=="function"?queueMicrotask:typeof Yy<"u"?function(t){return Yy.resolve(null).then(t).catch(sN)}:Mg;function sN(t){setTimeout(function(){throw t})}function Im(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),jh(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);jh(e)}function dl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Qy(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var mf=Math.random().toString(36).slice(2),Ca="__reactFiber$"+mf,Hh="__reactProps$"+mf,co="__reactContainer$"+mf,jg="__reactEvents$"+mf,aN="__reactListeners$"+mf,oN="__reactHandles$"+mf;function lu(t){var e=t[Ca];if(e)return e;for(var r=t.parentNode;r;){if(e=r[co]||r[Ca]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=Qy(t);t!==null;){if(r=t[Ca])return r;t=Qy(t)}return e}t=r,r=t.parentNode}return null}function _0(t){return t=t[Ca]||t[co],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ic(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(et(33))}function d1(t){return t[Hh]||null}var Bg=[],Pc=-1;function Dl(t){return{current:t}}function Vr(t){0>Pc||(t.current=Bg[Pc],Bg[Pc]=null,Pc--)}function Lr(t,e){Pc++,Bg[Pc]=t.current,t.current=e}var Al={},_i=Dl(Al),Gi=Dl(!1),wu=Al;function Qc(t,e){var r=t.type.contextTypes;if(!r)return Al;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function $i(t){return t=t.childContextTypes,t!=null}function yp(){Vr(Gi),Vr(_i)}function Jy(t,e,r){if(_i.current!==Al)throw Error(et(168));Lr(_i,e),Lr(Gi,r)}function q4(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(et(108,q6(t)||"Unknown",i));return $r({},r,n)}function xp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Al,wu=_i.current,Lr(_i,t),Lr(Gi,Gi.current),!0}function Zy(t,e,r){var n=t.stateNode;if(!n)throw Error(et(169));r?(t=q4(t,e,wu),n.__reactInternalMemoizedMergedChildContext=t,Vr(Gi),Vr(_i),Lr(_i,t)):Vr(Gi),Lr(Gi,r)}var to=null,p1=!1,Pm=!1;function G4(t){to===null?to=[t]:to.push(t)}function lN(t){p1=!0,G4(t)}function Ol(){if(!Pm&&to!==null){Pm=!0;var t=0,e=xr;try{var r=to;for(xr=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}to=null,p1=!1}catch(i){throw to!==null&&(to=to.slice(t+1)),v4(tv,Ol),i}finally{xr=e,Pm=!1}}return null}var kc=[],Lc=0,_p=null,wp=0,Fs=[],Rs=0,Su=null,no=1,io="";function nu(t,e){kc[Lc++]=wp,kc[Lc++]=_p,_p=t,wp=e}function $4(t,e,r){Fs[Rs++]=no,Fs[Rs++]=io,Fs[Rs++]=Su,Su=t;var n=no;t=io;var i=32-oa(n)-1;n&=~(1<<i),r+=1;var s=32-oa(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,no=1<<32-oa(e)+i|r<<i|n,io=s+t}else no=1<<s|r<<i|n,io=t}function cv(t){t.return!==null&&(nu(t,1),$4(t,1,0))}function fv(t){for(;t===_p;)_p=kc[--Lc],kc[Lc]=null,wp=kc[--Lc],kc[Lc]=null;for(;t===Su;)Su=Fs[--Rs],Fs[Rs]=null,io=Fs[--Rs],Fs[Rs]=null,no=Fs[--Rs],Fs[Rs]=null}var gs=null,ds=null,Hr=!1,ia=null;function K4(t,e){var r=Ds(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function ex(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,gs=t,ds=dl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,gs=t,ds=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Su!==null?{id:no,overflow:io}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Ds(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,gs=t,ds=null,!0):!1;default:return!1}}function Vg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ug(t){if(Hr){var e=ds;if(e){var r=e;if(!ex(t,e)){if(Vg(t))throw Error(et(418));e=dl(r.nextSibling);var n=gs;e&&ex(t,e)?K4(n,r):(t.flags=t.flags&-4097|2,Hr=!1,gs=t)}}else{if(Vg(t))throw Error(et(418));t.flags=t.flags&-4097|2,Hr=!1,gs=t}}}function tx(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;gs=t}function vd(t){if(t!==gs)return!1;if(!Hr)return tx(t),Hr=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Og(t.type,t.memoizedProps)),e&&(e=ds)){if(Vg(t))throw X4(),Error(et(418));for(;e;)K4(t,e),e=dl(e.nextSibling)}if(tx(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(et(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ds=dl(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ds=null}}else ds=gs?dl(t.stateNode.nextSibling):null;return!0}function X4(){for(var t=ds;t;)t=dl(t.nextSibling)}function Jc(){ds=gs=null,Hr=!1}function hv(t){ia===null?ia=[t]:ia.push(t)}var uN=_o.ReactCurrentBatchConfig;function Kf(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(et(309));var n=r.stateNode}if(!n)throw Error(et(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(et(284));if(!r._owner)throw Error(et(290,t))}return t}function yd(t,e){throw t=Object.prototype.toString.call(e),Error(et(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function rx(t){var e=t._init;return e(t._payload)}function Y4(t){function e(_,x){if(t){var E=_.deletions;E===null?(_.deletions=[x],_.flags|=16):E.push(x)}}function r(_,x){if(!t)return null;for(;x!==null;)e(_,x),x=x.sibling;return null}function n(_,x){for(_=new Map;x!==null;)x.key!==null?_.set(x.key,x):_.set(x.index,x),x=x.sibling;return _}function i(_,x){return _=vl(_,x),_.index=0,_.sibling=null,_}function s(_,x,E){return _.index=E,t?(E=_.alternate,E!==null?(E=E.index,E<x?(_.flags|=2,x):E):(_.flags|=2,x)):(_.flags|=1048576,x)}function a(_){return t&&_.alternate===null&&(_.flags|=2),_}function o(_,x,E,L){return x===null||x.tag!==6?(x=Mm(E,_.mode,L),x.return=_,x):(x=i(x,E),x.return=_,x)}function l(_,x,E,L){var j=E.type;return j===Tc?c(_,x,E.props.children,L,E.key):x!==null&&(x.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Zo&&rx(j)===x.type)?(L=i(x,E.props),L.ref=Kf(_,x,E),L.return=_,L):(L=tp(E.type,E.key,E.props,null,_.mode,L),L.ref=Kf(_,x,E),L.return=_,L)}function u(_,x,E,L){return x===null||x.tag!==4||x.stateNode.containerInfo!==E.containerInfo||x.stateNode.implementation!==E.implementation?(x=jm(E,_.mode,L),x.return=_,x):(x=i(x,E.children||[]),x.return=_,x)}function c(_,x,E,L,j){return x===null||x.tag!==7?(x=pu(E,_.mode,L,j),x.return=_,x):(x=i(x,E),x.return=_,x)}function p(_,x,E){if(typeof x=="string"&&x!==""||typeof x=="number")return x=Mm(""+x,_.mode,E),x.return=_,x;if(typeof x=="object"&&x!==null){switch(x.$$typeof){case od:return E=tp(x.type,x.key,x.props,null,_.mode,E),E.ref=Kf(_,null,x),E.return=_,E;case Ac:return x=jm(x,_.mode,E),x.return=_,x;case Zo:var L=x._init;return p(_,L(x._payload),E)}if(rh(x)||Hf(x))return x=pu(x,_.mode,E,null),x.return=_,x;yd(_,x)}return null}function m(_,x,E,L){var j=x!==null?x.key:null;if(typeof E=="string"&&E!==""||typeof E=="number")return j!==null?null:o(_,x,""+E,L);if(typeof E=="object"&&E!==null){switch(E.$$typeof){case od:return E.key===j?l(_,x,E,L):null;case Ac:return E.key===j?u(_,x,E,L):null;case Zo:return j=E._init,m(_,x,j(E._payload),L)}if(rh(E)||Hf(E))return j!==null?null:c(_,x,E,L,null);yd(_,E)}return null}function d(_,x,E,L,j){if(typeof L=="string"&&L!==""||typeof L=="number")return _=_.get(E)||null,o(x,_,""+L,j);if(typeof L=="object"&&L!==null){switch(L.$$typeof){case od:return _=_.get(L.key===null?E:L.key)||null,l(x,_,L,j);case Ac:return _=_.get(L.key===null?E:L.key)||null,u(x,_,L,j);case Zo:var z=L._init;return d(_,x,E,z(L._payload),j)}if(rh(L)||Hf(L))return _=_.get(E)||null,c(x,_,L,j,null);yd(x,L)}return null}function y(_,x,E,L){for(var j=null,z=null,w=x,S=x=0,I=null;w!==null&&S<E.length;S++){w.index>S?(I=w,w=null):I=w.sibling;var F=m(_,w,E[S],L);if(F===null){w===null&&(w=I);break}t&&w&&F.alternate===null&&e(_,w),x=s(F,x,S),z===null?j=F:z.sibling=F,z=F,w=I}if(S===E.length)return r(_,w),Hr&&nu(_,S),j;if(w===null){for(;S<E.length;S++)w=p(_,E[S],L),w!==null&&(x=s(w,x,S),z===null?j=w:z.sibling=w,z=w);return Hr&&nu(_,S),j}for(w=n(_,w);S<E.length;S++)I=d(w,_,S,E[S],L),I!==null&&(t&&I.alternate!==null&&w.delete(I.key===null?S:I.key),x=s(I,x,S),z===null?j=I:z.sibling=I,z=I);return t&&w.forEach(function(N){return e(_,N)}),Hr&&nu(_,S),j}function v(_,x,E,L){var j=Hf(E);if(typeof j!="function")throw Error(et(150));if(E=j.call(E),E==null)throw Error(et(151));for(var z=j=null,w=x,S=x=0,I=null,F=E.next();w!==null&&!F.done;S++,F=E.next()){w.index>S?(I=w,w=null):I=w.sibling;var N=m(_,w,F.value,L);if(N===null){w===null&&(w=I);break}t&&w&&N.alternate===null&&e(_,w),x=s(N,x,S),z===null?j=N:z.sibling=N,z=N,w=I}if(F.done)return r(_,w),Hr&&nu(_,S),j;if(w===null){for(;!F.done;S++,F=E.next())F=p(_,F.value,L),F!==null&&(x=s(F,x,S),z===null?j=F:z.sibling=F,z=F);return Hr&&nu(_,S),j}for(w=n(_,w);!F.done;S++,F=E.next())F=d(w,_,S,F.value,L),F!==null&&(t&&F.alternate!==null&&w.delete(F.key===null?S:F.key),x=s(F,x,S),z===null?j=F:z.sibling=F,z=F);return t&&w.forEach(function(b){return e(_,b)}),Hr&&nu(_,S),j}function T(_,x,E,L){if(typeof E=="object"&&E!==null&&E.type===Tc&&E.key===null&&(E=E.props.children),typeof E=="object"&&E!==null){switch(E.$$typeof){case od:e:{for(var j=E.key,z=x;z!==null;){if(z.key===j){if(j=E.type,j===Tc){if(z.tag===7){r(_,z.sibling),x=i(z,E.props.children),x.return=_,_=x;break e}}else if(z.elementType===j||typeof j=="object"&&j!==null&&j.$$typeof===Zo&&rx(j)===z.type){r(_,z.sibling),x=i(z,E.props),x.ref=Kf(_,z,E),x.return=_,_=x;break e}r(_,z);break}else e(_,z);z=z.sibling}E.type===Tc?(x=pu(E.props.children,_.mode,L,E.key),x.return=_,_=x):(L=tp(E.type,E.key,E.props,null,_.mode,L),L.ref=Kf(_,x,E),L.return=_,_=L)}return a(_);case Ac:e:{for(z=E.key;x!==null;){if(x.key===z)if(x.tag===4&&x.stateNode.containerInfo===E.containerInfo&&x.stateNode.implementation===E.implementation){r(_,x.sibling),x=i(x,E.children||[]),x.return=_,_=x;break e}else{r(_,x);break}else e(_,x);x=x.sibling}x=jm(E,_.mode,L),x.return=_,_=x}return a(_);case Zo:return z=E._init,T(_,x,z(E._payload),L)}if(rh(E))return y(_,x,E,L);if(Hf(E))return v(_,x,E,L);yd(_,E)}return typeof E=="string"&&E!==""||typeof E=="number"?(E=""+E,x!==null&&x.tag===6?(r(_,x.sibling),x=i(x,E),x.return=_,_=x):(r(_,x),x=Mm(E,_.mode,L),x.return=_,_=x),a(_)):r(_,x)}return T}var Zc=Y4(!0),Q4=Y4(!1),Sp=Dl(null),Ep=null,Fc=null,dv=null;function pv(){dv=Fc=Ep=null}function mv(t){var e=Sp.current;Vr(Sp),t._currentValue=e}function zg(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function zc(t,e){Ep=t,dv=Fc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(qi=!0),t.firstContext=null)}function Ms(t){var e=t._currentValue;if(dv!==t)if(t={context:t,memoizedValue:e,next:null},Fc===null){if(Ep===null)throw Error(et(308));Fc=t,Ep.dependencies={lanes:0,firstContext:t}}else Fc=Fc.next=t;return e}var uu=null;function gv(t){uu===null?uu=[t]:uu.push(t)}function J4(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,gv(e)):(r.next=i.next,i.next=r),e.interleaved=r,fo(t,n)}function fo(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var el=!1;function vv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Z4(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function so(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function pl(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,ir&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,fo(t,r)}return i=n.interleaved,i===null?(e.next=e,gv(n)):(e.next=i.next,i.next=e),n.interleaved=e,fo(t,r)}function Xd(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rv(t,r)}}function nx(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Ap(t,e,r,n){var i=t.updateQueue;el=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;a=0,c=u=l=null,o=s;do{var m=o.lane,d=o.eventTime;if((n&m)===m){c!==null&&(c=c.next={eventTime:d,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var y=t,v=o;switch(m=e,d=r,v.tag){case 1:if(y=v.payload,typeof y=="function"){p=y.call(d,p,m);break e}p=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=v.payload,m=typeof y=="function"?y.call(d,p,m):y,m==null)break e;p=$r({},p,m);break e;case 2:el=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[o]:m.push(o))}else d={eventTime:d,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=d,l=p):c=c.next=d,a|=m;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;m=o,o=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(c===null&&(l=p),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Au|=a,t.lanes=a,t.memoizedState=p}}function ix(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(et(191,i));i.call(n)}}}var w0={},La=Dl(w0),Wh=Dl(w0),qh=Dl(w0);function cu(t){if(t===w0)throw Error(et(174));return t}function yv(t,e){switch(Lr(qh,e),Lr(Wh,t),Lr(La,w0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Sg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Sg(e,t)}Vr(La),Lr(La,e)}function ef(){Vr(La),Vr(Wh),Vr(qh)}function e3(t){cu(qh.current);var e=cu(La.current),r=Sg(e,t.type);e!==r&&(Lr(Wh,t),Lr(La,r))}function xv(t){Wh.current===t&&(Vr(La),Vr(Wh))}var qr=Dl(0);function Tp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var km=[];function _v(){for(var t=0;t<km.length;t++)km[t]._workInProgressVersionPrimary=null;km.length=0}var Yd=_o.ReactCurrentDispatcher,Lm=_o.ReactCurrentBatchConfig,Eu=0,Gr=null,bn=null,Dn=null,bp=!1,ph=!1,Gh=0,cN=0;function oi(){throw Error(et(321))}function wv(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!fa(t[r],e[r]))return!1;return!0}function Sv(t,e,r,n,i,s){if(Eu=s,Gr=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Yd.current=t===null||t.memoizedState===null?pN:mN,t=r(n,i),ph){s=0;do{if(ph=!1,Gh=0,25<=s)throw Error(et(301));s+=1,Dn=bn=null,e.updateQueue=null,Yd.current=gN,t=r(n,i)}while(ph)}if(Yd.current=Np,e=bn!==null&&bn.next!==null,Eu=0,Dn=bn=Gr=null,bp=!1,e)throw Error(et(300));return t}function Ev(){var t=Gh!==0;return Gh=0,t}function Na(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Dn===null?Gr.memoizedState=Dn=t:Dn=Dn.next=t,Dn}function js(){if(bn===null){var t=Gr.alternate;t=t!==null?t.memoizedState:null}else t=bn.next;var e=Dn===null?Gr.memoizedState:Dn.next;if(e!==null)Dn=e,bn=t;else{if(t===null)throw Error(et(310));bn=t,t={memoizedState:bn.memoizedState,baseState:bn.baseState,baseQueue:bn.baseQueue,queue:bn.queue,next:null},Dn===null?Gr.memoizedState=Dn=t:Dn=Dn.next=t}return Dn}function $h(t,e){return typeof e=="function"?e(t):e}function Fm(t){var e=js(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=bn,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Eu&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var p={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=p,a=n):l=l.next=p,Gr.lanes|=c,Au|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,fa(n,e.memoizedState)||(qi=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Gr.lanes|=s,Au|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Rm(t){var e=js(),r=e.queue;if(r===null)throw Error(et(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fa(s,e.memoizedState)||(qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function t3(){}function r3(t,e){var r=Gr,n=js(),i=e(),s=!fa(n.memoizedState,i);if(s&&(n.memoizedState=i,qi=!0),n=n.queue,Av(s3.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Dn!==null&&Dn.memoizedState.tag&1){if(r.flags|=2048,Kh(9,i3.bind(null,r,n,i,e),void 0,null),Bn===null)throw Error(et(349));Eu&30||n3(r,e,i)}return i}function n3(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Gr.updateQueue,e===null?(e={lastEffect:null,stores:null},Gr.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function i3(t,e,r,n){e.value=r,e.getSnapshot=n,a3(e)&&o3(t)}function s3(t,e,r){return r(function(){a3(e)&&o3(t)})}function a3(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fa(t,r)}catch{return!0}}function o3(t){var e=fo(t,1);e!==null&&la(e,t,1,-1)}function sx(t){var e=Na();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$h,lastRenderedState:t},e.queue=t,t=t.dispatch=dN.bind(null,Gr,t),[e.memoizedState,t]}function Kh(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Gr.updateQueue,e===null?(e={lastEffect:null,stores:null},Gr.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function l3(){return js().memoizedState}function Qd(t,e,r,n){var i=Na();Gr.flags|=t,i.memoizedState=Kh(1|e,r,void 0,n===void 0?null:n)}function m1(t,e,r,n){var i=js();n=n===void 0?null:n;var s=void 0;if(bn!==null){var a=bn.memoizedState;if(s=a.destroy,n!==null&&wv(n,a.deps)){i.memoizedState=Kh(e,r,s,n);return}}Gr.flags|=t,i.memoizedState=Kh(1|e,r,s,n)}function ax(t,e){return Qd(8390656,8,t,e)}function Av(t,e){return m1(2048,8,t,e)}function u3(t,e){return m1(4,2,t,e)}function c3(t,e){return m1(4,4,t,e)}function f3(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function h3(t,e,r){return r=r!=null?r.concat([t]):null,m1(4,4,f3.bind(null,e,t),r)}function Tv(){}function d3(t,e){var r=js();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wv(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function p3(t,e){var r=js();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&wv(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function m3(t,e,r){return Eu&21?(fa(r,e)||(r=_4(),Gr.lanes|=r,Au|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,qi=!0),t.memoizedState=r)}function fN(t,e){var r=xr;xr=r!==0&&4>r?r:4,t(!0);var n=Lm.transition;Lm.transition={};try{t(!1),e()}finally{xr=r,Lm.transition=n}}function g3(){return js().memoizedState}function hN(t,e,r){var n=gl(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},v3(t))y3(e,r);else if(r=J4(t,e,r,n),r!==null){var i=ki();la(r,t,n,i),x3(r,e,n)}}function dN(t,e,r){var n=gl(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(v3(t))y3(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,fa(o,a)){var l=e.interleaved;l===null?(i.next=i,gv(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=J4(t,e,i,n),r!==null&&(i=ki(),la(r,t,n,i),x3(r,e,n))}}function v3(t){var e=t.alternate;return t===Gr||e!==null&&e===Gr}function y3(t,e){ph=bp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function x3(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,rv(t,r)}}var Np={readContext:Ms,useCallback:oi,useContext:oi,useEffect:oi,useImperativeHandle:oi,useInsertionEffect:oi,useLayoutEffect:oi,useMemo:oi,useReducer:oi,useRef:oi,useState:oi,useDebugValue:oi,useDeferredValue:oi,useTransition:oi,useMutableSource:oi,useSyncExternalStore:oi,useId:oi,unstable_isNewReconciler:!1},pN={readContext:Ms,useCallback:function(t,e){return Na().memoizedState=[t,e===void 0?null:e],t},useContext:Ms,useEffect:ax,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Qd(4194308,4,f3.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Qd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Qd(4,2,t,e)},useMemo:function(t,e){var r=Na();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=Na();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=hN.bind(null,Gr,t),[n.memoizedState,t]},useRef:function(t){var e=Na();return t={current:t},e.memoizedState=t},useState:sx,useDebugValue:Tv,useDeferredValue:function(t){return Na().memoizedState=t},useTransition:function(){var t=sx(!1),e=t[0];return t=fN.bind(null,t[1]),Na().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Gr,i=Na();if(Hr){if(r===void 0)throw Error(et(407));r=r()}else{if(r=e(),Bn===null)throw Error(et(349));Eu&30||n3(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,ax(s3.bind(null,n,s,t),[t]),n.flags|=2048,Kh(9,i3.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=Na(),e=Bn.identifierPrefix;if(Hr){var r=io,n=no;r=(n&~(1<<32-oa(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Gh++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=cN++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},mN={readContext:Ms,useCallback:d3,useContext:Ms,useEffect:Av,useImperativeHandle:h3,useInsertionEffect:u3,useLayoutEffect:c3,useMemo:p3,useReducer:Fm,useRef:l3,useState:function(){return Fm($h)},useDebugValue:Tv,useDeferredValue:function(t){var e=js();return m3(e,bn.memoizedState,t)},useTransition:function(){var t=Fm($h)[0],e=js().memoizedState;return[t,e]},useMutableSource:t3,useSyncExternalStore:r3,useId:g3,unstable_isNewReconciler:!1},gN={readContext:Ms,useCallback:d3,useContext:Ms,useEffect:Av,useImperativeHandle:h3,useInsertionEffect:u3,useLayoutEffect:c3,useMemo:p3,useReducer:Rm,useRef:l3,useState:function(){return Rm($h)},useDebugValue:Tv,useDeferredValue:function(t){var e=js();return bn===null?e.memoizedState=t:m3(e,bn.memoizedState,t)},useTransition:function(){var t=Rm($h)[0],e=js().memoizedState;return[t,e]},useMutableSource:t3,useSyncExternalStore:r3,useId:g3,unstable_isNewReconciler:!1};function ta(t,e){if(t&&t.defaultProps){e=$r({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function Hg(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$r({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var g1={isMounted:function(t){return(t=t._reactInternals)?Ru(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=ki(),i=gl(t),s=so(n,i);s.payload=e,r!=null&&(s.callback=r),e=pl(t,s,i),e!==null&&(la(e,t,i,n),Xd(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=ki(),i=gl(t),s=so(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=pl(t,s,i),e!==null&&(la(e,t,i,n),Xd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=ki(),n=gl(t),i=so(r,n);i.tag=2,e!=null&&(i.callback=e),e=pl(t,i,n),e!==null&&(la(e,t,n,r),Xd(e,t,n))}};function ox(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Vh(r,n)||!Vh(i,s):!0}function _3(t,e,r){var n=!1,i=Al,s=e.contextType;return typeof s=="object"&&s!==null?s=Ms(s):(i=$i(e)?wu:_i.current,n=e.contextTypes,s=(n=n!=null)?Qc(t,i):Al),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=g1,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function lx(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&g1.enqueueReplaceState(e,e.state,null)}function Wg(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},vv(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Ms(s):(s=$i(e)?wu:_i.current,i.context=Qc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Hg(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&g1.enqueueReplaceState(i,i.state,null),Ap(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function tf(t,e){try{var r="",n=e;do r+=W6(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function qg(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var vN=typeof WeakMap=="function"?WeakMap:Map;function w3(t,e,r){r=so(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Ip||(Ip=!0,t2=n),qg(t,e)},r}function S3(t,e,r){r=so(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){qg(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){qg(t,e),typeof n!="function"&&(ml===null?ml=new Set([this]):ml.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function ux(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new vN;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=kN.bind(null,t,e,r),e.then(t,t))}function cx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function fx(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=so(-1,1),e.tag=2,pl(r,e,1))),r.lanes|=1),t)}var yN=_o.ReactCurrentOwner,qi=!1;function Ci(t,e,r,n){e.child=t===null?Q4(e,null,r,n):Zc(e,t.child,r,n)}function hx(t,e,r,n,i){r=r.render;var s=e.ref;return zc(e,i),n=Sv(t,e,r,n,s,i),r=Ev(),t!==null&&!qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ho(t,e,i)):(Hr&&r&&cv(e),e.flags|=1,Ci(t,e,n,i),e.child)}function dx(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Fv(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,E3(t,e,s,n,i)):(t=tp(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Vh,r(a,n)&&t.ref===e.ref)return ho(t,e,i)}return e.flags|=1,t=vl(s,n),t.ref=e.ref,t.return=e,e.child=t}function E3(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Vh(s,n)&&t.ref===e.ref)if(qi=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(qi=!0);else return e.lanes=t.lanes,ho(t,e,i)}return Gg(t,e,r,n,i)}function A3(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Lr(Dc,us),us|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Lr(Dc,us),us|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,Lr(Dc,us),us|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,Lr(Dc,us),us|=n;return Ci(t,e,i,r),e.child}function T3(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function Gg(t,e,r,n,i){var s=$i(r)?wu:_i.current;return s=Qc(e,s),zc(e,i),r=Sv(t,e,r,n,s,i),n=Ev(),t!==null&&!qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ho(t,e,i)):(Hr&&n&&cv(e),e.flags|=1,Ci(t,e,r,i),e.child)}function px(t,e,r,n,i){if($i(r)){var s=!0;xp(e)}else s=!1;if(zc(e,i),e.stateNode===null)Jd(t,e),_3(e,r,n),Wg(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Ms(u):(u=$i(r)?wu:_i.current,u=Qc(e,u));var c=r.getDerivedStateFromProps,p=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";p||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&lx(e,a,n,u),el=!1;var m=e.memoizedState;a.state=m,Ap(e,n,a,i),l=e.memoizedState,o!==n||m!==l||Gi.current||el?(typeof c=="function"&&(Hg(e,r,c,n),l=e.memoizedState),(o=el||ox(e,r,o,n,m,l,u))?(p||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,Z4(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:ta(e.type,o),a.props=u,p=e.pendingProps,m=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Ms(l):(l=$i(r)?wu:_i.current,l=Qc(e,l));var d=r.getDerivedStateFromProps;(c=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==p||m!==l)&&lx(e,a,n,l),el=!1,m=e.memoizedState,a.state=m,Ap(e,n,a,i);var y=e.memoizedState;o!==p||m!==y||Gi.current||el?(typeof d=="function"&&(Hg(e,r,d,n),y=e.memoizedState),(u=el||ox(e,r,u,n,m,y,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,y,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,y,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=y),a.props=n,a.state=y,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),n=!1)}return $g(t,e,r,n,s,i)}function $g(t,e,r,n,i,s){T3(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&Zy(e,r,!1),ho(t,e,s);n=e.stateNode,yN.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Zc(e,t.child,null,s),e.child=Zc(e,null,o,s)):Ci(t,e,o,s),e.memoizedState=n.state,i&&Zy(e,r,!0),e.child}function b3(t){var e=t.stateNode;e.pendingContext?Jy(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Jy(t,e.context,!1),yv(t,e.containerInfo)}function mx(t,e,r,n,i){return Jc(),hv(i),e.flags|=256,Ci(t,e,r,n),e.child}var Kg={dehydrated:null,treeContext:null,retryLane:0};function Xg(t){return{baseLanes:t,cachePool:null,transitions:null}}function N3(t,e,r){var n=e.pendingProps,i=qr.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Lr(qr,i&1),t===null)return Ug(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=x1(a,n,0,null),t=pu(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=Xg(r),e.memoizedState=Kg,t):bv(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return xN(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=vl(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=vl(o,s):(s=pu(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?Xg(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=Kg,n}return s=t.child,t=s.sibling,n=vl(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function bv(t,e){return e=x1({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function xd(t,e,r,n){return n!==null&&hv(n),Zc(e,t.child,null,r),t=bv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xN(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Dm(Error(et(422))),xd(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=x1({mode:"visible",children:n.children},i,0,null),s=pu(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Zc(e,t.child,null,a),e.child.memoizedState=Xg(a),e.memoizedState=Kg,s);if(!(e.mode&1))return xd(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(et(419)),n=Dm(s,n,void 0),xd(t,e,a,n)}if(o=(a&t.childLanes)!==0,qi||o){if(n=Bn,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fo(t,i),la(n,t,i,-1))}return Lv(),n=Dm(Error(et(421))),xd(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LN.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ds=dl(i.nextSibling),gs=e,Hr=!0,ia=null,t!==null&&(Fs[Rs++]=no,Fs[Rs++]=io,Fs[Rs++]=Su,no=t.id,io=t.overflow,Su=e),e=bv(e,n.children),e.flags|=4096,e)}function gx(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),zg(t.return,e,r)}function Om(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function C3(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Ci(t,e,n.children,r),n=qr.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&gx(t,r,e);else if(t.tag===19)gx(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(Lr(qr,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Tp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Om(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Om(e,!0,r,null,s);break;case"together":Om(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Jd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ho(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Au|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(et(153));if(e.child!==null){for(t=e.child,r=vl(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=vl(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _N(t,e,r){switch(e.tag){case 3:b3(e),Jc();break;case 5:e3(e);break;case 1:$i(e.type)&&xp(e);break;case 4:yv(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;Lr(Sp,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(Lr(qr,qr.current&1),e.flags|=128,null):r&e.child.childLanes?N3(t,e,r):(Lr(qr,qr.current&1),t=ho(t,e,r),t!==null?t.sibling:null);Lr(qr,qr.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return C3(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Lr(qr,qr.current),n)break;return null;case 22:case 23:return e.lanes=0,A3(t,e,r)}return ho(t,e,r)}var I3,Yg,P3,k3;I3=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};Yg=function(){};P3=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,cu(La.current);var s=null;switch(r){case"input":i=yg(t,i),n=yg(t,n),s=[];break;case"select":i=$r({},i,{value:void 0}),n=$r({},n,{value:void 0}),s=[];break;case"textarea":i=wg(t,i),n=wg(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vp)}Eg(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Fh.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Fh.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&Or("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};k3=function(t,e,r,n){r!==n&&(e.flags|=4)};function Xf(t,e){if(!Hr)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function li(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function wN(t,e,r){var n=e.pendingProps;switch(fv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return li(e),null;case 1:return $i(e.type)&&yp(),li(e),null;case 3:return n=e.stateNode,ef(),Vr(Gi),Vr(_i),_v(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(vd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ia!==null&&(i2(ia),ia=null))),Yg(t,e),li(e),null;case 5:xv(e);var i=cu(qh.current);if(r=e.type,t!==null&&e.stateNode!=null)P3(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(et(166));return li(e),null}if(t=cu(La.current),vd(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ca]=e,n[Hh]=s,t=(e.mode&1)!==0,r){case"dialog":Or("cancel",n),Or("close",n);break;case"iframe":case"object":case"embed":Or("load",n);break;case"video":case"audio":for(i=0;i<ih.length;i++)Or(ih[i],n);break;case"source":Or("error",n);break;case"img":case"image":case"link":Or("error",n),Or("load",n);break;case"details":Or("toggle",n);break;case"input":Ty(n,s),Or("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},Or("invalid",n);break;case"textarea":Ny(n,s),Or("invalid",n)}Eg(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&gd(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&gd(n.textContent,o,t),i=["children",""+o]):Fh.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&Or("scroll",n)}switch(r){case"input":ld(n),by(n,s,!0);break;case"textarea":ld(n),Cy(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=vp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=s4(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ca]=e,t[Hh]=n,I3(t,e,!1,!1),e.stateNode=t;e:{switch(a=Ag(r,n),r){case"dialog":Or("cancel",t),Or("close",t),i=n;break;case"iframe":case"object":case"embed":Or("load",t),i=n;break;case"video":case"audio":for(i=0;i<ih.length;i++)Or(ih[i],t);i=n;break;case"source":Or("error",t),i=n;break;case"img":case"image":case"link":Or("error",t),Or("load",t),i=n;break;case"details":Or("toggle",t),i=n;break;case"input":Ty(t,n),i=yg(t,n),Or("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$r({},n,{value:void 0}),Or("invalid",t);break;case"textarea":Ny(t,n),i=wg(t,n),Or("invalid",t);break;default:i=n}Eg(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?l4(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&a4(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rh(t,l):typeof l=="number"&&Rh(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fh.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Or("scroll",t):l!=null&&Y2(t,s,l,a))}switch(r){case"input":ld(t),by(t,n,!1);break;case"textarea":ld(t),Cy(t);break;case"option":n.value!=null&&t.setAttribute("value",""+El(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?jc(t,!!n.multiple,s,!1):n.defaultValue!=null&&jc(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return li(e),null;case 6:if(t&&e.stateNode!=null)k3(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(et(166));if(r=cu(qh.current),cu(La.current),vd(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ca]=e,(s=n.nodeValue!==r)&&(t=gs,t!==null))switch(t.tag){case 3:gd(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&gd(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ca]=e,e.stateNode=n}return li(e),null;case 13:if(Vr(qr),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Hr&&ds!==null&&e.mode&1&&!(e.flags&128))X4(),Jc(),e.flags|=98560,s=!1;else if(s=vd(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(et(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(et(317));s[Ca]=e}else Jc(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;li(e),s=!1}else ia!==null&&(i2(ia),ia=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||qr.current&1?In===0&&(In=3):Lv())),e.updateQueue!==null&&(e.flags|=4),li(e),null);case 4:return ef(),Yg(t,e),t===null&&Uh(e.stateNode.containerInfo),li(e),null;case 10:return mv(e.type._context),li(e),null;case 17:return $i(e.type)&&yp(),li(e),null;case 19:if(Vr(qr),s=e.memoizedState,s===null)return li(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Xf(s,!1);else{if(In!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Tp(t),a!==null){for(e.flags|=128,Xf(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return Lr(qr,qr.current&1|2),e.child}t=t.sibling}s.tail!==null&&on()>rf&&(e.flags|=128,n=!0,Xf(s,!1),e.lanes=4194304)}else{if(!n)if(t=Tp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Xf(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Hr)return li(e),null}else 2*on()-s.renderingStartTime>rf&&r!==1073741824&&(e.flags|=128,n=!0,Xf(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=on(),e.sibling=null,r=qr.current,Lr(qr,n?r&1|2:r&1),e):(li(e),null);case 22:case 23:return kv(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?us&1073741824&&(li(e),e.subtreeFlags&6&&(e.flags|=8192)):li(e),null;case 24:return null;case 25:return null}throw Error(et(156,e.tag))}function SN(t,e){switch(fv(e),e.tag){case 1:return $i(e.type)&&yp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ef(),Vr(Gi),Vr(_i),_v(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xv(e),null;case 13:if(Vr(qr),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(et(340));Jc()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Vr(qr),null;case 4:return ef(),null;case 10:return mv(e.type._context),null;case 22:case 23:return kv(),null;case 24:return null;default:return null}}var _d=!1,mi=!1,EN=typeof WeakSet=="function"?WeakSet:Set,yt=null;function Rc(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){en(t,e,n)}else r.current=null}function Qg(t,e,r){try{r()}catch(n){en(t,e,n)}}var vx=!1;function AN(t,e){if(Rg=pp,t=O4(),uv(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,p=t,m=null;t:for(;;){for(var d;p!==r||i!==0&&p.nodeType!==3||(o=a+i),p!==s||n!==0&&p.nodeType!==3||(l=a+n),p.nodeType===3&&(a+=p.nodeValue.length),(d=p.firstChild)!==null;)m=p,p=d;for(;;){if(p===t)break t;if(m===r&&++u===i&&(o=a),m===s&&++c===n&&(l=a),(d=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=d}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(Dg={focusedElem:t,selectionRange:r},pp=!1,yt=e;yt!==null;)if(e=yt,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,yt=t;else for(;yt!==null;){e=yt;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var v=y.memoizedProps,T=y.memoizedState,_=e.stateNode,x=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:ta(e.type,v),T);_.__reactInternalSnapshotBeforeUpdate=x}break;case 3:var E=e.stateNode.containerInfo;E.nodeType===1?E.textContent="":E.nodeType===9&&E.documentElement&&E.removeChild(E.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(et(163))}}catch(L){en(e,e.return,L)}if(t=e.sibling,t!==null){t.return=e.return,yt=t;break}yt=e.return}return y=vx,vx=!1,y}function mh(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qg(e,r,s)}i=i.next}while(i!==n)}}function v1(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function Jg(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function L3(t){var e=t.alternate;e!==null&&(t.alternate=null,L3(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ca],delete e[Hh],delete e[jg],delete e[aN],delete e[oN])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function F3(t){return t.tag===5||t.tag===3||t.tag===4}function yx(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||F3(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Zg(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vp));else if(n!==4&&(t=t.child,t!==null))for(Zg(t,e,r),t=t.sibling;t!==null;)Zg(t,e,r),t=t.sibling}function e2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(e2(t,e,r),t=t.sibling;t!==null;)e2(t,e,r),t=t.sibling}var $n=null,na=!1;function Xo(t,e,r){for(r=r.child;r!==null;)R3(t,e,r),r=r.sibling}function R3(t,e,r){if(ka&&typeof ka.onCommitFiberUnmount=="function")try{ka.onCommitFiberUnmount(u1,r)}catch{}switch(r.tag){case 5:mi||Rc(r,e);case 6:var n=$n,i=na;$n=null,Xo(t,e,r),$n=n,na=i,$n!==null&&(na?(t=$n,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):$n.removeChild(r.stateNode));break;case 18:$n!==null&&(na?(t=$n,r=r.stateNode,t.nodeType===8?Im(t.parentNode,r):t.nodeType===1&&Im(t,r),jh(t)):Im($n,r.stateNode));break;case 4:n=$n,i=na,$n=r.stateNode.containerInfo,na=!0,Xo(t,e,r),$n=n,na=i;break;case 0:case 11:case 14:case 15:if(!mi&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&Qg(r,e,a),i=i.next}while(i!==n)}Xo(t,e,r);break;case 1:if(!mi&&(Rc(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){en(r,e,o)}Xo(t,e,r);break;case 21:Xo(t,e,r);break;case 22:r.mode&1?(mi=(n=mi)||r.memoizedState!==null,Xo(t,e,r),mi=n):Xo(t,e,r);break;default:Xo(t,e,r)}}function xx(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EN),e.forEach(function(n){var i=FN.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Ys(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:$n=o.stateNode,na=!1;break e;case 3:$n=o.stateNode.containerInfo,na=!0;break e;case 4:$n=o.stateNode.containerInfo,na=!0;break e}o=o.return}if($n===null)throw Error(et(160));R3(s,a,i),$n=null,na=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){en(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)D3(e,t),e=e.sibling}function D3(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Ys(e,t),Ea(t),n&4){try{mh(3,t,t.return),v1(3,t)}catch(v){en(t,t.return,v)}try{mh(5,t,t.return)}catch(v){en(t,t.return,v)}}break;case 1:Ys(e,t),Ea(t),n&512&&r!==null&&Rc(r,r.return);break;case 5:if(Ys(e,t),Ea(t),n&512&&r!==null&&Rc(r,r.return),t.flags&32){var i=t.stateNode;try{Rh(i,"")}catch(v){en(t,t.return,v)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&n4(i,s),Ag(o,a);var u=Ag(o,s);for(a=0;a<l.length;a+=2){var c=l[a],p=l[a+1];c==="style"?l4(i,p):c==="dangerouslySetInnerHTML"?a4(i,p):c==="children"?Rh(i,p):Y2(i,c,p,u)}switch(o){case"input":xg(i,s);break;case"textarea":i4(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var d=s.value;d!=null?jc(i,!!s.multiple,d,!1):m!==!!s.multiple&&(s.defaultValue!=null?jc(i,!!s.multiple,s.defaultValue,!0):jc(i,!!s.multiple,s.multiple?[]:"",!1))}i[Hh]=s}catch(v){en(t,t.return,v)}}break;case 6:if(Ys(e,t),Ea(t),n&4){if(t.stateNode===null)throw Error(et(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(v){en(t,t.return,v)}}break;case 3:if(Ys(e,t),Ea(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{jh(e.containerInfo)}catch(v){en(t,t.return,v)}break;case 4:Ys(e,t),Ea(t);break;case 13:Ys(e,t),Ea(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(Iv=on())),n&4&&xx(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(mi=(u=mi)||c,Ys(e,t),mi=u):Ys(e,t),Ea(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(yt=t,c=t.child;c!==null;){for(p=yt=c;yt!==null;){switch(m=yt,d=m.child,m.tag){case 0:case 11:case 14:case 15:mh(4,m,m.return);break;case 1:Rc(m,m.return);var y=m.stateNode;if(typeof y.componentWillUnmount=="function"){n=m,r=m.return;try{e=n,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(v){en(n,r,v)}}break;case 5:Rc(m,m.return);break;case 22:if(m.memoizedState!==null){wx(p);continue}}d!==null?(d.return=m,yt=d):wx(p)}c=c.sibling}e:for(c=null,p=t;;){if(p.tag===5){if(c===null){c=p;try{i=p.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=p.stateNode,l=p.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=o4("display",a))}catch(v){en(t,t.return,v)}}}else if(p.tag===6){if(c===null)try{p.stateNode.nodeValue=u?"":p.memoizedProps}catch(v){en(t,t.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;c===p&&(c=null),p=p.return}c===p&&(c=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ys(e,t),Ea(t),n&4&&xx(t);break;case 21:break;default:Ys(e,t),Ea(t)}}function Ea(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(F3(r)){var n=r;break e}r=r.return}throw Error(et(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Rh(i,""),n.flags&=-33);var s=yx(t);e2(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=yx(t);Zg(t,o,a);break;default:throw Error(et(161))}}catch(l){en(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function TN(t,e,r){yt=t,O3(t)}function O3(t,e,r){for(var n=(t.mode&1)!==0;yt!==null;){var i=yt,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||_d;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||mi;o=_d;var u=mi;if(_d=a,(mi=l)&&!u)for(yt=i;yt!==null;)a=yt,l=a.child,a.tag===22&&a.memoizedState!==null?Sx(i):l!==null?(l.return=a,yt=l):Sx(i);for(;s!==null;)yt=s,O3(s),s=s.sibling;yt=i,_d=o,mi=u}_x(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,yt=s):_x(t)}}function _x(t){for(;yt!==null;){var e=yt;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mi||v1(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!mi)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ta(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&ix(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}ix(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var p=c.dehydrated;p!==null&&jh(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(et(163))}mi||e.flags&512&&Jg(e)}catch(m){en(e,e.return,m)}}if(e===t){yt=null;break}if(r=e.sibling,r!==null){r.return=e.return,yt=r;break}yt=e.return}}function wx(t){for(;yt!==null;){var e=yt;if(e===t){yt=null;break}var r=e.sibling;if(r!==null){r.return=e.return,yt=r;break}yt=e.return}}function Sx(t){for(;yt!==null;){var e=yt;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{v1(4,e)}catch(l){en(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){en(e,i,l)}}var s=e.return;try{Jg(e)}catch(l){en(e,s,l)}break;case 5:var a=e.return;try{Jg(e)}catch(l){en(e,a,l)}}}catch(l){en(e,e.return,l)}if(e===t){yt=null;break}var o=e.sibling;if(o!==null){o.return=e.return,yt=o;break}yt=e.return}}var bN=Math.ceil,Cp=_o.ReactCurrentDispatcher,Nv=_o.ReactCurrentOwner,Os=_o.ReactCurrentBatchConfig,ir=0,Bn=null,vn=null,Zn=0,us=0,Dc=Dl(0),In=0,Xh=null,Au=0,y1=0,Cv=0,gh=null,Hi=null,Iv=0,rf=1/0,eo=null,Ip=!1,t2=null,ml=null,wd=!1,sl=null,Pp=0,vh=0,r2=null,Zd=-1,ep=0;function ki(){return ir&6?on():Zd!==-1?Zd:Zd=on()}function gl(t){return t.mode&1?ir&2&&Zn!==0?Zn&-Zn:uN.transition!==null?(ep===0&&(ep=_4()),ep):(t=xr,t!==0||(t=window.event,t=t===void 0?16:N4(t.type)),t):1}function la(t,e,r,n){if(50<vh)throw vh=0,r2=null,Error(et(185));y0(t,r,n),(!(ir&2)||t!==Bn)&&(t===Bn&&(!(ir&2)&&(y1|=r),In===4&&rl(t,Zn)),Ki(t,n),r===1&&ir===0&&!(e.mode&1)&&(rf=on()+500,p1&&Ol()))}function Ki(t,e){var r=t.callbackNode;ub(t,e);var n=dp(t,t===Bn?Zn:0);if(n===0)r!==null&&ky(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&ky(r),e===1)t.tag===0?lN(Ex.bind(null,t)):G4(Ex.bind(null,t)),iN(function(){!(ir&6)&&Ol()}),r=null;else{switch(w4(n)){case 1:r=tv;break;case 4:r=y4;break;case 16:r=hp;break;case 536870912:r=x4;break;default:r=hp}r=W3(r,M3.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function M3(t,e){if(Zd=-1,ep=0,ir&6)throw Error(et(327));var r=t.callbackNode;if(Hc()&&t.callbackNode!==r)return null;var n=dp(t,t===Bn?Zn:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=kp(t,n);else{e=n;var i=ir;ir|=2;var s=B3();(Bn!==t||Zn!==e)&&(eo=null,rf=on()+500,du(t,e));do try{IN();break}catch(o){j3(t,o)}while(!0);pv(),Cp.current=s,ir=i,vn!==null?e=0:(Bn=null,Zn=0,e=In)}if(e!==0){if(e===2&&(i=Ig(t),i!==0&&(n=i,e=n2(t,i))),e===1)throw r=Xh,du(t,0),rl(t,n),Ki(t,on()),r;if(e===6)rl(t,n);else{if(i=t.current.alternate,!(n&30)&&!NN(i)&&(e=kp(t,n),e===2&&(s=Ig(t),s!==0&&(n=s,e=n2(t,s))),e===1))throw r=Xh,du(t,0),rl(t,n),Ki(t,on()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(et(345));case 2:iu(t,Hi,eo);break;case 3:if(rl(t,n),(n&130023424)===n&&(e=Iv+500-on(),10<e)){if(dp(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){ki(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Mg(iu.bind(null,t,Hi,eo),e);break}iu(t,Hi,eo);break;case 4:if(rl(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-oa(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=on()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*bN(n/1960))-n,10<n){t.timeoutHandle=Mg(iu.bind(null,t,Hi,eo),n);break}iu(t,Hi,eo);break;case 5:iu(t,Hi,eo);break;default:throw Error(et(329))}}}return Ki(t,on()),t.callbackNode===r?M3.bind(null,t):null}function n2(t,e){var r=gh;return t.current.memoizedState.isDehydrated&&(du(t,e).flags|=256),t=kp(t,e),t!==2&&(e=Hi,Hi=r,e!==null&&i2(e)),t}function i2(t){Hi===null?Hi=t:Hi.push.apply(Hi,t)}function NN(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!fa(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function rl(t,e){for(e&=~Cv,e&=~y1,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-oa(e),n=1<<r;t[r]=-1,e&=~n}}function Ex(t){if(ir&6)throw Error(et(327));Hc();var e=dp(t,0);if(!(e&1))return Ki(t,on()),null;var r=kp(t,e);if(t.tag!==0&&r===2){var n=Ig(t);n!==0&&(e=n,r=n2(t,n))}if(r===1)throw r=Xh,du(t,0),rl(t,e),Ki(t,on()),r;if(r===6)throw Error(et(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,iu(t,Hi,eo),Ki(t,on()),null}function Pv(t,e){var r=ir;ir|=1;try{return t(e)}finally{ir=r,ir===0&&(rf=on()+500,p1&&Ol())}}function Tu(t){sl!==null&&sl.tag===0&&!(ir&6)&&Hc();var e=ir;ir|=1;var r=Os.transition,n=xr;try{if(Os.transition=null,xr=1,t)return t()}finally{xr=n,Os.transition=r,ir=e,!(ir&6)&&Ol()}}function kv(){us=Dc.current,Vr(Dc)}function du(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,nN(r)),vn!==null)for(r=vn.return;r!==null;){var n=r;switch(fv(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&yp();break;case 3:ef(),Vr(Gi),Vr(_i),_v();break;case 5:xv(n);break;case 4:ef();break;case 13:Vr(qr);break;case 19:Vr(qr);break;case 10:mv(n.type._context);break;case 22:case 23:kv()}r=r.return}if(Bn=t,vn=t=vl(t.current,null),Zn=us=e,In=0,Xh=null,Cv=y1=Au=0,Hi=gh=null,uu!==null){for(e=0;e<uu.length;e++)if(r=uu[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}uu=null}return t}function j3(t,e){do{var r=vn;try{if(pv(),Yd.current=Np,bp){for(var n=Gr.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bp=!1}if(Eu=0,Dn=bn=Gr=null,ph=!1,Gh=0,Nv.current=null,r===null||r.return===null){In=1,Xh=e,vn=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=Zn,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,p=c.tag;if(!(c.mode&1)&&(p===0||p===11||p===15)){var m=c.alternate;m?(c.updateQueue=m.updateQueue,c.memoizedState=m.memoizedState,c.lanes=m.lanes):(c.updateQueue=null,c.memoizedState=null)}var d=cx(a);if(d!==null){d.flags&=-257,fx(d,a,o,s,e),d.mode&1&&ux(s,u,e),e=d,l=u;var y=e.updateQueue;if(y===null){var v=new Set;v.add(l),e.updateQueue=v}else y.add(l);break e}else{if(!(e&1)){ux(s,u,e),Lv();break e}l=Error(et(426))}}else if(Hr&&o.mode&1){var T=cx(a);if(T!==null){!(T.flags&65536)&&(T.flags|=256),fx(T,a,o,s,e),hv(tf(l,o));break e}}s=l=tf(l,o),In!==4&&(In=2),gh===null?gh=[s]:gh.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var _=w3(s,l,e);nx(s,_);break e;case 1:o=l;var x=s.type,E=s.stateNode;if(!(s.flags&128)&&(typeof x.getDerivedStateFromError=="function"||E!==null&&typeof E.componentDidCatch=="function"&&(ml===null||!ml.has(E)))){s.flags|=65536,e&=-e,s.lanes|=e;var L=S3(s,o,e);nx(s,L);break e}}s=s.return}while(s!==null)}U3(r)}catch(j){e=j,vn===r&&r!==null&&(vn=r=r.return);continue}break}while(!0)}function B3(){var t=Cp.current;return Cp.current=Np,t===null?Np:t}function Lv(){(In===0||In===3||In===2)&&(In=4),Bn===null||!(Au&268435455)&&!(y1&268435455)||rl(Bn,Zn)}function kp(t,e){var r=ir;ir|=2;var n=B3();(Bn!==t||Zn!==e)&&(eo=null,du(t,e));do try{CN();break}catch(i){j3(t,i)}while(!0);if(pv(),ir=r,Cp.current=n,vn!==null)throw Error(et(261));return Bn=null,Zn=0,In}function CN(){for(;vn!==null;)V3(vn)}function IN(){for(;vn!==null&&!eb();)V3(vn)}function V3(t){var e=H3(t.alternate,t,us);t.memoizedProps=t.pendingProps,e===null?U3(t):vn=e,Nv.current=null}function U3(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=SN(r,e),r!==null){r.flags&=32767,vn=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{In=6,vn=null;return}}else if(r=wN(r,e,us),r!==null){vn=r;return}if(e=e.sibling,e!==null){vn=e;return}vn=e=t}while(e!==null);In===0&&(In=5)}function iu(t,e,r){var n=xr,i=Os.transition;try{Os.transition=null,xr=1,PN(t,e,r,n)}finally{Os.transition=i,xr=n}return null}function PN(t,e,r,n){do Hc();while(sl!==null);if(ir&6)throw Error(et(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(et(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(cb(t,s),t===Bn&&(vn=Bn=null,Zn=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||wd||(wd=!0,W3(hp,function(){return Hc(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Os.transition,Os.transition=null;var a=xr;xr=1;var o=ir;ir|=4,Nv.current=null,AN(t,r),D3(r,t),Yb(Dg),pp=!!Rg,Dg=Rg=null,t.current=r,TN(r),tb(),ir=o,xr=a,Os.transition=s}else t.current=r;if(wd&&(wd=!1,sl=t,Pp=i),s=t.pendingLanes,s===0&&(ml=null),ib(r.stateNode),Ki(t,on()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Ip)throw Ip=!1,t=t2,t2=null,t;return Pp&1&&t.tag!==0&&Hc(),s=t.pendingLanes,s&1?t===r2?vh++:(vh=0,r2=t):vh=0,Ol(),null}function Hc(){if(sl!==null){var t=w4(Pp),e=Os.transition,r=xr;try{if(Os.transition=null,xr=16>t?16:t,sl===null)var n=!1;else{if(t=sl,sl=null,Pp=0,ir&6)throw Error(et(331));var i=ir;for(ir|=4,yt=t.current;yt!==null;){var s=yt,a=s.child;if(yt.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(yt=u;yt!==null;){var c=yt;switch(c.tag){case 0:case 11:case 15:mh(8,c,s)}var p=c.child;if(p!==null)p.return=c,yt=p;else for(;yt!==null;){c=yt;var m=c.sibling,d=c.return;if(L3(c),c===u){yt=null;break}if(m!==null){m.return=d,yt=m;break}yt=d}}}var y=s.alternate;if(y!==null){var v=y.child;if(v!==null){y.child=null;do{var T=v.sibling;v.sibling=null,v=T}while(v!==null)}}yt=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,yt=a;else e:for(;yt!==null;){if(s=yt,s.flags&2048)switch(s.tag){case 0:case 11:case 15:mh(9,s,s.return)}var _=s.sibling;if(_!==null){_.return=s.return,yt=_;break e}yt=s.return}}var x=t.current;for(yt=x;yt!==null;){a=yt;var E=a.child;if(a.subtreeFlags&2064&&E!==null)E.return=a,yt=E;else e:for(a=x;yt!==null;){if(o=yt,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:v1(9,o)}}catch(j){en(o,o.return,j)}if(o===a){yt=null;break e}var L=o.sibling;if(L!==null){L.return=o.return,yt=L;break e}yt=o.return}}if(ir=i,Ol(),ka&&typeof ka.onPostCommitFiberRoot=="function")try{ka.onPostCommitFiberRoot(u1,t)}catch{}n=!0}return n}finally{xr=r,Os.transition=e}}return!1}function Ax(t,e,r){e=tf(r,e),e=w3(t,e,1),t=pl(t,e,1),e=ki(),t!==null&&(y0(t,1,e),Ki(t,e))}function en(t,e,r){if(t.tag===3)Ax(t,t,r);else for(;e!==null;){if(e.tag===3){Ax(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ml===null||!ml.has(n))){t=tf(r,t),t=S3(e,t,1),e=pl(e,t,1),t=ki(),e!==null&&(y0(e,1,t),Ki(e,t));break}}e=e.return}}function kN(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=ki(),t.pingedLanes|=t.suspendedLanes&r,Bn===t&&(Zn&r)===r&&(In===4||In===3&&(Zn&130023424)===Zn&&500>on()-Iv?du(t,0):Cv|=r),Ki(t,e)}function z3(t,e){e===0&&(t.mode&1?(e=fd,fd<<=1,!(fd&130023424)&&(fd=4194304)):e=1);var r=ki();t=fo(t,e),t!==null&&(y0(t,e,r),Ki(t,r))}function LN(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),z3(t,r)}function FN(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(et(314))}n!==null&&n.delete(e),z3(t,r)}var H3;H3=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Gi.current)qi=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return qi=!1,_N(t,e,r);qi=!!(t.flags&131072)}else qi=!1,Hr&&e.flags&1048576&&$4(e,wp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Jd(t,e),t=e.pendingProps;var i=Qc(e,_i.current);zc(e,r),i=Sv(null,e,n,t,i,r);var s=Ev();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,$i(n)?(s=!0,xp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,vv(e),i.updater=g1,e.stateNode=i,i._reactInternals=e,Wg(e,n,t,r),e=$g(null,e,n,!0,s,r)):(e.tag=0,Hr&&s&&cv(e),Ci(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Jd(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=DN(n),t=ta(n,t),i){case 0:e=Gg(null,e,n,t,r);break e;case 1:e=px(null,e,n,t,r);break e;case 11:e=hx(null,e,n,t,r);break e;case 14:e=dx(null,e,n,ta(n.type,t),r);break e}throw Error(et(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ta(n,i),Gg(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ta(n,i),px(t,e,n,i,r);case 3:e:{if(b3(e),t===null)throw Error(et(387));n=e.pendingProps,s=e.memoizedState,i=s.element,Z4(t,e),Ap(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=tf(Error(et(423)),e),e=mx(t,e,n,r,i);break e}else if(n!==i){i=tf(Error(et(424)),e),e=mx(t,e,n,r,i);break e}else for(ds=dl(e.stateNode.containerInfo.firstChild),gs=e,Hr=!0,ia=null,r=Q4(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Jc(),n===i){e=ho(t,e,r);break e}Ci(t,e,n,r)}e=e.child}return e;case 5:return e3(e),t===null&&Ug(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,Og(n,i)?a=null:s!==null&&Og(n,s)&&(e.flags|=32),T3(t,e),Ci(t,e,a,r),e.child;case 6:return t===null&&Ug(e),null;case 13:return N3(t,e,r);case 4:return yv(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Zc(e,null,n,r):Ci(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ta(n,i),hx(t,e,n,i,r);case 7:return Ci(t,e,e.pendingProps,r),e.child;case 8:return Ci(t,e,e.pendingProps.children,r),e.child;case 12:return Ci(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,Lr(Sp,n._currentValue),n._currentValue=a,s!==null)if(fa(s.value,a)){if(s.children===i.children&&!Gi.current){e=ho(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=so(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),zg(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(et(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),zg(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Ci(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,zc(e,r),i=Ms(i),n=n(i),e.flags|=1,Ci(t,e,n,r),e.child;case 14:return n=e.type,i=ta(n,e.pendingProps),i=ta(n.type,i),dx(t,e,n,i,r);case 15:return E3(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ta(n,i),Jd(t,e),e.tag=1,$i(n)?(t=!0,xp(e)):t=!1,zc(e,r),_3(e,n,i),Wg(e,n,i,r),$g(null,e,n,!0,t,r);case 19:return C3(t,e,r);case 22:return A3(t,e,r)}throw Error(et(156,e.tag))};function W3(t,e){return v4(t,e)}function RN(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ds(t,e,r,n){return new RN(t,e,r,n)}function Fv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function DN(t){if(typeof t=="function")return Fv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===J2)return 11;if(t===Z2)return 14}return 2}function vl(t,e){var r=t.alternate;return r===null?(r=Ds(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function tp(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Fv(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Tc:return pu(r.children,i,s,e);case Q2:a=8,i|=8;break;case pg:return t=Ds(12,r,e,i|2),t.elementType=pg,t.lanes=s,t;case mg:return t=Ds(13,r,e,i),t.elementType=mg,t.lanes=s,t;case gg:return t=Ds(19,r,e,i),t.elementType=gg,t.lanes=s,t;case e4:return x1(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Jw:a=10;break e;case Zw:a=9;break e;case J2:a=11;break e;case Z2:a=14;break e;case Zo:a=16,n=null;break e}throw Error(et(130,t==null?t:typeof t,""))}return e=Ds(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function pu(t,e,r,n){return t=Ds(7,t,n,e),t.lanes=r,t}function x1(t,e,r,n){return t=Ds(22,t,n,e),t.elementType=e4,t.lanes=r,t.stateNode={isHidden:!1},t}function Mm(t,e,r){return t=Ds(6,t,null,e),t.lanes=r,t}function jm(t,e,r){return e=Ds(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function ON(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ym(0),this.expirationTimes=ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ym(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Rv(t,e,r,n,i,s,a,o,l){return t=new ON(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Ds(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},vv(s),t}function MN(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ac,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function q3(t){if(!t)return Al;t=t._reactInternals;e:{if(Ru(t)!==t||t.tag!==1)throw Error(et(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if($i(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(et(171))}if(t.tag===1){var r=t.type;if($i(r))return q4(t,r,e)}return e}function G3(t,e,r,n,i,s,a,o,l){return t=Rv(r,n,!0,t,i,s,a,o,l),t.context=q3(null),r=t.current,n=ki(),i=gl(r),s=so(n,i),s.callback=e??null,pl(r,s,i),t.current.lanes=i,y0(t,i,n),Ki(t,n),t}function _1(t,e,r,n){var i=e.current,s=ki(),a=gl(i);return r=q3(r),e.context===null?e.context=r:e.pendingContext=r,e=so(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=pl(i,e,a),t!==null&&(la(t,i,a,s),Xd(t,i,a)),a}function Lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Tx(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Dv(t,e){Tx(t,e),(t=t.alternate)&&Tx(t,e)}function jN(){return null}var $3=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ov(t){this._internalRoot=t}w1.prototype.render=Ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(et(409));_1(t,e,null,null)};w1.prototype.unmount=Ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Tu(function(){_1(null,t,null,null)}),e[co]=null}};function w1(t){this._internalRoot=t}w1.prototype.unstable_scheduleHydration=function(t){if(t){var e=A4();t={blockedOn:null,target:t,priority:e};for(var r=0;r<tl.length&&e!==0&&e<tl[r].priority;r++);tl.splice(r,0,t),r===0&&b4(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function S1(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function bx(){}function BN(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Lp(a);s.call(u)}}var a=G3(e,n,t,0,null,!1,!1,"",bx);return t._reactRootContainer=a,t[co]=a.current,Uh(t.nodeType===8?t.parentNode:t),Tu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Lp(l);o.call(u)}}var l=Rv(t,0,!1,null,null,!1,!1,"",bx);return t._reactRootContainer=l,t[co]=l.current,Uh(t.nodeType===8?t.parentNode:t),Tu(function(){_1(e,l,r,n)}),l}function E1(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Lp(a);o.call(l)}}_1(e,a,t,i)}else a=BN(r,e,t,i,n);return Lp(a)}S4=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nh(e.pendingLanes);r!==0&&(rv(e,r|1),Ki(e,on()),!(ir&6)&&(rf=on()+500,Ol()))}break;case 13:Tu(function(){var n=fo(t,1);if(n!==null){var i=ki();la(n,t,1,i)}}),Dv(t,1)}};nv=function(t){if(t.tag===13){var e=fo(t,134217728);if(e!==null){var r=ki();la(e,t,134217728,r)}Dv(t,134217728)}};E4=function(t){if(t.tag===13){var e=gl(t),r=fo(t,e);if(r!==null){var n=ki();la(r,t,e,n)}Dv(t,e)}};A4=function(){return xr};T4=function(t,e){var r=xr;try{return xr=t,e()}finally{xr=r}};bg=function(t,e,r){switch(e){case"input":if(xg(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=d1(n);if(!i)throw Error(et(90));r4(n),xg(n,i)}}}break;case"textarea":i4(t,r);break;case"select":e=r.value,e!=null&&jc(t,!!r.multiple,e,!1)}};f4=Pv;h4=Tu;var VN={usingClientEntryPoint:!1,Events:[_0,Ic,d1,u4,c4,Pv]},Yf={findFiberByHostInstance:lu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UN={bundleType:Yf.bundleType,version:Yf.version,rendererPackageName:Yf.rendererPackageName,rendererConfig:Yf.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:_o.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=m4(t),t===null?null:t.stateNode},findFiberByHostInstance:Yf.findFiberByHostInstance||jN,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{u1=Sd.inject(UN),ka=Sd}catch{}}_s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=VN;_s.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error(et(200));return MN(t,e,null,r)};_s.createRoot=function(t,e){if(!Mv(t))throw Error(et(299));var r=!1,n="",i=$3;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Rv(t,1,!1,null,null,r,!1,n,i),t[co]=e.current,Uh(t.nodeType===8?t.parentNode:t),new Ov(e)};_s.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(et(188)):(t=Object.keys(t).join(","),Error(et(268,t)));return t=m4(e),t=t===null?null:t.stateNode,t};_s.flushSync=function(t){return Tu(t)};_s.hydrate=function(t,e,r){if(!S1(e))throw Error(et(200));return E1(null,t,e,!0,r)};_s.hydrateRoot=function(t,e,r){if(!Mv(t))throw Error(et(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=$3;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=G3(e,null,t,1,r??null,i,!1,s,a),t[co]=e.current,Uh(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new w1(e)};_s.render=function(t,e,r){if(!S1(e))throw Error(et(200));return E1(null,t,e,!1,r)};_s.unmountComponentAtNode=function(t){if(!S1(t))throw Error(et(40));return t._reactRootContainer?(Tu(function(){E1(null,null,t,!1,function(){t._reactRootContainer=null,t[co]=null})}),!0):!1};_s.unstable_batchedUpdates=Pv;_s.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!S1(r))throw Error(et(200));if(t==null||t._reactInternals===void 0)throw Error(et(38));return E1(t,e,r,!1,n)};_s.version="18.3.1-next-f1338f8080-20240426";function K3(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(K3)}catch(t){console.error(t)}}K3(),Kw.exports=_s;var zN=Kw.exports,Nx=zN;hg.createRoot=Nx.createRoot,hg.hydrateRoot=Nx.hydrateRoot;var Cx={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X3=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},HN=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Y3={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,c=s>>2,p=(s&3)<<4|o>>4;let m=(o&15)<<2|u>>6,d=u&63;l||(d=64,a||(m=64)),n.push(r[c],r[p],r[m],r[d])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(X3(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):HN(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||p==null)throw new WN;const m=s<<2|o>>4;if(n.push(m),u!==64){const d=o<<4&240|u>>2;if(n.push(d),p!==64){const y=u<<6&192|p;n.push(y)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class WN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const qN=function(t){const e=X3(t);return Y3.encodeByteArray(e,!0)},Fp=function(t){return qN(t).replace(/\./g,"")},GN=function(t){try{return Y3.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $N(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KN=()=>$N().__FIREBASE_DEFAULTS__,XN=()=>{if(typeof process>"u"||typeof Cx>"u")return;const t=Cx.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},YN=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&GN(t[1]);return e&&JSON.parse(e)},jv=()=>{try{return KN()||XN()||YN()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},QN=t=>{var e,r;return(r=(e=jv())===null||e===void 0?void 0:e.emulatorHosts)===null||r===void 0?void 0:r[t]},JN=t=>{const e=QN(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},Q3=()=>{var t;return(t=jv())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eC(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Fp(JSON.stringify(r)),Fp(JSON.stringify(a)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tC(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function rC(){var t;const e=(t=jv())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function nC(){return!rC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function iC(){try{return typeof indexedDB=="object"}catch{return!1}}function sC(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aC="FirebaseError";class gf extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=aC,Object.setPrototypeOf(this,gf.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,J3.prototype.create)}}class J3{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?oC(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new gf(i,o,n)}}function oC(t,e){return t.replace(lC,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const lC=/\{\$([^}]+)}/g;function s2(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(Ix(s)&&Ix(a)){if(!s2(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function Ix(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function po(t){return t&&t._delegate?t._delegate:t}class Yh{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const su="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uC{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new ZN;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){var r;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(r=e==null?void 0:e.optional)!==null&&r!==void 0?r:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(fC(e))try{this.getOrInitializeService({instanceIdentifier:su})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=su){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=su){return this.instances.has(e)}getOptions(e=su){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){var n;const i=this.normalizeInstanceIdentifier(r),s=(n=this.onInitCallbacks.get(i))!==null&&n!==void 0?n:new Set;s.add(e),this.onInitCallbacks.set(i,s);const a=this.instances.get(i);return a&&e(a,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:cC(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=su){return this.component?this.component.multipleInstances?e:su:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function cC(t){return t===su?void 0:t}function fC(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new uC(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var nr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(nr||(nr={}));const dC={debug:nr.DEBUG,verbose:nr.VERBOSE,info:nr.INFO,warn:nr.WARN,error:nr.ERROR,silent:nr.SILENT},pC=nr.INFO,mC={[nr.DEBUG]:"log",[nr.VERBOSE]:"log",[nr.INFO]:"info",[nr.WARN]:"warn",[nr.ERROR]:"error"},gC=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=mC[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Z3{constructor(e){this.name=e,this._logLevel=pC,this._logHandler=gC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in nr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?dC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,nr.DEBUG,...e),this._logHandler(this,nr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,nr.VERBOSE,...e),this._logHandler(this,nr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,nr.INFO,...e),this._logHandler(this,nr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,nr.WARN,...e),this._logHandler(this,nr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,nr.ERROR,...e),this._logHandler(this,nr.ERROR,...e)}}const vC=(t,e)=>e.some(r=>t instanceof r);let Px,kx;function yC(){return Px||(Px=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xC(){return kx||(kx=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const eS=new WeakMap,a2=new WeakMap,tS=new WeakMap,Bm=new WeakMap,Bv=new WeakMap;function _C(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(yl(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&eS.set(r,t)}).catch(()=>{}),Bv.set(e,t),e}function wC(t){if(a2.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});a2.set(t,e)}let o2={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return a2.get(t);if(e==="objectStoreNames")return t.objectStoreNames||tS.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return yl(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function SC(t){o2=t(o2)}function EC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Vm(this),e,...r);return tS.set(n,e.sort?e.sort():[e]),yl(n)}:xC().includes(t)?function(...e){return t.apply(Vm(this),e),yl(eS.get(this))}:function(...e){return yl(t.apply(Vm(this),e))}}function AC(t){return typeof t=="function"?EC(t):(t instanceof IDBTransaction&&wC(t),vC(t,yC())?new Proxy(t,o2):t)}function yl(t){if(t instanceof IDBRequest)return _C(t);if(Bm.has(t))return Bm.get(t);const e=AC(t);return e!==t&&(Bm.set(t,e),Bv.set(e,t)),e}const Vm=t=>Bv.get(t);function TC(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=yl(a);return n&&a.addEventListener("upgradeneeded",l=>{n(yl(a.result),l.oldVersion,l.newVersion,yl(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const bC=["get","getKey","getAll","getAllKeys","count"],NC=["put","add","delete","clear"],Um=new Map;function Lx(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Um.get(e))return Um.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=NC.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||bC.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return Um.set(e,s),s}SC(t=>({...t,get:(e,r,n)=>Lx(e,r)||t.get(e,r,n),has:(e,r)=>!!Lx(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(IC(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function IC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const l2="@firebase/app",Fx="0.10.13";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mo=new Z3("@firebase/app"),PC="@firebase/app-compat",kC="@firebase/analytics-compat",LC="@firebase/analytics",FC="@firebase/app-check-compat",RC="@firebase/app-check",DC="@firebase/auth",OC="@firebase/auth-compat",MC="@firebase/database",jC="@firebase/data-connect",BC="@firebase/database-compat",VC="@firebase/functions",UC="@firebase/functions-compat",zC="@firebase/installations",HC="@firebase/installations-compat",WC="@firebase/messaging",qC="@firebase/messaging-compat",GC="@firebase/performance",$C="@firebase/performance-compat",KC="@firebase/remote-config",XC="@firebase/remote-config-compat",YC="@firebase/storage",QC="@firebase/storage-compat",JC="@firebase/firestore",ZC="@firebase/vertexai-preview",eI="@firebase/firestore-compat",tI="firebase",rI="10.14.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u2="[DEFAULT]",nI={[l2]:"fire-core",[PC]:"fire-core-compat",[LC]:"fire-analytics",[kC]:"fire-analytics-compat",[RC]:"fire-app-check",[FC]:"fire-app-check-compat",[DC]:"fire-auth",[OC]:"fire-auth-compat",[MC]:"fire-rtdb",[jC]:"fire-data-connect",[BC]:"fire-rtdb-compat",[VC]:"fire-fn",[UC]:"fire-fn-compat",[zC]:"fire-iid",[HC]:"fire-iid-compat",[WC]:"fire-fcm",[qC]:"fire-fcm-compat",[GC]:"fire-perf",[$C]:"fire-perf-compat",[KC]:"fire-rc",[XC]:"fire-rc-compat",[YC]:"fire-gcs",[QC]:"fire-gcs-compat",[JC]:"fire-fst",[eI]:"fire-fst-compat",[ZC]:"fire-vertex","fire-js":"fire-js",[tI]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rp=new Map,iI=new Map,c2=new Map;function Rx(t,e){try{t.container.addComponent(e)}catch(r){mo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Dp(t){const e=t.name;if(c2.has(e))return mo.debug(`There were multiple attempts to register component ${e}.`),!1;c2.set(e,t);for(const r of Rp.values())Rx(r,t);for(const r of iI.values())Rx(r,t);return!0}function sI(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aI={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xl=new J3("app","Firebase",aI);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(e,r,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},r),this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Yh("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lI=rI;function rS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:u2,automaticDataCollectionEnabled:!1},e),i=n.name;if(typeof i!="string"||!i)throw xl.create("bad-app-name",{appName:String(i)});if(r||(r=Q3()),!r)throw xl.create("no-options");const s=Rp.get(i);if(s){if(s2(r,s.options)&&s2(n,s.config))return s;throw xl.create("duplicate-app",{appName:i})}const a=new hC(i);for(const l of c2.values())a.addComponent(l);const o=new oI(r,n,a);return Rp.set(i,o),o}function uI(t=u2){const e=Rp.get(t);if(!e&&t===u2&&Q3())return rS();if(!e)throw xl.create("no-app",{appName:t});return e}function Wc(t,e,r){var n;let i=(n=nI[t])!==null&&n!==void 0?n:t;r&&(i+=`-${r}`);const s=i.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const o=[`Unable to register library "${i}" with version "${e}":`];s&&o.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&a&&o.push("and"),a&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),mo.warn(o.join(" "));return}Dp(new Yh(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cI="firebase-heartbeat-database",fI=1,Qh="firebase-heartbeat-store";let zm=null;function nS(){return zm||(zm=TC(cI,fI,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Qh)}catch(r){console.warn(r)}}}}).catch(t=>{throw xl.create("idb-open",{originalErrorMessage:t.message})})),zm}async function hI(t){try{const r=(await nS()).transaction(Qh),n=await r.objectStore(Qh).get(iS(t));return await r.done,n}catch(e){if(e instanceof gf)mo.warn(e.message);else{const r=xl.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});mo.warn(r.message)}}}async function Dx(t,e){try{const n=(await nS()).transaction(Qh,"readwrite");await n.objectStore(Qh).put(e,iS(t)),await n.done}catch(r){if(r instanceof gf)mo.warn(r.message);else{const n=xl.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});mo.warn(n.message)}}}function iS(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dI=1024,pI=30*24*60*60*1e3;class mI{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new vI(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=Ox();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)===null||r===void 0?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(a=>{const o=new Date(a.date).valueOf();return Date.now()-o<=pI}),this._storage.overwrite(this._heartbeatsCache))}catch(n){mo.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=Ox(),{heartbeatsToSend:n,unsentEntries:i}=gI(this._heartbeatsCache.heartbeats),s=Fp(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return mo.warn(r),""}}}function Ox(){return new Date().toISOString().substring(0,10)}function gI(t,e=dI){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),Mx(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),Mx(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class vI{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return iC()?sC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await hI(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var r;if(await this._canUseIndexedDBPromise){const i=await this.read();return Dx(this.app,{lastSentHeartbeatDate:(r=e.lastSentHeartbeatDate)!==null&&r!==void 0?r:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function Mx(t){return Fp(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yI(t){Dp(new Yh("platform-logger",e=>new CC(e),"PRIVATE")),Dp(new Yh("heartbeat",e=>new mI(e),"PRIVATE")),Wc(l2,Fx,t),Wc(l2,Fx,"esm2017"),Wc("fire-js","")}yI("");var jx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var mu,sS;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(w,S){function I(){}I.prototype=S.prototype,w.D=S.prototype,w.prototype=new I,w.prototype.constructor=w,w.C=function(F,N,b){for(var D=Array(arguments.length-2),Z=2;Z<arguments.length;Z++)D[Z-2]=arguments[Z];return S.prototype[N].apply(F,D)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(n,r),n.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(w,S,I){I||(I=0);var F=Array(16);if(typeof S=="string")for(var N=0;16>N;++N)F[N]=S.charCodeAt(I++)|S.charCodeAt(I++)<<8|S.charCodeAt(I++)<<16|S.charCodeAt(I++)<<24;else for(N=0;16>N;++N)F[N]=S[I++]|S[I++]<<8|S[I++]<<16|S[I++]<<24;S=w.g[0],I=w.g[1],N=w.g[2];var b=w.g[3],D=S+(b^I&(N^b))+F[0]+3614090360&4294967295;S=I+(D<<7&4294967295|D>>>25),D=b+(N^S&(I^N))+F[1]+3905402710&4294967295,b=S+(D<<12&4294967295|D>>>20),D=N+(I^b&(S^I))+F[2]+606105819&4294967295,N=b+(D<<17&4294967295|D>>>15),D=I+(S^N&(b^S))+F[3]+3250441966&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(b^I&(N^b))+F[4]+4118548399&4294967295,S=I+(D<<7&4294967295|D>>>25),D=b+(N^S&(I^N))+F[5]+1200080426&4294967295,b=S+(D<<12&4294967295|D>>>20),D=N+(I^b&(S^I))+F[6]+2821735955&4294967295,N=b+(D<<17&4294967295|D>>>15),D=I+(S^N&(b^S))+F[7]+4249261313&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(b^I&(N^b))+F[8]+1770035416&4294967295,S=I+(D<<7&4294967295|D>>>25),D=b+(N^S&(I^N))+F[9]+2336552879&4294967295,b=S+(D<<12&4294967295|D>>>20),D=N+(I^b&(S^I))+F[10]+4294925233&4294967295,N=b+(D<<17&4294967295|D>>>15),D=I+(S^N&(b^S))+F[11]+2304563134&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(b^I&(N^b))+F[12]+1804603682&4294967295,S=I+(D<<7&4294967295|D>>>25),D=b+(N^S&(I^N))+F[13]+4254626195&4294967295,b=S+(D<<12&4294967295|D>>>20),D=N+(I^b&(S^I))+F[14]+2792965006&4294967295,N=b+(D<<17&4294967295|D>>>15),D=I+(S^N&(b^S))+F[15]+1236535329&4294967295,I=N+(D<<22&4294967295|D>>>10),D=S+(N^b&(I^N))+F[1]+4129170786&4294967295,S=I+(D<<5&4294967295|D>>>27),D=b+(I^N&(S^I))+F[6]+3225465664&4294967295,b=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(b^S))+F[11]+643717713&4294967295,N=b+(D<<14&4294967295|D>>>18),D=I+(b^S&(N^b))+F[0]+3921069994&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(N^b&(I^N))+F[5]+3593408605&4294967295,S=I+(D<<5&4294967295|D>>>27),D=b+(I^N&(S^I))+F[10]+38016083&4294967295,b=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(b^S))+F[15]+3634488961&4294967295,N=b+(D<<14&4294967295|D>>>18),D=I+(b^S&(N^b))+F[4]+3889429448&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(N^b&(I^N))+F[9]+568446438&4294967295,S=I+(D<<5&4294967295|D>>>27),D=b+(I^N&(S^I))+F[14]+3275163606&4294967295,b=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(b^S))+F[3]+4107603335&4294967295,N=b+(D<<14&4294967295|D>>>18),D=I+(b^S&(N^b))+F[8]+1163531501&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(N^b&(I^N))+F[13]+2850285829&4294967295,S=I+(D<<5&4294967295|D>>>27),D=b+(I^N&(S^I))+F[2]+4243563512&4294967295,b=S+(D<<9&4294967295|D>>>23),D=N+(S^I&(b^S))+F[7]+1735328473&4294967295,N=b+(D<<14&4294967295|D>>>18),D=I+(b^S&(N^b))+F[12]+2368359562&4294967295,I=N+(D<<20&4294967295|D>>>12),D=S+(I^N^b)+F[5]+4294588738&4294967295,S=I+(D<<4&4294967295|D>>>28),D=b+(S^I^N)+F[8]+2272392833&4294967295,b=S+(D<<11&4294967295|D>>>21),D=N+(b^S^I)+F[11]+1839030562&4294967295,N=b+(D<<16&4294967295|D>>>16),D=I+(N^b^S)+F[14]+4259657740&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(I^N^b)+F[1]+2763975236&4294967295,S=I+(D<<4&4294967295|D>>>28),D=b+(S^I^N)+F[4]+1272893353&4294967295,b=S+(D<<11&4294967295|D>>>21),D=N+(b^S^I)+F[7]+4139469664&4294967295,N=b+(D<<16&4294967295|D>>>16),D=I+(N^b^S)+F[10]+3200236656&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(I^N^b)+F[13]+681279174&4294967295,S=I+(D<<4&4294967295|D>>>28),D=b+(S^I^N)+F[0]+3936430074&4294967295,b=S+(D<<11&4294967295|D>>>21),D=N+(b^S^I)+F[3]+3572445317&4294967295,N=b+(D<<16&4294967295|D>>>16),D=I+(N^b^S)+F[6]+76029189&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(I^N^b)+F[9]+3654602809&4294967295,S=I+(D<<4&4294967295|D>>>28),D=b+(S^I^N)+F[12]+3873151461&4294967295,b=S+(D<<11&4294967295|D>>>21),D=N+(b^S^I)+F[15]+530742520&4294967295,N=b+(D<<16&4294967295|D>>>16),D=I+(N^b^S)+F[2]+3299628645&4294967295,I=N+(D<<23&4294967295|D>>>9),D=S+(N^(I|~b))+F[0]+4096336452&4294967295,S=I+(D<<6&4294967295|D>>>26),D=b+(I^(S|~N))+F[7]+1126891415&4294967295,b=S+(D<<10&4294967295|D>>>22),D=N+(S^(b|~I))+F[14]+2878612391&4294967295,N=b+(D<<15&4294967295|D>>>17),D=I+(b^(N|~S))+F[5]+4237533241&4294967295,I=N+(D<<21&4294967295|D>>>11),D=S+(N^(I|~b))+F[12]+1700485571&4294967295,S=I+(D<<6&4294967295|D>>>26),D=b+(I^(S|~N))+F[3]+2399980690&4294967295,b=S+(D<<10&4294967295|D>>>22),D=N+(S^(b|~I))+F[10]+4293915773&4294967295,N=b+(D<<15&4294967295|D>>>17),D=I+(b^(N|~S))+F[1]+2240044497&4294967295,I=N+(D<<21&4294967295|D>>>11),D=S+(N^(I|~b))+F[8]+1873313359&4294967295,S=I+(D<<6&4294967295|D>>>26),D=b+(I^(S|~N))+F[15]+4264355552&4294967295,b=S+(D<<10&4294967295|D>>>22),D=N+(S^(b|~I))+F[6]+2734768916&4294967295,N=b+(D<<15&4294967295|D>>>17),D=I+(b^(N|~S))+F[13]+1309151649&4294967295,I=N+(D<<21&4294967295|D>>>11),D=S+(N^(I|~b))+F[4]+4149444226&4294967295,S=I+(D<<6&4294967295|D>>>26),D=b+(I^(S|~N))+F[11]+3174756917&4294967295,b=S+(D<<10&4294967295|D>>>22),D=N+(S^(b|~I))+F[2]+718787259&4294967295,N=b+(D<<15&4294967295|D>>>17),D=I+(b^(N|~S))+F[9]+3951481745&4294967295,w.g[0]=w.g[0]+S&4294967295,w.g[1]=w.g[1]+(N+(D<<21&4294967295|D>>>11))&4294967295,w.g[2]=w.g[2]+N&4294967295,w.g[3]=w.g[3]+b&4294967295}n.prototype.u=function(w,S){S===void 0&&(S=w.length);for(var I=S-this.blockSize,F=this.B,N=this.h,b=0;b<S;){if(N==0)for(;b<=I;)i(this,w,b),b+=this.blockSize;if(typeof w=="string"){for(;b<S;)if(F[N++]=w.charCodeAt(b++),N==this.blockSize){i(this,F),N=0;break}}else for(;b<S;)if(F[N++]=w[b++],N==this.blockSize){i(this,F),N=0;break}}this.h=N,this.o+=S},n.prototype.v=function(){var w=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);w[0]=128;for(var S=1;S<w.length-8;++S)w[S]=0;var I=8*this.o;for(S=w.length-8;S<w.length;++S)w[S]=I&255,I/=256;for(this.u(w),w=Array(16),S=I=0;4>S;++S)for(var F=0;32>F;F+=8)w[I++]=this.g[S]>>>F&255;return w};function s(w,S){var I=o;return Object.prototype.hasOwnProperty.call(I,w)?I[w]:I[w]=S(w)}function a(w,S){this.h=S;for(var I=[],F=!0,N=w.length-1;0<=N;N--){var b=w[N]|0;F&&b==S||(I[N]=b,F=!1)}this.g=I}var o={};function l(w){return-128<=w&&128>w?s(w,function(S){return new a([S|0],0>S?-1:0)}):new a([w|0],0>w?-1:0)}function u(w){if(isNaN(w)||!isFinite(w))return p;if(0>w)return T(u(-w));for(var S=[],I=1,F=0;w>=I;F++)S[F]=w/I|0,I*=4294967296;return new a(S,0)}function c(w,S){if(w.length==0)throw Error("number format error: empty string");if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(w.charAt(0)=="-")return T(c(w.substring(1),S));if(0<=w.indexOf("-"))throw Error('number format error: interior "-" character');for(var I=u(Math.pow(S,8)),F=p,N=0;N<w.length;N+=8){var b=Math.min(8,w.length-N),D=parseInt(w.substring(N,N+b),S);8>b?(b=u(Math.pow(S,b)),F=F.j(b).add(u(D))):(F=F.j(I),F=F.add(u(D)))}return F}var p=l(0),m=l(1),d=l(16777216);t=a.prototype,t.m=function(){if(v(this))return-T(this).m();for(var w=0,S=1,I=0;I<this.g.length;I++){var F=this.i(I);w+=(0<=F?F:4294967296+F)*S,S*=4294967296}return w},t.toString=function(w){if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(y(this))return"0";if(v(this))return"-"+T(this).toString(w);for(var S=u(Math.pow(w,6)),I=this,F="";;){var N=L(I,S).g;I=_(I,N.j(S));var b=((0<I.g.length?I.g[0]:I.h)>>>0).toString(w);if(I=N,y(I))return b+F;for(;6>b.length;)b="0"+b;F=b+F}},t.i=function(w){return 0>w?0:w<this.g.length?this.g[w]:this.h};function y(w){if(w.h!=0)return!1;for(var S=0;S<w.g.length;S++)if(w.g[S]!=0)return!1;return!0}function v(w){return w.h==-1}t.l=function(w){return w=_(this,w),v(w)?-1:y(w)?0:1};function T(w){for(var S=w.g.length,I=[],F=0;F<S;F++)I[F]=~w.g[F];return new a(I,~w.h).add(m)}t.abs=function(){return v(this)?T(this):this},t.add=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],F=0,N=0;N<=S;N++){var b=F+(this.i(N)&65535)+(w.i(N)&65535),D=(b>>>16)+(this.i(N)>>>16)+(w.i(N)>>>16);F=D>>>16,b&=65535,D&=65535,I[N]=D<<16|b}return new a(I,I[I.length-1]&-2147483648?-1:0)};function _(w,S){return w.add(T(S))}t.j=function(w){if(y(this)||y(w))return p;if(v(this))return v(w)?T(this).j(T(w)):T(T(this).j(w));if(v(w))return T(this.j(T(w)));if(0>this.l(d)&&0>w.l(d))return u(this.m()*w.m());for(var S=this.g.length+w.g.length,I=[],F=0;F<2*S;F++)I[F]=0;for(F=0;F<this.g.length;F++)for(var N=0;N<w.g.length;N++){var b=this.i(F)>>>16,D=this.i(F)&65535,Z=w.i(N)>>>16,de=w.i(N)&65535;I[2*F+2*N]+=D*de,x(I,2*F+2*N),I[2*F+2*N+1]+=b*de,x(I,2*F+2*N+1),I[2*F+2*N+1]+=D*Z,x(I,2*F+2*N+1),I[2*F+2*N+2]+=b*Z,x(I,2*F+2*N+2)}for(F=0;F<S;F++)I[F]=I[2*F+1]<<16|I[2*F];for(F=S;F<2*S;F++)I[F]=0;return new a(I,0)};function x(w,S){for(;(w[S]&65535)!=w[S];)w[S+1]+=w[S]>>>16,w[S]&=65535,S++}function E(w,S){this.g=w,this.h=S}function L(w,S){if(y(S))throw Error("division by zero");if(y(w))return new E(p,p);if(v(w))return S=L(T(w),S),new E(T(S.g),T(S.h));if(v(S))return S=L(w,T(S)),new E(T(S.g),S.h);if(30<w.g.length){if(v(w)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var I=m,F=S;0>=F.l(w);)I=j(I),F=j(F);var N=z(I,1),b=z(F,1);for(F=z(F,2),I=z(I,2);!y(F);){var D=b.add(F);0>=D.l(w)&&(N=N.add(I),b=D),F=z(F,1),I=z(I,1)}return S=_(w,N.j(S)),new E(N,S)}for(N=p;0<=w.l(S);){for(I=Math.max(1,Math.floor(w.m()/S.m())),F=Math.ceil(Math.log(I)/Math.LN2),F=48>=F?1:Math.pow(2,F-48),b=u(I),D=b.j(S);v(D)||0<D.l(w);)I-=F,b=u(I),D=b.j(S);y(b)&&(b=m),N=N.add(b),w=_(w,D)}return new E(N,w)}t.A=function(w){return L(this,w).h},t.and=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],F=0;F<S;F++)I[F]=this.i(F)&w.i(F);return new a(I,this.h&w.h)},t.or=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],F=0;F<S;F++)I[F]=this.i(F)|w.i(F);return new a(I,this.h|w.h)},t.xor=function(w){for(var S=Math.max(this.g.length,w.g.length),I=[],F=0;F<S;F++)I[F]=this.i(F)^w.i(F);return new a(I,this.h^w.h)};function j(w){for(var S=w.g.length+1,I=[],F=0;F<S;F++)I[F]=w.i(F)<<1|w.i(F-1)>>>31;return new a(I,w.h)}function z(w,S){var I=S>>5;S%=32;for(var F=w.g.length-I,N=[],b=0;b<F;b++)N[b]=0<S?w.i(b+I)>>>S|w.i(b+I+1)<<32-S:w.i(b+I);return new a(N,w.h)}n.prototype.digest=n.prototype.v,n.prototype.reset=n.prototype.s,n.prototype.update=n.prototype.u,sS=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.A,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=c,mu=a}).apply(typeof jx<"u"?jx:typeof self<"u"?self:typeof window<"u"?window:{});var Ed=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var aS,sh,oS,rp,f2,lS,uS,cS;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(h,k,M){return h==Array.prototype||h==Object.prototype||(h[k]=M.value),h};function r(h){h=[typeof globalThis=="object"&&globalThis,h,typeof window=="object"&&window,typeof self=="object"&&self,typeof Ed=="object"&&Ed];for(var k=0;k<h.length;++k){var M=h[k];if(M&&M.Math==Math)return M}throw Error("Cannot find global object")}var n=r(this);function i(h,k){if(k)e:{var M=n;h=h.split(".");for(var Q=0;Q<h.length-1;Q++){var Se=h[Q];if(!(Se in M))break e;M=M[Se]}h=h[h.length-1],Q=M[h],k=k(Q),k!=Q&&k!=null&&e(M,h,{configurable:!0,writable:!0,value:k})}}function s(h,k){h instanceof String&&(h+="");var M=0,Q=!1,Se={next:function(){if(!Q&&M<h.length){var ke=M++;return{value:k(ke,h[ke]),done:!1}}return Q=!0,{done:!0,value:void 0}}};return Se[Symbol.iterator]=function(){return Se},Se}i("Array.prototype.values",function(h){return h||function(){return s(this,function(k,M){return M})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},o=this||self;function l(h){var k=typeof h;return k=k!="object"?k:h?Array.isArray(h)?"array":k:"null",k=="array"||k=="object"&&typeof h.length=="number"}function u(h){var k=typeof h;return k=="object"&&h!=null||k=="function"}function c(h,k,M){return h.call.apply(h.bind,arguments)}function p(h,k,M){if(!h)throw Error();if(2<arguments.length){var Q=Array.prototype.slice.call(arguments,2);return function(){var Se=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(Se,Q),h.apply(k,Se)}}return function(){return h.apply(k,arguments)}}function m(h,k,M){return m=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?c:p,m.apply(null,arguments)}function d(h,k){var M=Array.prototype.slice.call(arguments,1);return function(){var Q=M.slice();return Q.push.apply(Q,arguments),h.apply(this,Q)}}function y(h,k){function M(){}M.prototype=k.prototype,h.aa=k.prototype,h.prototype=new M,h.prototype.constructor=h,h.Qb=function(Q,Se,ke){for(var Ye=Array(arguments.length-2),Ot=2;Ot<arguments.length;Ot++)Ye[Ot-2]=arguments[Ot];return k.prototype[Se].apply(Q,Ye)}}function v(h){const k=h.length;if(0<k){const M=Array(k);for(let Q=0;Q<k;Q++)M[Q]=h[Q];return M}return[]}function T(h,k){for(let M=1;M<arguments.length;M++){const Q=arguments[M];if(l(Q)){const Se=h.length||0,ke=Q.length||0;h.length=Se+ke;for(let Ye=0;Ye<ke;Ye++)h[Se+Ye]=Q[Ye]}else h.push(Q)}}class _{constructor(k,M){this.i=k,this.j=M,this.h=0,this.g=null}get(){let k;return 0<this.h?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function x(h){return/^[\s\xa0]*$/.test(h)}function E(){var h=o.navigator;return h&&(h=h.userAgent)?h:""}function L(h){return L[" "](h),h}L[" "]=function(){};var j=E().indexOf("Gecko")!=-1&&!(E().toLowerCase().indexOf("webkit")!=-1&&E().indexOf("Edge")==-1)&&!(E().indexOf("Trident")!=-1||E().indexOf("MSIE")!=-1)&&E().indexOf("Edge")==-1;function z(h,k,M){for(const Q in h)k.call(M,h[Q],Q,h)}function w(h,k){for(const M in h)k.call(void 0,h[M],M,h)}function S(h){const k={};for(const M in h)k[M]=h[M];return k}const I="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function F(h,k){let M,Q;for(let Se=1;Se<arguments.length;Se++){Q=arguments[Se];for(M in Q)h[M]=Q[M];for(let ke=0;ke<I.length;ke++)M=I[ke],Object.prototype.hasOwnProperty.call(Q,M)&&(h[M]=Q[M])}}function N(h){var k=1;h=h.split(":");const M=[];for(;0<k&&h.length;)M.push(h.shift()),k--;return h.length&&M.push(h.join(":")),M}function b(h){o.setTimeout(()=>{throw h},0)}function D(){var h=ee;let k=null;return h.g&&(k=h.g,h.g=h.g.next,h.g||(h.h=null),k.next=null),k}class Z{constructor(){this.h=this.g=null}add(k,M){const Q=de.get();Q.set(k,M),this.h?this.h.next=Q:this.g=Q,this.h=Q}}var de=new _(()=>new se,h=>h.reset());class se{constructor(){this.next=this.g=this.h=null}set(k,M){this.h=k,this.g=M,this.next=null}reset(){this.next=this.g=this.h=null}}let re,X=!1,ee=new Z,he=()=>{const h=o.Promise.resolve(void 0);re=()=>{h.then(we)}};var we=()=>{for(var h;h=D();){try{h.h.call(h.g)}catch(M){b(M)}var k=de;k.j(h),100>k.h&&(k.h++,h.next=k.g,k.g=h)}X=!1};function P(){this.s=this.s,this.C=this.C}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(h,k){this.type=h,this.g=this.target=k,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var V=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var h=!1,k=Object.defineProperty({},"passive",{get:function(){h=!0}});try{const M=()=>{};o.addEventListener("test",M,k),o.removeEventListener("test",M,k)}catch{}return h}();function U(h,k){if(B.call(this,h?h.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,h){var M=this.type=h.type,Q=h.changedTouches&&h.changedTouches.length?h.changedTouches[0]:null;if(this.target=h.target||h.srcElement,this.g=k,k=h.relatedTarget){if(j){e:{try{L(k.nodeName);var Se=!0;break e}catch{}Se=!1}Se||(k=null)}}else M=="mouseover"?k=h.fromElement:M=="mouseout"&&(k=h.toElement);this.relatedTarget=k,Q?(this.clientX=Q.clientX!==void 0?Q.clientX:Q.pageX,this.clientY=Q.clientY!==void 0?Q.clientY:Q.pageY,this.screenX=Q.screenX||0,this.screenY=Q.screenY||0):(this.clientX=h.clientX!==void 0?h.clientX:h.pageX,this.clientY=h.clientY!==void 0?h.clientY:h.pageY,this.screenX=h.screenX||0,this.screenY=h.screenY||0),this.button=h.button,this.key=h.key||"",this.ctrlKey=h.ctrlKey,this.altKey=h.altKey,this.shiftKey=h.shiftKey,this.metaKey=h.metaKey,this.pointerId=h.pointerId||0,this.pointerType=typeof h.pointerType=="string"?h.pointerType:Y[h.pointerType]||"",this.state=h.state,this.i=h,h.defaultPrevented&&U.aa.h.call(this)}}y(U,B);var Y={2:"touch",3:"pen",4:"mouse"};U.prototype.h=function(){U.aa.h.call(this);var h=this.i;h.preventDefault?h.preventDefault():h.returnValue=!1};var pe="closure_listenable_"+(1e6*Math.random()|0),me=0;function ge(h,k,M,Q,Se){this.listener=h,this.proxy=null,this.src=k,this.type=M,this.capture=!!Q,this.ha=Se,this.key=++me,this.da=this.fa=!1}function Te(h){h.da=!0,h.listener=null,h.proxy=null,h.src=null,h.ha=null}function Me(h){this.src=h,this.g={},this.h=0}Me.prototype.add=function(h,k,M,Q,Se){var ke=h.toString();h=this.g[ke],h||(h=this.g[ke]=[],this.h++);var Ye=Je(h,k,Q,Se);return-1<Ye?(k=h[Ye],M||(k.fa=!1)):(k=new ge(k,this.src,ke,!!Q,Se),k.fa=M,h.push(k)),k};function Ve(h,k){var M=k.type;if(M in h.g){var Q=h.g[M],Se=Array.prototype.indexOf.call(Q,k,void 0),ke;(ke=0<=Se)&&Array.prototype.splice.call(Q,Se,1),ke&&(Te(k),h.g[M].length==0&&(delete h.g[M],h.h--))}}function Je(h,k,M,Q){for(var Se=0;Se<h.length;++Se){var ke=h[Se];if(!ke.da&&ke.listener==k&&ke.capture==!!M&&ke.ha==Q)return Se}return-1}var st="closure_lm_"+(1e6*Math.random()|0),Re={};function fe(h,k,M,Q,Se){if(Array.isArray(k)){for(var ke=0;ke<k.length;ke++)fe(h,k[ke],M,Q,Se);return null}return M=Lt(M),h&&h[pe]?h.K(k,M,u(Q)?!!Q.capture:!1,Se):He(h,k,M,!1,Q,Se)}function He(h,k,M,Q,Se,ke){if(!k)throw Error("Invalid event type");var Ye=u(Se)?!!Se.capture:!!Se,Ot=wt(h);if(Ot||(h[st]=Ot=new Me(h)),M=Ot.add(k,M,Q,Ye,ke),M.proxy)return M;if(Q=mt(),M.proxy=Q,Q.src=h,Q.listener=M,h.addEventListener)V||(Se=Ye),Se===void 0&&(Se=!1),h.addEventListener(k.toString(),Q,Se);else if(h.attachEvent)h.attachEvent(ot(k.toString()),Q);else if(h.addListener&&h.removeListener)h.addListener(Q);else throw Error("addEventListener and attachEvent are unavailable.");return M}function mt(){function h(M){return k.call(h.src,h.listener,M)}const k=lt;return h}function Ge(h,k,M,Q,Se){if(Array.isArray(k))for(var ke=0;ke<k.length;ke++)Ge(h,k[ke],M,Q,Se);else Q=u(Q)?!!Q.capture:!!Q,M=Lt(M),h&&h[pe]?(h=h.i,k=String(k).toString(),k in h.g&&(ke=h.g[k],M=Je(ke,M,Q,Se),-1<M&&(Te(ke[M]),Array.prototype.splice.call(ke,M,1),ke.length==0&&(delete h.g[k],h.h--)))):h&&(h=wt(h))&&(k=h.g[k.toString()],h=-1,k&&(h=Je(k,M,Q,Se)),(M=-1<h?k[h]:null)&&tt(M))}function tt(h){if(typeof h!="number"&&h&&!h.da){var k=h.src;if(k&&k[pe])Ve(k.i,h);else{var M=h.type,Q=h.proxy;k.removeEventListener?k.removeEventListener(M,Q,h.capture):k.detachEvent?k.detachEvent(ot(M),Q):k.addListener&&k.removeListener&&k.removeListener(Q),(M=wt(k))?(Ve(M,h),M.h==0&&(M.src=null,k[st]=null)):Te(h)}}}function ot(h){return h in Re?Re[h]:Re[h]="on"+h}function lt(h,k){if(h.da)h=!0;else{k=new U(k,this);var M=h.listener,Q=h.ha||h.src;h.fa&&tt(h),h=M.call(Q,k)}return h}function wt(h){return h=h[st],h instanceof Me?h:null}var Et="__closure_events_fn_"+(1e9*Math.random()>>>0);function Lt(h){return typeof h=="function"?h:(h[Et]||(h[Et]=function(k){return h.handleEvent(k)}),h[Et])}function At(){P.call(this),this.i=new Me(this),this.M=this,this.F=null}y(At,P),At.prototype[pe]=!0,At.prototype.removeEventListener=function(h,k,M,Q){Ge(this,h,k,M,Q)};function Nt(h,k){var M,Q=h.F;if(Q)for(M=[];Q;Q=Q.F)M.push(Q);if(h=h.M,Q=k.type||k,typeof k=="string")k=new B(k,h);else if(k instanceof B)k.target=k.target||h;else{var Se=k;k=new B(Q,h),F(k,Se)}if(Se=!0,M)for(var ke=M.length-1;0<=ke;ke--){var Ye=k.g=M[ke];Se=Ht(Ye,Q,!0,k)&&Se}if(Ye=k.g=h,Se=Ht(Ye,Q,!0,k)&&Se,Se=Ht(Ye,Q,!1,k)&&Se,M)for(ke=0;ke<M.length;ke++)Ye=k.g=M[ke],Se=Ht(Ye,Q,!1,k)&&Se}At.prototype.N=function(){if(At.aa.N.call(this),this.i){var h=this.i,k;for(k in h.g){for(var M=h.g[k],Q=0;Q<M.length;Q++)Te(M[Q]);delete h.g[k],h.h--}}this.F=null},At.prototype.K=function(h,k,M,Q){return this.i.add(String(h),k,!1,M,Q)},At.prototype.L=function(h,k,M,Q){return this.i.add(String(h),k,!0,M,Q)};function Ht(h,k,M,Q){if(k=h.i.g[String(k)],!k)return!0;k=k.concat();for(var Se=!0,ke=0;ke<k.length;++ke){var Ye=k[ke];if(Ye&&!Ye.da&&Ye.capture==M){var Ot=Ye.listener,Kt=Ye.ha||Ye.src;Ye.fa&&Ve(h.i,Ye),Se=Ot.call(Kt,Q)!==!1&&Se}}return Se&&!Q.defaultPrevented}function It(h,k,M){if(typeof h=="function")M&&(h=m(h,M));else if(h&&typeof h.handleEvent=="function")h=m(h.handleEvent,h);else throw Error("Invalid listener argument");return 2147483647<Number(k)?-1:o.setTimeout(h,k||0)}function Ut(h){h.g=It(()=>{h.g=null,h.i&&(h.i=!1,Ut(h))},h.l);const k=h.h;h.h=null,h.m.apply(null,k)}class ht extends P{constructor(k,M){super(),this.m=k,this.l=M,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:Ut(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Fr(h){P.call(this),this.h=h,this.g={}}y(Fr,P);var qt=[];function Vn(h){z(h.g,function(k,M){this.g.hasOwnProperty(M)&&tt(k)},h),h.g={}}Fr.prototype.N=function(){Fr.aa.N.call(this),Vn(this)},Fr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Jt=o.JSON.stringify,Sr=o.JSON.parse,Di=class{stringify(h){return o.JSON.stringify(h,void 0)}parse(h){return o.JSON.parse(h,void 0)}};function Gt(){}Gt.prototype.h=null;function Zi(h){return h.h||(h.h=h.i())}function Er(){}var Sn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function wi(){B.call(this,"d")}y(wi,B);function or(){B.call(this,"c")}y(or,B);var Tt={},Qt=null;function Oi(){return Qt=Qt||new At}Tt.La="serverreachability";function Xr(h){B.call(this,Tt.La,h)}y(Xr,B);function kn(h){const k=Oi();Nt(k,new Xr(k))}Tt.STAT_EVENT="statevent";function Si(h,k){B.call(this,Tt.STAT_EVENT,h),this.stat=k}y(Si,B);function vt(h){const k=Oi();Nt(k,new Si(k,h))}Tt.Ma="timingevent";function si(h,k){B.call(this,Tt.Ma,h),this.size=k}y(si,B);function fn(h,k){if(typeof h!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){h()},k)}function Yr(){this.g=!0}Yr.prototype.xa=function(){this.g=!1};function Wr(h,k,M,Q,Se,ke){h.info(function(){if(h.g)if(ke)for(var Ye="",Ot=ke.split("&"),Kt=0;Kt<Ot.length;Kt++){var Mt=Ot[Kt].split("=");if(1<Mt.length){var fr=Mt[0];Mt=Mt[1];var Nr=fr.split("_");Ye=2<=Nr.length&&Nr[1]=="type"?Ye+(fr+"="+Mt+"&"):Ye+(fr+"=redacted&")}}else Ye=null;else Ye=ke;return"XMLHTTP REQ ("+Q+") [attempt "+Se+"]: "+k+`
`+M+`
`+Ye})}function zr(h,k,M,Q,Se,ke,Ye){h.info(function(){return"XMLHTTP RESP ("+Q+") [ attempt "+Se+"]: "+k+`
`+M+`
`+ke+" "+Ye})}function q(h,k,M,Q){h.info(function(){return"XMLHTTP TEXT ("+k+"): "+ne(h,M)+(Q?" "+Q:"")})}function le(h,k){h.info(function(){return"TIMEOUT: "+k})}Yr.prototype.info=function(){};function ne(h,k){if(!h.g)return k;if(!k)return null;try{var M=JSON.parse(k);if(M){for(h=0;h<M.length;h++)if(Array.isArray(M[h])){var Q=M[h];if(!(2>Q.length)){var Se=Q[1];if(Array.isArray(Se)&&!(1>Se.length)){var ke=Se[0];if(ke!="noop"&&ke!="stop"&&ke!="close")for(var Ye=1;Ye<Se.length;Ye++)Se[Ye]=""}}}}return Jt(M)}catch{return k}}var ie={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},oe={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ue;function be(){}y(be,Gt),be.prototype.g=function(){return new XMLHttpRequest},be.prototype.i=function(){return{}},ue=new be;function Fe(h,k,M,Q){this.j=h,this.i=k,this.l=M,this.R=Q||1,this.U=new Fr(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Ne}function Ne(){this.i=null,this.g="",this.h=!1}var Ce={},Le={};function Ke(h,k,M){h.L=1,h.v=Va(Ai(k)),h.m=M,h.P=!0,nt(h,null)}function nt(h,k){h.F=Date.now(),ut(h),h.A=Ai(h.v);var M=h.A,Q=h.R;Array.isArray(Q)||(Q=[String(Q)]),Rt(M.i,"t",Q),h.C=0,M=h.j.J,h.h=new Ne,h.g=H(h.j,M?k:null,!h.m),0<h.O&&(h.M=new ht(m(h.Y,h,h.g),h.O)),k=h.U,M=h.g,Q=h.ca;var Se="readystatechange";Array.isArray(Se)||(Se&&(qt[0]=Se.toString()),Se=qt);for(var ke=0;ke<Se.length;ke++){var Ye=fe(M,Se[ke],Q||k.handleEvent,!1,k.h||k);if(!Ye)break;k.g[Ye.key]=Ye}k=h.H?S(h.H):{},h.m?(h.u||(h.u="POST"),k["Content-Type"]="application/x-www-form-urlencoded",h.g.ea(h.A,h.u,h.m,k)):(h.u="GET",h.g.ea(h.A,h.u,null,k)),kn(),Wr(h.i,h.u,h.A,h.l,h.R,h.m)}Fe.prototype.ca=function(h){h=h.target;const k=this.M;k&&En(h)==3?k.j():this.Y(h)},Fe.prototype.Y=function(h){try{if(h==this.g)e:{const Nr=En(this.g);var k=this.g.Ba();const $s=this.g.Z();if(!(3>Nr)&&(Nr!=3||this.g&&(this.h.h||this.g.oa()||Yu(this.g)))){this.J||Nr!=4||k==7||(k==8||0>=$s?kn(3):kn(2)),Zt(this);var M=this.g.Z();this.X=M;t:if(dt(this)){var Q=Yu(this.g);h="";var Se=Q.length,ke=En(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ar(this),er(this);var Ye="";break t}this.h.i=new o.TextDecoder}for(k=0;k<Se;k++)this.h.h=!0,h+=this.h.i.decode(Q[k],{stream:!(ke&&k==Se-1)});Q.length=0,this.h.g+=h,this.C=0,Ye=this.h.g}else Ye=this.g.oa();if(this.o=M==200,zr(this.i,this.u,this.A,this.l,this.R,Nr,M),this.o){if(this.T&&!this.K){t:{if(this.g){var Ot,Kt=this.g;if((Ot=Kt.g?Kt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!x(Ot)){var Mt=Ot;break t}}Mt=null}if(M=Mt)q(this.i,this.l,M,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ei(this,M);else{this.o=!1,this.s=3,vt(12),Ar(this),er(this);break e}}if(this.P){M=!0;let Hn;for(;!this.J&&this.C<Ye.length;)if(Hn=Ze(this,Ye),Hn==Le){Nr==4&&(this.s=4,vt(14),M=!1),q(this.i,this.l,null,"[Incomplete Response]");break}else if(Hn==Ce){this.s=4,vt(15),q(this.i,this.l,Ye,"[Invalid Chunk]"),M=!1;break}else q(this.i,this.l,Hn,null),Ei(this,Hn);if(dt(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Nr!=4||Ye.length!=0||this.h.h||(this.s=1,vt(16),M=!1),this.o=this.o&&M,!M)q(this.i,this.l,Ye,"[Invalid Chunked Response]"),Ar(this),er(this);else if(0<Ye.length&&!this.W){this.W=!0;var fr=this.j;fr.g==this&&fr.ba&&!fr.M&&(fr.j.info("Great, no buffering proxy detected. Bytes received: "+Ye.length),Do(fr),fr.M=!0,vt(11))}}else q(this.i,this.l,Ye,null),Ei(this,Ye);Nr==4&&Ar(this),this.o&&!this.J&&(Nr==4?xa(this.j,this):(this.o=!1,ut(this)))}else va(this.g),M==400&&0<Ye.indexOf("Unknown SID")?(this.s=3,vt(12)):(this.s=0,vt(13)),Ar(this),er(this)}}}catch{}finally{}};function dt(h){return h.g?h.u=="GET"&&h.L!=2&&h.j.Ca:!1}function Ze(h,k){var M=h.C,Q=k.indexOf(`
`,M);return Q==-1?Le:(M=Number(k.substring(M,Q)),isNaN(M)?Ce:(Q+=1,Q+M>k.length?Le:(k=k.slice(Q,Q+M),h.C=Q+M,k)))}Fe.prototype.cancel=function(){this.J=!0,Ar(this)};function ut(h){h.S=Date.now()+h.I,kt(h,h.I)}function kt(h,k){if(h.B!=null)throw Error("WatchDog timer not null");h.B=fn(m(h.ba,h),k)}function Zt(h){h.B&&(o.clearTimeout(h.B),h.B=null)}Fe.prototype.ba=function(){this.B=null;const h=Date.now();0<=h-this.S?(le(this.i,this.A),this.L!=2&&(kn(),vt(17)),Ar(this),this.s=2,er(this)):kt(this,this.S-h)};function er(h){h.j.G==0||h.J||xa(h.j,h)}function Ar(h){Zt(h);var k=h.M;k&&typeof k.ma=="function"&&k.ma(),h.M=null,Vn(h.U),h.g&&(k=h.g,h.g=null,k.abort(),k.ma())}function Ei(h,k){try{var M=h.j;if(M.G!=0&&(M.g==h||Un(M.h,h))){if(!h.K&&Un(M.h,h)&&M.G==3){try{var Q=M.Da.g.parse(k)}catch{Q=null}if(Array.isArray(Q)&&Q.length==3){var Se=Q;if(Se[0]==0){e:if(!M.u){if(M.g)if(M.g.F+3e3<h.F)Gs(M),ko(M);else break e;qa(M),vt(18)}}else M.za=Se[1],0<M.za-M.T&&37500>Se[2]&&M.F&&M.v==0&&!M.C&&(M.C=fn(m(M.Za,M),6e3));if(1>=ts(M.h)&&M.ca){try{M.ca()}catch{}M.ca=void 0}}else ai(M,11)}else if((h.K||M.g==h)&&Gs(M),!x(k))for(Se=M.Da.g.parse(k),k=0;k<Se.length;k++){let Mt=Se[k];if(M.T=Mt[0],Mt=Mt[1],M.G==2)if(Mt[0]=="c"){M.K=Mt[1],M.ia=Mt[2];const fr=Mt[3];fr!=null&&(M.la=fr,M.j.info("VER="+M.la));const Nr=Mt[4];Nr!=null&&(M.Aa=Nr,M.j.info("SVER="+M.Aa));const $s=Mt[5];$s!=null&&typeof $s=="number"&&0<$s&&(Q=1.5*$s,M.L=Q,M.j.info("backChannelRequestTimeoutMs_="+Q)),Q=M;const Hn=h.g;if(Hn){const _a=Hn.g?Hn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(_a){var ke=Q.h;ke.g||_a.indexOf("spdy")==-1&&_a.indexOf("quic")==-1&&_a.indexOf("h2")==-1||(ke.j=ke.l,ke.g=new Set,ke.h&&(Rr(ke,ke.h),ke.h=null))}if(Q.D){const wa=Hn.g?Hn.g.getResponseHeader("X-HTTP-Session-Id"):null;wa&&(Q.ya=wa,hr(Q.I,Q.D,wa))}}M.G=3,M.l&&M.l.ua(),M.ba&&(M.R=Date.now()-h.F,M.j.info("Handshake RTT: "+M.R+"ms")),Q=M;var Ye=h;if(Q.qa=A(Q,Q.J?Q.ia:null,Q.W),Ye.K){Bl(Q.h,Ye);var Ot=Ye,Kt=Q.L;Kt&&(Ot.I=Kt),Ot.B&&(Zt(Ot),ut(Ot)),Q.g=Ye}else Ro(Q);0<M.i.length&&Lo(M)}else Mt[0]!="stop"&&Mt[0]!="close"||ai(M,7);else M.G==3&&(Mt[0]=="stop"||Mt[0]=="close"?Mt[0]=="stop"?ai(M,7):qs(M):Mt[0]!="noop"&&M.l&&M.l.ta(Mt),M.v=0)}}kn(4)}catch{}}var Vs=class{constructor(h,k){this.g=h,this.map=k}};function es(h){this.l=h||10,o.PerformanceNavigationTiming?(h=o.performance.getEntriesByType("navigation"),h=0<h.length&&(h[0].nextHopProtocol=="hq"||h[0].nextHopProtocol=="h2")):h=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=h?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Mi(h){return h.h?!0:h.g?h.g.size>=h.j:!1}function ts(h){return h.h?1:h.g?h.g.size:0}function Un(h,k){return h.h?h.h==k:h.g?h.g.has(k):!1}function Rr(h,k){h.g?h.g.add(k):h.h=k}function Bl(h,k){h.h&&h.h==k?h.h=null:h.g&&h.g.has(k)&&h.g.delete(k)}es.prototype.cancel=function(){if(this.i=Vl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const h of this.g.values())h.cancel();this.g.clear()}};function Vl(h){if(h.h!=null)return h.i.concat(h.h.D);if(h.g!=null&&h.g.size!==0){let k=h.i;for(const M of h.g.values())k=k.concat(M.D);return k}return v(h.i)}function Wu(h){if(h.V&&typeof h.V=="function")return h.V();if(typeof Map<"u"&&h instanceof Map||typeof Set<"u"&&h instanceof Set)return Array.from(h.values());if(typeof h=="string")return h.split("");if(l(h)){for(var k=[],M=h.length,Q=0;Q<M;Q++)k.push(h[Q]);return k}k=[],M=0;for(Q in h)k[M++]=h[Q];return k}function Ul(h){if(h.na&&typeof h.na=="function")return h.na();if(!h.V||typeof h.V!="function"){if(typeof Map<"u"&&h instanceof Map)return Array.from(h.keys());if(!(typeof Set<"u"&&h instanceof Set)){if(l(h)||typeof h=="string"){var k=[];h=h.length;for(var M=0;M<h;M++)k.push(M);return k}k=[],M=0;for(const Q in h)k[M++]=Q;return k}}}function qu(h,k){if(h.forEach&&typeof h.forEach=="function")h.forEach(k,void 0);else if(l(h)||typeof h=="string")Array.prototype.forEach.call(h,k,void 0);else for(var M=Ul(h),Q=Wu(h),Se=Q.length,ke=0;ke<Se;ke++)k.call(void 0,Q[ke],M&&M[ke],h)}var ji=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function So(h,k){if(h){h=h.split("&");for(var M=0;M<h.length;M++){var Q=h[M].indexOf("="),Se=null;if(0<=Q){var ke=h[M].substring(0,Q);Se=h[M].substring(Q+1)}else ke=h[M];k(ke,Se?decodeURIComponent(Se.replace(/\+/g," ")):"")}}}function Qr(h){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,h instanceof Qr){this.h=h.h,Ba(this,h.j),this.o=h.o,this.g=h.g,Eo(this,h.s),this.l=h.l;var k=h.i,M=new ma;M.i=k.i,k.g&&(M.g=new Map(k.g),M.h=k.h),zl(this,M),this.m=h.m}else h&&(k=String(h).match(ji))?(this.h=!1,Ba(this,k[1]||"",!0),this.o=Ua(k[2]||""),this.g=Ua(k[3]||"",!0),Eo(this,k[4]),this.l=Ua(k[5]||"",!0),zl(this,k[6]||"",!0),this.m=Ua(k[7]||"")):(this.h=!1,this.i=new ma(null,this.h))}Qr.prototype.toString=function(){var h=[],k=this.j;k&&h.push(Us(k,Gu,!0),":");var M=this.g;return(M||k=="file")&&(h.push("//"),(k=this.o)&&h.push(Us(k,Gu,!0),"@"),h.push(encodeURIComponent(String(M)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),M=this.s,M!=null&&h.push(":",String(M))),(M=this.l)&&(this.g&&M.charAt(0)!="/"&&h.push("/"),h.push(Us(M,M.charAt(0)=="/"?zs:Nf,!0))),(M=this.i.toString())&&h.push("?",M),(M=this.m)&&h.push("#",Us(M,To)),h.join("")};function Ai(h){return new Qr(h)}function Ba(h,k,M){h.j=M?Ua(k,!0):k,h.j&&(h.j=h.j.replace(/:$/,""))}function Eo(h,k){if(k){if(k=Number(k),isNaN(k)||0>k)throw Error("Bad port number "+k);h.s=k}else h.s=null}function zl(h,k,M){k instanceof ma?(h.i=k,Cf(h.i,h.h)):(M||(k=Us(k,Ao)),h.i=new ma(k,h.h))}function hr(h,k,M){h.i.set(k,M)}function Va(h){return hr(h,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),h}function Ua(h,k){return h?k?decodeURI(h.replace(/%25/g,"%2525")):decodeURIComponent(h):""}function Us(h,k,M){return typeof h=="string"?(h=encodeURI(h).replace(k,bf),M&&(h=h.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),h):null}function bf(h){return h=h.charCodeAt(0),"%"+(h>>4&15).toString(16)+(h&15).toString(16)}var Gu=/[#\/\?@]/g,Nf=/[#\?:]/g,zs=/[#\?]/g,Ao=/[#\?@]/g,To=/#/g;function ma(h,k){this.h=this.g=null,this.i=h||null,this.j=!!k}function Dr(h){h.g||(h.g=new Map,h.h=0,h.i&&So(h.i,function(k,M){h.add(decodeURIComponent(k.replace(/\+/g," ")),M)}))}t=ma.prototype,t.add=function(h,k){Dr(this),this.i=null,h=ga(this,h);var M=this.g.get(h);return M||this.g.set(h,M=[]),M.push(k),this.h+=1,this};function $u(h,k){Dr(h),k=ga(h,k),h.g.has(k)&&(h.i=null,h.h-=h.g.get(k).length,h.g.delete(k))}function Hl(h,k){return Dr(h),k=ga(h,k),h.g.has(k)}t.forEach=function(h,k){Dr(this),this.g.forEach(function(M,Q){M.forEach(function(Se){h.call(k,Se,Q,this)},this)},this)},t.na=function(){Dr(this);const h=Array.from(this.g.values()),k=Array.from(this.g.keys()),M=[];for(let Q=0;Q<k.length;Q++){const Se=h[Q];for(let ke=0;ke<Se.length;ke++)M.push(k[Q])}return M},t.V=function(h){Dr(this);let k=[];if(typeof h=="string")Hl(this,h)&&(k=k.concat(this.g.get(ga(this,h))));else{h=Array.from(this.g.values());for(let M=0;M<h.length;M++)k=k.concat(h[M])}return k},t.set=function(h,k){return Dr(this),this.i=null,h=ga(this,h),Hl(this,h)&&(this.h-=this.g.get(h).length),this.g.set(h,[k]),this.h+=1,this},t.get=function(h,k){return h?(h=this.V(h),0<h.length?String(h[0]):k):k};function Rt(h,k,M){$u(h,k),0<M.length&&(h.i=null,h.g.set(ga(h,k),v(M)),h.h+=M.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const h=[],k=Array.from(this.g.keys());for(var M=0;M<k.length;M++){var Q=k[M];const ke=encodeURIComponent(String(Q)),Ye=this.V(Q);for(Q=0;Q<Ye.length;Q++){var Se=ke;Ye[Q]!==""&&(Se+="="+encodeURIComponent(String(Ye[Q]))),h.push(Se)}}return this.i=h.join("&")};function ga(h,k){return k=String(k),h.j&&(k=k.toLowerCase()),k}function Cf(h,k){k&&!h.j&&(Dr(h),h.i=null,h.g.forEach(function(M,Q){var Se=Q.toLowerCase();Q!=Se&&($u(this,Q),Rt(this,Se,M))},h)),h.j=k}function Es(h,k){const M=new Yr;if(o.Image){const Q=new Image;Q.onload=d(rs,M,"TestLoadImage: loaded",!0,k,Q),Q.onerror=d(rs,M,"TestLoadImage: error",!1,k,Q),Q.onabort=d(rs,M,"TestLoadImage: abort",!1,k,Q),Q.ontimeout=d(rs,M,"TestLoadImage: timeout",!1,k,Q),o.setTimeout(function(){Q.ontimeout&&Q.ontimeout()},1e4),Q.src=h}else k(!1)}function Ku(h,k){const M=new Yr,Q=new AbortController,Se=setTimeout(()=>{Q.abort(),rs(M,"TestPingServer: timeout",!1,k)},1e4);fetch(h,{signal:Q.signal}).then(ke=>{clearTimeout(Se),ke.ok?rs(M,"TestPingServer: ok",!0,k):rs(M,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(Se),rs(M,"TestPingServer: error",!1,k)})}function rs(h,k,M,Q,Se){try{Se&&(Se.onload=null,Se.onerror=null,Se.onabort=null,Se.ontimeout=null),Q(M)}catch{}}function bo(){this.g=new Di}function Wl(h,k,M){const Q=M||"";try{qu(h,function(Se,ke){let Ye=Se;u(Se)&&(Ye=Jt(Se)),k.push(Q+ke+"="+encodeURIComponent(Ye))})}catch(Se){throw k.push(Q+"type="+encodeURIComponent("_badmap")),Se}}function No(h){this.l=h.Ub||null,this.j=h.eb||!1}y(No,Gt),No.prototype.g=function(){return new Co(this.l,this.j)},No.prototype.i=function(h){return function(){return h}}({});function Co(h,k){At.call(this),this.D=h,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}y(Co,At),t=Co.prototype,t.open=function(h,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=h,this.A=k,this.readyState=1,ns(this)},t.send=function(h){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const k={headers:this.u,method:this.B,credentials:this.m,cache:void 0};h&&(k.body=h),(this.D||o).fetch(new Request(this.A,k)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Hs(this)),this.readyState=0},t.Sa=function(h){if(this.g&&(this.l=h,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=h.headers,this.readyState=2,ns(this)),this.g&&(this.readyState=3,ns(this),this.g)))if(this.responseType==="arraybuffer")h.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in h){if(this.j=h.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Xu(this)}else h.text().then(this.Ra.bind(this),this.ga.bind(this))};function Xu(h){h.j.read().then(h.Pa.bind(h)).catch(h.ga.bind(h))}t.Pa=function(h){if(this.g){if(this.o&&h.value)this.response.push(h.value);else if(!this.o){var k=h.value?h.value:new Uint8Array(0);(k=this.v.decode(k,{stream:!h.done}))&&(this.response=this.responseText+=k)}h.done?Hs(this):ns(this),this.readyState==3&&Xu(this)}},t.Ra=function(h){this.g&&(this.response=this.responseText=h,Hs(this))},t.Qa=function(h){this.g&&(this.response=h,Hs(this))},t.ga=function(){this.g&&Hs(this)};function Hs(h){h.readyState=4,h.l=null,h.j=null,h.v=null,ns(h)}t.setRequestHeader=function(h,k){this.u.append(h,k)},t.getResponseHeader=function(h){return this.h&&this.h.get(h.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const h=[],k=this.h.entries();for(var M=k.next();!M.done;)M=M.value,h.push(M[0]+": "+M[1]),M=k.next();return h.join(`\r
`)};function ns(h){h.onreadystatechange&&h.onreadystatechange.call(h)}Object.defineProperty(Co.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(h){this.m=h?"include":"same-origin"}});function Ws(h){let k="";return z(h,function(M,Q){k+=Q,k+=":",k+=M,k+=`\r
`}),k}function ql(h,k,M){e:{for(Q in M){var Q=!1;break e}Q=!0}Q||(M=Ws(M),typeof h=="string"?M!=null&&encodeURIComponent(String(M)):hr(h,k,M))}function cr(h){At.call(this),this.headers=new Map,this.o=h||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}y(cr,At);var Gl=/^https?$/i,Io=["POST","PUT"];t=cr.prototype,t.Ha=function(h){this.J=h},t.ea=function(h,k,M,Q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+h);k=k?k.toUpperCase():"GET",this.D=h,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ue.g(),this.v=this.o?Zi(this.o):Zi(ue),this.g.onreadystatechange=m(this.Ea,this);try{this.B=!0,this.g.open(k,String(h),!0),this.B=!1}catch(ke){$l(this,ke);return}if(h=M||"",M=new Map(this.headers),Q)if(Object.getPrototypeOf(Q)===Object.prototype)for(var Se in Q)M.set(Se,Q[Se]);else if(typeof Q.keys=="function"&&typeof Q.get=="function")for(const ke of Q.keys())M.set(ke,Q.get(ke));else throw Error("Unknown input type for opt_headers: "+String(Q));Q=Array.from(M.keys()).find(ke=>ke.toLowerCase()=="content-type"),Se=o.FormData&&h instanceof o.FormData,!(0<=Array.prototype.indexOf.call(Io,k,void 0))||Q||Se||M.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ke,Ye]of M)this.g.setRequestHeader(ke,Ye);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{is(this),this.u=!0,this.g.send(h),this.u=!1}catch(ke){$l(this,ke)}};function $l(h,k){h.h=!1,h.g&&(h.j=!0,h.g.abort(),h.j=!1),h.l=k,h.m=5,Kl(h),za(h)}function Kl(h){h.A||(h.A=!0,Nt(h,"complete"),Nt(h,"error"))}t.abort=function(h){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=h||7,Nt(this,"complete"),Nt(this,"abort"),za(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),za(this,!0)),cr.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Xl(this):this.bb())},t.bb=function(){Xl(this)};function Xl(h){if(h.h&&typeof a<"u"&&(!h.v[1]||En(h)!=4||h.Z()!=2)){if(h.u&&En(h)==4)It(h.Ea,0,h);else if(Nt(h,"readystatechange"),En(h)==4){h.h=!1;try{const Ye=h.Z();e:switch(Ye){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var M;if(!(M=k)){var Q;if(Q=Ye===0){var Se=String(h.D).match(ji)[1]||null;!Se&&o.self&&o.self.location&&(Se=o.self.location.protocol.slice(0,-1)),Q=!Gl.test(Se?Se.toLowerCase():"")}M=Q}if(M)Nt(h,"complete"),Nt(h,"success");else{h.m=6;try{var ke=2<En(h)?h.g.statusText:""}catch{ke=""}h.l=ke+" ["+h.Z()+"]",Kl(h)}}finally{za(h)}}}}function za(h,k){if(h.g){is(h);const M=h.g,Q=h.v[0]?()=>{}:null;h.g=null,h.v=null,k||Nt(h,"ready");try{M.onreadystatechange=Q}catch{}}}function is(h){h.I&&(o.clearTimeout(h.I),h.I=null)}t.isActive=function(){return!!this.g};function En(h){return h.g?h.g.readyState:0}t.Z=function(){try{return 2<En(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(h){if(this.g){var k=this.g.responseText;return h&&k.indexOf(h)==0&&(k=k.substring(h.length)),Sr(k)}};function Yu(h){try{if(!h.g)return null;if("response"in h.g)return h.g.response;switch(h.H){case"":case"text":return h.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in h.g)return h.g.mozResponseArrayBuffer}return null}catch{return null}}function va(h){const k={};h=(h.g&&2<=En(h)&&h.g.getAllResponseHeaders()||"").split(`\r
`);for(let Q=0;Q<h.length;Q++){if(x(h[Q]))continue;var M=N(h[Q]);const Se=M[0];if(M=M[1],typeof M!="string")continue;M=M.trim();const ke=k[Se]||[];k[Se]=ke,ke.push(M)}w(k,function(Q){return Q.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function zn(h,k,M){return M&&M.internalChannelParams&&M.internalChannelParams[h]||k}function Po(h){this.Aa=0,this.i=[],this.j=new Yr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=zn("failFast",!1,h),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=zn("baseRetryDelayMs",5e3,h),this.cb=zn("retryDelaySeedMs",1e4,h),this.Wa=zn("forwardChannelMaxRetries",2,h),this.wa=zn("forwardChannelRequestTimeoutMs",2e4,h),this.pa=h&&h.xmlHttpFactory||void 0,this.Xa=h&&h.Tb||void 0,this.Ca=h&&h.useFetchStreams||!1,this.L=void 0,this.J=h&&h.supportsCrossDomainXhr||!1,this.K="",this.h=new es(h&&h.concurrentRequestLimit),this.Da=new bo,this.P=h&&h.fastHandshake||!1,this.O=h&&h.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=h&&h.Rb||!1,h&&h.xa&&this.j.xa(),h&&h.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&h&&h.detectBufferingProxy||!1,this.ja=void 0,h&&h.longPollingTimeout&&0<h.longPollingTimeout&&(this.ja=h.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Po.prototype,t.la=8,t.G=1,t.connect=function(h,k,M,Q){vt(0),this.W=h,this.H=k||{},M&&Q!==void 0&&(this.H.OSID=M,this.H.OAID=Q),this.F=this.X,this.I=A(this,null,this.W),Lo(this)};function qs(h){if(Ha(h),h.G==3){var k=h.U++,M=Ai(h.I);if(hr(M,"SID",h.K),hr(M,"RID",k),hr(M,"TYPE","terminate"),ya(h,M),k=new Fe(h,h.j,k),k.L=2,k.v=Va(Ai(M)),M=!1,o.navigator&&o.navigator.sendBeacon)try{M=o.navigator.sendBeacon(k.v.toString(),"")}catch{}!M&&o.Image&&(new Image().src=k.v,M=!0),M||(k.g=H(k.j,null),k.g.ea(k.v)),k.F=Date.now(),ut(k)}Mo(h)}function ko(h){h.g&&(Do(h),h.g.cancel(),h.g=null)}function Ha(h){ko(h),h.u&&(o.clearTimeout(h.u),h.u=null),Gs(h),h.h.cancel(),h.s&&(typeof h.s=="number"&&o.clearTimeout(h.s),h.s=null)}function Lo(h){if(!Mi(h.h)&&!h.s){h.s=!0;var k=h.Ga;re||he(),X||(re(),X=!0),ee.add(k,h),h.B=0}}function Yl(h,k){return ts(h.h)>=h.h.j-(h.s?1:0)?!1:h.s?(h.i=k.D.concat(h.i),!0):h.G==1||h.G==2||h.B>=(h.Va?0:h.Wa)?!1:(h.s=fn(m(h.Ga,h,k),Oo(h,h.B)),h.B++,!0)}t.Ga=function(h){if(this.s)if(this.s=null,this.G==1){if(!h){this.U=Math.floor(1e5*Math.random()),h=this.U++;const Se=new Fe(this,this.j,h);let ke=this.o;if(this.S&&(ke?(ke=S(ke),F(ke,this.S)):ke=this.S),this.m!==null||this.O||(Se.H=ke,ke=null),this.P)e:{for(var k=0,M=0;M<this.i.length;M++){t:{var Q=this.i[M];if("__data__"in Q.map&&(Q=Q.map.__data__,typeof Q=="string")){Q=Q.length;break t}Q=void 0}if(Q===void 0)break;if(k+=Q,4096<k){k=M;break e}if(k===4096||M===this.i.length-1){k=M+1;break e}}k=1e3}else k=1e3;k=Wa(this,Se,k),M=Ai(this.I),hr(M,"RID",h),hr(M,"CVER",22),this.D&&hr(M,"X-HTTP-Session-Id",this.D),ya(this,M),ke&&(this.O?k="headers="+encodeURIComponent(String(Ws(ke)))+"&"+k:this.m&&ql(M,this.m,ke)),Rr(this.h,Se),this.Ua&&hr(M,"TYPE","init"),this.P?(hr(M,"$req",k),hr(M,"SID","null"),Se.T=!0,Ke(Se,M,null)):Ke(Se,M,k),this.G=2}}else this.G==3&&(h?Fo(this,h):this.i.length==0||Mi(this.h)||Fo(this))};function Fo(h,k){var M;k?M=k.l:M=h.U++;const Q=Ai(h.I);hr(Q,"SID",h.K),hr(Q,"RID",M),hr(Q,"AID",h.T),ya(h,Q),h.m&&h.o&&ql(Q,h.m,h.o),M=new Fe(h,h.j,M,h.B+1),h.m===null&&(M.H=h.o),k&&(h.i=k.D.concat(h.i)),k=Wa(h,M,1e3),M.I=Math.round(.5*h.wa)+Math.round(.5*h.wa*Math.random()),Rr(h.h,M),Ke(M,Q,k)}function ya(h,k){h.H&&z(h.H,function(M,Q){hr(k,Q,M)}),h.l&&qu({},function(M,Q){hr(k,Q,M)})}function Wa(h,k,M){M=Math.min(h.i.length,M);var Q=h.l?m(h.l.Na,h.l,h):null;e:{var Se=h.i;let ke=-1;for(;;){const Ye=["count="+M];ke==-1?0<M?(ke=Se[0].g,Ye.push("ofs="+ke)):ke=0:Ye.push("ofs="+ke);let Ot=!0;for(let Kt=0;Kt<M;Kt++){let Mt=Se[Kt].g;const fr=Se[Kt].map;if(Mt-=ke,0>Mt)ke=Math.max(0,Se[Kt].g-100),Ot=!1;else try{Wl(fr,Ye,"req"+Mt+"_")}catch{Q&&Q(fr)}}if(Ot){Q=Ye.join("&");break e}}}return h=h.i.splice(0,M),k.D=h,Q}function Ro(h){if(!h.g&&!h.u){h.Y=1;var k=h.Fa;re||he(),X||(re(),X=!0),ee.add(k,h),h.v=0}}function qa(h){return h.g||h.u||3<=h.v?!1:(h.Y++,h.u=fn(m(h.Fa,h),Oo(h,h.v)),h.v++,!0)}t.Fa=function(){if(this.u=null,Qu(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var h=2*this.R;this.j.info("BP detection timer enabled: "+h),this.A=fn(m(this.ab,this),h)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,vt(10),ko(this),Qu(this))};function Do(h){h.A!=null&&(o.clearTimeout(h.A),h.A=null)}function Qu(h){h.g=new Fe(h,h.j,"rpc",h.Y),h.m===null&&(h.g.H=h.o),h.g.O=0;var k=Ai(h.qa);hr(k,"RID","rpc"),hr(k,"SID",h.K),hr(k,"AID",h.T),hr(k,"CI",h.F?"0":"1"),!h.F&&h.ja&&hr(k,"TO",h.ja),hr(k,"TYPE","xmlhttp"),ya(h,k),h.m&&h.o&&ql(k,h.m,h.o),h.L&&(h.g.I=h.L);var M=h.g;h=h.ia,M.L=1,M.v=Va(Ai(k)),M.m=null,M.P=!0,nt(M,h)}t.Za=function(){this.C!=null&&(this.C=null,ko(this),qa(this),vt(19))};function Gs(h){h.C!=null&&(o.clearTimeout(h.C),h.C=null)}function xa(h,k){var M=null;if(h.g==k){Gs(h),Do(h),h.g=null;var Q=2}else if(Un(h.h,k))M=k.D,Bl(h.h,k),Q=1;else return;if(h.G!=0){if(k.o)if(Q==1){M=k.m?k.m.length:0,k=Date.now()-k.F;var Se=h.B;Q=Oi(),Nt(Q,new si(Q,M)),Lo(h)}else Ro(h);else if(Se=k.s,Se==3||Se==0&&0<k.X||!(Q==1&&Yl(h,k)||Q==2&&qa(h)))switch(M&&0<M.length&&(k=h.h,k.i=k.i.concat(M)),Se){case 1:ai(h,5);break;case 4:ai(h,10);break;case 3:ai(h,6);break;default:ai(h,2)}}}function Oo(h,k){let M=h.Ta+Math.floor(Math.random()*h.cb);return h.isActive()||(M*=2),M*k}function ai(h,k){if(h.j.info("Error code "+k),k==2){var M=m(h.fb,h),Q=h.Xa;const Se=!Q;Q=new Qr(Q||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ba(Q,"https"),Va(Q),Se?Es(Q.toString(),M):Ku(Q.toString(),M)}else vt(2);h.G=0,h.l&&h.l.sa(k),Mo(h),Ha(h)}t.fb=function(h){h?(this.j.info("Successfully pinged google.com"),vt(2)):(this.j.info("Failed to ping google.com"),vt(1))};function Mo(h){if(h.G=0,h.ka=[],h.l){const k=Vl(h.h);(k.length!=0||h.i.length!=0)&&(T(h.ka,k),T(h.ka,h.i),h.h.i.length=0,v(h.i),h.i.length=0),h.l.ra()}}function A(h,k,M){var Q=M instanceof Qr?Ai(M):new Qr(M);if(Q.g!="")k&&(Q.g=k+"."+Q.g),Eo(Q,Q.s);else{var Se=o.location;Q=Se.protocol,k=k?k+"."+Se.hostname:Se.hostname,Se=+Se.port;var ke=new Qr(null);Q&&Ba(ke,Q),k&&(ke.g=k),Se&&Eo(ke,Se),M&&(ke.l=M),Q=ke}return M=h.D,k=h.ya,M&&k&&hr(Q,M,k),hr(Q,"VER",h.la),ya(h,Q),Q}function H(h,k,M){if(k&&!h.J)throw Error("Can't create secondary domain capable XhrIo object.");return k=h.Ca&&!h.pa?new cr(new No({eb:M})):new cr(h.pa),k.Ha(h.J),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function ce(){}t=ce.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ve(){}ve.prototype.g=function(h,k){return new Ee(h,k)};function Ee(h,k){At.call(this),this.g=new Po(k),this.l=h,this.h=k&&k.messageUrlParams||null,h=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(h?h["X-Client-Protocol"]="webchannel":h={"X-Client-Protocol":"webchannel"}),this.g.o=h,h=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(h?h["X-WebChannel-Content-Type"]=k.messageContentType:h={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.va&&(h?h["X-WebChannel-Client-Profile"]=k.va:h={"X-WebChannel-Client-Profile":k.va}),this.g.S=h,(h=k&&k.Sb)&&!x(h)&&(this.g.m=h),this.v=k&&k.supportsCrossDomainXhr||!1,this.u=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!x(k)&&(this.g.D=k,h=this.h,h!==null&&k in h&&(h=this.h,k in h&&delete h[k])),this.j=new ft(this)}y(Ee,At),Ee.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ee.prototype.close=function(){qs(this.g)},Ee.prototype.o=function(h){var k=this.g;if(typeof h=="string"){var M={};M.__data__=h,h=M}else this.u&&(M={},M.__data__=Jt(h),h=M);k.i.push(new Vs(k.Ya++,h)),k.G==3&&Lo(k)},Ee.prototype.N=function(){this.g.l=null,delete this.j,qs(this.g),delete this.g,Ee.aa.N.call(this)};function Oe(h){wi.call(this),h.__headers__&&(this.headers=h.__headers__,this.statusCode=h.__status__,delete h.__headers__,delete h.__status__);var k=h.__sm__;if(k){e:{for(const M in k){h=M;break e}h=void 0}(this.i=h)&&(h=this.i,k=k!==null&&h in k?k[h]:void 0),this.data=k}else this.data=h}y(Oe,wi);function Xe(){or.call(this),this.status=1}y(Xe,or);function ft(h){this.g=h}y(ft,ce),ft.prototype.ua=function(){Nt(this.g,"a")},ft.prototype.ta=function(h){Nt(this.g,new Oe(h))},ft.prototype.sa=function(h){Nt(this.g,new Xe)},ft.prototype.ra=function(){Nt(this.g,"b")},ve.prototype.createWebChannel=ve.prototype.g,Ee.prototype.send=Ee.prototype.o,Ee.prototype.open=Ee.prototype.m,Ee.prototype.close=Ee.prototype.close,cS=function(){return new ve},uS=function(){return Oi()},lS=Tt,f2={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},ie.NO_ERROR=0,ie.TIMEOUT=8,ie.HTTP_ERROR=6,rp=ie,oe.COMPLETE="complete",oS=oe,Er.EventType=Sn,Sn.OPEN="a",Sn.CLOSE="b",Sn.ERROR="c",Sn.MESSAGE="d",At.prototype.listen=At.prototype.K,sh=Er,cr.prototype.listenOnce=cr.prototype.L,cr.prototype.getLastError=cr.prototype.Ka,cr.prototype.getLastErrorCode=cr.prototype.Ba,cr.prototype.getStatus=cr.prototype.Z,cr.prototype.getResponseJson=cr.prototype.Oa,cr.prototype.getResponseText=cr.prototype.oa,cr.prototype.send=cr.prototype.ea,cr.prototype.setWithCredentials=cr.prototype.Ha,aS=cr}).apply(typeof Ed<"u"?Ed:typeof self<"u"?self:typeof window<"u"?window:{});const Bx="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}pi.UNAUTHENTICATED=new pi(null),pi.GOOGLE_CREDENTIALS=new pi("google-credentials-uid"),pi.FIRST_PARTY=new pi("first-party-uid"),pi.MOCK_USER=new pi("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vf="10.14.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=new Z3("@firebase/firestore");function Qf(){return bu.logLevel}function St(t,...e){if(bu.logLevel<=nr.DEBUG){const r=e.map(Vv);bu.debug(`Firestore (${vf}): ${t}`,...r)}}function go(t,...e){if(bu.logLevel<=nr.ERROR){const r=e.map(Vv);bu.error(`Firestore (${vf}): ${t}`,...r)}}function nf(t,...e){if(bu.logLevel<=nr.WARN){const r=e.map(Vv);bu.warn(`Firestore (${vf}): ${t}`,...r)}}function Vv(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(r){return JSON.stringify(r)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dt(t="Unexpected state"){const e=`FIRESTORE (${vf}) INTERNAL ASSERTION FAILED: `+t;throw go(e),new Error(e)}function _r(t,e){t||Dt()}function Vt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const We={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class xt extends gf{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _l{constructor(){this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fS{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class xI{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable(()=>r(pi.UNAUTHENTICATED))}shutdown(){}}class _I{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable(()=>r(this.token.user))}shutdown(){this.changeListener=null}}class wI{constructor(e){this.t=e,this.currentUser=pi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){_r(this.o===void 0);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new _l;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new _l,e.enqueueRetryable(()=>i(this.currentUser))};const a=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},o=l=>{St("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit(l=>o(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(St("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new _l)}},0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then(n=>this.i!==e?(St("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(_r(typeof n.accessToken=="string"),new fS(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return _r(e===null||typeof e=="string"),new pi(e)}}class SI{constructor(e,r,n){this.l=e,this.h=r,this.P=n,this.type="FirstParty",this.user=pi.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class EI{constructor(e,r,n){this.l=e,this.h=r,this.P=n}getToken(){return Promise.resolve(new SI(this.l,this.h,this.P))}start(e,r){e.enqueueRetryable(()=>r(pi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class AI{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class TI{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,r){_r(this.o===void 0);const n=s=>{s.error!=null&&St("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.R;return this.R=s.token,St("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>n(s))};const i=s=>{St("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):St("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(r=>r?(_r(typeof r.token=="string"),this.R=r.token,new AI(r.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bI(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const i=bI(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%e.length))}return n}}function ar(t,e){return t<e?-1:t>e?1:0}function sf(t,e,r){return t.length===e.length&&t.every((n,i)=>r(n,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pn{constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new xt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new xt(We.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<-62135596800)throw new xt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new xt(We.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Pn.fromMillis(Date.now())}static fromDate(e){return Pn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*r));return new Pn(r,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ar(this.nanoseconds,e.nanoseconds):ar(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Bt(e)}static min(){return new Bt(new Pn(0,0))}static max(){return new Bt(new Pn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,r,n){r===void 0?r=0:r>e.length&&Dt(),n===void 0?n=e.length-r:n>e.length-r&&Dt(),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return Jh.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof Jh?e.forEach(n=>{r.push(n)}):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=e.get(i),a=r.get(i);if(s<a)return-1;if(s>a)return 1}return e.length<r.length?-1:e.length>r.length?1:0}}class jr extends Jh{construct(e,r,n){return new jr(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new xt(We.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter(i=>i.length>0))}return new jr(r)}static emptyPath(){return new jr([])}}const NI=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Yn extends Jh{construct(e,r,n){return new Yn(e,r,n)}static isValidIdentifier(e){return NI.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Yn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Yn(["__name__"])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new xt(We.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new xt(We.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new xt(We.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new xt(We.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Yn(r)}static emptyPath(){return new Yn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bt{constructor(e){this.path=e}static fromPath(e){return new bt(jr.fromString(e))}static fromName(e){return new bt(jr.fromString(e).popFirst(5))}static empty(){return new bt(jr.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&jr.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return jr.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new bt(new jr(e.slice()))}}function CI(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Bt.fromTimestamp(n===1e9?new Pn(r+1,0):new Pn(r,n));return new Tl(i,bt.empty(),e)}function II(t){return new Tl(t.readTime,t.key,-1)}class Tl{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Tl(Bt.min(),bt.empty(),-1)}static max(){return new Tl(Bt.max(),bt.empty(),-1)}}function PI(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=bt.comparator(t.documentKey,e.documentKey),r!==0?r:ar(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kI="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class LI{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S0(t){if(t.code!==We.FAILED_PRECONDITION||t.message!==kI)throw t;St("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)},r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)})}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Dt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new Qe((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}})}toPromise(){return new Promise((e,r)=>{this.next(e,r)})}wrapUserFunction(e){try{const r=e();return r instanceof Qe?r:Qe.resolve(r)}catch(r){return Qe.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction(()=>e(r)):Qe.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction(()=>e(r)):Qe.reject(r)}static resolve(e){return new Qe((r,n)=>{r(e)})}static reject(e){return new Qe((r,n)=>{n(e)})}static waitFor(e){return new Qe((r,n)=>{let i=0,s=0,a=!1;e.forEach(o=>{++i,o.next(()=>{++s,a&&s===i&&r()},l=>n(l))}),a=!0,s===i&&r()})}static or(e){let r=Qe.resolve(!1);for(const n of e)r=r.next(i=>i?Qe.resolve(i):n());return r}static forEach(e,r){const n=[];return e.forEach((i,s)=>{n.push(r.call(this,i,s))}),this.waitFor(n)}static mapArray(e,r){return new Qe((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next(c=>{a[u]=c,++o,o===s&&n(a)},c=>i(c))}})}static doWhile(e,r){return new Qe((n,i)=>{const s=()=>{e()===!0?r().next(()=>{s()},i):n()};s()})}}function FI(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function E0(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uv{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ie(n),this.se=n=>r.writeSequenceNumber(n))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}Uv.oe=-1;function A1(t){return t==null}function Op(t){return t===0&&1/t==-1/0}function RI(t){return typeof t=="number"&&Number.isInteger(t)&&!Op(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vx(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Du(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function dS(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,r){this.comparator=e,this.root=r||Xn.EMPTY}insert(e,r){return new Kr(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Xn.BLACK,null,null))}remove(e){return new Kr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xn.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((r,n)=>(e(r,n),!1))}toString(){const e=[];return this.inorderTraversal((r,n)=>(e.push(`${r}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Ad(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Ad(this.root,e,this.comparator,!1)}getReverseIterator(){return new Ad(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Ad(this.root,e,this.comparator,!0)}}class Ad{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Xn{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Xn.RED,this.left=i??Xn.EMPTY,this.right=s??Xn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Xn(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Xn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Xn.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Xn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Xn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Dt();const e=this.left.check();if(e!==this.right.check())throw Dt();return e+(this.isRed()?0:1)}}Xn.EMPTY=null,Xn.RED=!0,Xn.BLACK=!1;Xn.EMPTY=new class{constructor(){this.size=0}get key(){throw Dt()}get value(){throw Dt()}get color(){throw Dt()}get left(){throw Dt()}get right(){throw Dt()}copy(e,r,n,i,s){return this}insert(e,r,n){return new Xn(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ei{constructor(e){this.comparator=e,this.data=new Kr(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((r,n)=>(e(r),!1))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new Ux(this.data.getIterator())}getIteratorFrom(e){return new Ux(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach(n=>{r=r.add(n)}),r}isEqual(e){if(!(e instanceof ei)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(r=>{e.push(r)}),e}toString(){const e=[];return this.forEach(r=>e.push(r)),"SortedSet("+e.toString()+")"}copy(e){const r=new ei(this.comparator);return r.data=e,r}}class Ux{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ps{constructor(e){this.fields=e,e.sort(Yn.comparator)}static empty(){return new ps([])}unionWith(e){let r=new ei(Yn.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new ps(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return sf(this.fields,e.fields,(r,n)=>r.isEqual(n))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni{constructor(e){this.binaryString=e}static fromBase64String(e){const r=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new pS("Invalid base64 string: "+s):s}}(e);return new ni(r)}static fromUint8Array(e){const r=function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s}(e);return new ni(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(r){return btoa(r)}(this.binaryString)}toUint8Array(){return function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ar(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ni.EMPTY_BYTE_STRING=new ni("");const DI=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bl(t){if(_r(!!t),typeof t=="string"){let e=0;const r=DI.exec(t);if(_r(!!r),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:an(t.seconds),nanos:an(t.nanos)}}function an(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Nu(t){return typeof t=="string"?ni.fromBase64String(t):ni.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zv(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="server_timestamp"}function Hv(t){const e=t.mapValue.fields.__previous_value__;return zv(e)?Hv(e):e}function Zh(t){const e=bl(t.mapValue.fields.__local_write_time__.timestampValue);return new Pn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OI{constructor(e,r,n,i,s,a,o,l,u){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u}}class e0{constructor(e,r){this.projectId=e,this.database=r||"(default)"}static empty(){return new e0("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof e0&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Td={mapValue:{}};function Cu(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?zv(t)?4:jI(t)?9007199254740991:MI(t)?10:11:Dt()}function Oa(t,e){if(t===e)return!0;const r=Cu(t);if(r!==Cu(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Zh(t).isEqual(Zh(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=bl(i.timestampValue),o=bl(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return Nu(i.bytesValue).isEqual(Nu(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return an(i.geoPointValue.latitude)===an(s.geoPointValue.latitude)&&an(i.geoPointValue.longitude)===an(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return an(i.integerValue)===an(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=an(i.doubleValue),o=an(s.doubleValue);return a===o?Op(a)===Op(o):isNaN(a)&&isNaN(o)}return!1}(t,e);case 9:return sf(t.arrayValue.values||[],e.arrayValue.values||[],Oa);case 10:case 11:return function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(Vx(a)!==Vx(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Oa(a[l],o[l])))return!1;return!0}(t,e);default:return Dt()}}function t0(t,e){return(t.values||[]).find(r=>Oa(r,e))!==void 0}function af(t,e){if(t===e)return 0;const r=Cu(t),n=Cu(e);if(r!==n)return ar(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return ar(t.booleanValue,e.booleanValue);case 2:return function(s,a){const o=an(s.integerValue||s.doubleValue),l=an(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1}(t,e);case 3:return zx(t.timestampValue,e.timestampValue);case 4:return zx(Zh(t),Zh(e));case 5:return ar(t.stringValue,e.stringValue);case 6:return function(s,a){const o=Nu(s),l=Nu(a);return o.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const c=ar(o[u],l[u]);if(c!==0)return c}return ar(o.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,a){const o=ar(an(s.latitude),an(a.latitude));return o!==0?o:ar(an(s.longitude),an(a.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Hx(t.arrayValue,e.arrayValue);case 10:return function(s,a){var o,l,u,c;const p=s.fields||{},m=a.fields||{},d=(o=p.value)===null||o===void 0?void 0:o.arrayValue,y=(l=m.value)===null||l===void 0?void 0:l.arrayValue,v=ar(((u=d==null?void 0:d.values)===null||u===void 0?void 0:u.length)||0,((c=y==null?void 0:y.values)===null||c===void 0?void 0:c.length)||0);return v!==0?v:Hx(d,y)}(t.mapValue,e.mapValue);case 11:return function(s,a){if(s===Td.mapValue&&a===Td.mapValue)return 0;if(s===Td.mapValue)return 1;if(a===Td.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},c=Object.keys(u);l.sort(),c.sort();for(let p=0;p<l.length&&p<c.length;++p){const m=ar(l[p],c[p]);if(m!==0)return m;const d=af(o[l[p]],u[c[p]]);if(d!==0)return d}return ar(l.length,c.length)}(t.mapValue,e.mapValue);default:throw Dt()}}function zx(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ar(t,e);const r=bl(t),n=bl(e),i=ar(r.seconds,n.seconds);return i!==0?i:ar(r.nanos,n.nanos)}function Hx(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=af(r[i],n[i]);if(s)return s}return ar(r.length,n.length)}function of(t){return h2(t)}function h2(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(r){const n=bl(r);return`time(${n.seconds},${n.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(r){return Nu(r).toBase64()}(t.bytesValue):"referenceValue"in t?function(r){return bt.fromName(r).toString()}(t.referenceValue):"geoPointValue"in t?function(r){return`geo(${r.latitude},${r.longitude})`}(t.geoPointValue):"arrayValue"in t?function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=h2(s);return n+"]"}(t.arrayValue):"mapValue"in t?function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${h2(r.fields[a])}`;return i+"}"}(t.mapValue):Dt()}function Wx(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function d2(t){return!!t&&"integerValue"in t}function Wv(t){return!!t&&"arrayValue"in t}function qx(t){return!!t&&"nullValue"in t}function Gx(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function np(t){return!!t&&"mapValue"in t}function MI(t){var e,r;return((r=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||r===void 0?void 0:r.stringValue)==="__vector__"}function yh(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return Du(t.mapValue.fields,(r,n)=>e.mapValue.fields[r]=yh(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=yh(t.arrayValue.values[r]);return e}return Object.assign({},t)}function jI(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(e){this.value=e}static empty(){return new Wi({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!np(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=yh(r)}setAll(e){let r=Yn.emptyPath(),n={},i=[];e.forEach((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=yh(a):i.push(o.lastSegment())});const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());np(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Oa(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];np(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Du(r,(i,s)=>e[i]=s);for(const i of n)delete e[i]}clone(){return new Wi(yh(this.value))}}function mS(t){const e=[];return Du(t.fields,(r,n)=>{const i=new Yn([r]);if(np(n)){const s=mS(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)}),new ps(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gi{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new gi(e,0,Bt.min(),Bt.min(),Bt.min(),Wi.empty(),0)}static newFoundDocument(e,r,n,i){return new gi(e,1,r,Bt.min(),n,i,0)}static newNoDocument(e,r){return new gi(e,2,r,Bt.min(),Bt.min(),Wi.empty(),0)}static newUnknownDocument(e,r){return new gi(e,3,r,Bt.min(),Bt.min(),Wi.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Bt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Wi.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Wi.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Bt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof gi&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new gi(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e,r){this.position=e,this.inclusive=r}}function $x(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=bt.comparator(bt.fromName(a.referenceValue),r.key):n=af(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function Kx(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Oa(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r0{constructor(e,r="asc"){this.field=e,this.dir=r}}function BI(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gS{}class yn extends gS{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new UI(e,r,n):r==="array-contains"?new WI(e,n):r==="in"?new qI(e,n):r==="not-in"?new GI(e,n):r==="array-contains-any"?new $I(e,n):new yn(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new zI(e,n):new HI(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&this.matchesComparison(af(r,this.value)):r!==null&&Cu(this.value)===Cu(r)&&this.matchesComparison(af(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Dt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ha extends gS{constructor(e,r){super(),this.filters=e,this.op=r,this.ae=null}static create(e,r){return new ha(e,r)}matches(e){return vS(this)?this.filters.find(r=>!r.matches(e))===void 0:this.filters.find(r=>r.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,r)=>e.concat(r.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vS(t){return t.op==="and"}function yS(t){return VI(t)&&vS(t)}function VI(t){for(const e of t.filters)if(e instanceof ha)return!1;return!0}function p2(t){if(t instanceof yn)return t.field.canonicalString()+t.op.toString()+of(t.value);if(yS(t))return t.filters.map(e=>p2(e)).join(",");{const e=t.filters.map(r=>p2(r)).join(",");return`${t.op}(${e})`}}function xS(t,e){return t instanceof yn?function(n,i){return i instanceof yn&&n.op===i.op&&n.field.isEqual(i.field)&&Oa(n.value,i.value)}(t,e):t instanceof ha?function(n,i){return i instanceof ha&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce((s,a,o)=>s&&xS(a,i.filters[o]),!0):!1}(t,e):void Dt()}function _S(t){return t instanceof yn?function(r){return`${r.field.canonicalString()} ${r.op} ${of(r.value)}`}(t):t instanceof ha?function(r){return r.op.toString()+" {"+r.getFilters().map(_S).join(" ,")+"}"}(t):"Filter"}class UI extends yn{constructor(e,r,n){super(e,r,n),this.key=bt.fromName(n.referenceValue)}matches(e){const r=bt.comparator(e.key,this.key);return this.matchesComparison(r)}}class zI extends yn{constructor(e,r){super(e,"in",r),this.keys=wS("in",r)}matches(e){return this.keys.some(r=>r.isEqual(e.key))}}class HI extends yn{constructor(e,r){super(e,"not-in",r),this.keys=wS("not-in",r)}matches(e){return!this.keys.some(r=>r.isEqual(e.key))}}function wS(t,e){var r;return(((r=e.arrayValue)===null||r===void 0?void 0:r.values)||[]).map(n=>bt.fromName(n.referenceValue))}class WI extends yn{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return Wv(r)&&t0(r.arrayValue,this.value)}}class qI extends yn{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&t0(this.value.arrayValue,r)}}class GI extends yn{constructor(e,r){super(e,"not-in",r)}matches(e){if(t0(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&!t0(this.value.arrayValue,r)}}class $I extends yn{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!Wv(r)||!r.arrayValue.values)&&r.arrayValue.values.some(n=>t0(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KI{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.ue=null}}function Xx(t,e=null,r=[],n=[],i=null,s=null,a=null){return new KI(t,e,r,n,i,s,a)}function qv(t){const e=Vt(t);if(e.ue===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map(n=>p2(n)).join(","),r+="|ob:",r+=e.orderBy.map(n=>function(s){return s.field.canonicalString()+s.dir}(n)).join(","),A1(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map(n=>of(n)).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map(n=>of(n)).join(",")),e.ue=r}return e.ue}function Gv(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!BI(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!xS(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Kx(t.startAt,e.startAt)&&Kx(t.endAt,e.endAt)}function m2(t){return bt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function XI(t,e,r,n,i,s,a,o){return new yf(t,e,r,n,i,s,a,o)}function SS(t){return new yf(t)}function Yx(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ES(t){return t.collectionGroup!==null}function xh(t){const e=Vt(t);if(e.ce===null){e.ce=[];const r=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new ei(Yn.comparator);return a.filters.forEach(l=>{l.getFlattenedFilters().forEach(u=>{u.isInequality()&&(o=o.add(u.field))})}),o})(e).forEach(s=>{r.has(s.canonicalString())||s.isKeyField()||e.ce.push(new r0(s,n))}),r.has(Yn.keyField().canonicalString())||e.ce.push(new r0(Yn.keyField(),n))}return e.ce}function Fa(t){const e=Vt(t);return e.le||(e.le=YI(e,xh(t))),e.le}function YI(t,e){if(t.limitType==="F")return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new r0(i.field,s)});const r=t.endAt?new Mp(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Mp(t.startAt.position,t.startAt.inclusive):null;return Xx(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function g2(t,e){const r=t.filters.concat([e]);return new yf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function v2(t,e,r){return new yf(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function T1(t,e){return Gv(Fa(t),Fa(e))&&t.limitType===e.limitType}function AS(t){return`${qv(Fa(t))}|lt:${t.limitType}`}function vc(t){return`Query(target=${function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map(i=>_S(i)).join(", ")}]`),A1(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map(i=>function(a){return`${a.field.canonicalString()} (${a.dir})`}(i)).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map(i=>of(i)).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map(i=>of(i)).join(",")),`Target(${n})`}(Fa(t))}; limitType=${t.limitType})`}function b1(t,e){return e.isFoundDocument()&&function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):bt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)}(t,e)&&function(n,i){for(const s of xh(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(n,i){return!(n.startAt&&!function(a,o,l){const u=$x(a,o,l);return a.inclusive?u<=0:u<0}(n.startAt,xh(n),i)||n.endAt&&!function(a,o,l){const u=$x(a,o,l);return a.inclusive?u>=0:u>0}(n.endAt,xh(n),i))}(t,e)}function QI(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function TS(t){return(e,r)=>{let n=!1;for(const i of xh(t)){const s=JI(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function JI(t,e,r){const n=t.field.isKeyField()?bt.comparator(e.key,r.key):function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?af(l,u):Dt()}(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Dt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Du(this.inner,(r,n)=>{for(const[i,s]of n)e(i,s)})}isEmpty(){return dS(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZI=new Kr(bt.comparator);function vo(){return ZI}const bS=new Kr(bt.comparator);function ah(...t){let e=bS;for(const r of t)e=e.insert(r.key,r);return e}function NS(t){let e=bS;return t.forEach((r,n)=>e=e.insert(r,n.overlayedDocument)),e}function fu(){return _h()}function CS(){return _h()}function _h(){return new xf(t=>t.toString(),(t,e)=>t.isEqual(e))}const eP=new Kr(bt.comparator),tP=new ei(bt.comparator);function Yt(...t){let e=tP;for(const r of t)e=e.add(r);return e}const rP=new ei(ar);function nP(){return rP}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $v(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Op(e)?"-0":e}}function IS(t){return{integerValue:""+t}}function iP(t,e){return RI(e)?IS(e):$v(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(){this._=void 0}}function sP(t,e,r){return t instanceof jp?function(i,s){const a={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&zv(s)&&(s=Hv(s)),s&&(a.fields.__previous_value__=s),{mapValue:a}}(r,e):t instanceof n0?kS(t,e):t instanceof i0?LS(t,e):function(i,s){const a=PS(i,s),o=Qx(a)+Qx(i.Pe);return d2(a)&&d2(i.Pe)?IS(o):$v(i.serializer,o)}(t,e)}function aP(t,e,r){return t instanceof n0?kS(t,e):t instanceof i0?LS(t,e):r}function PS(t,e){return t instanceof Bp?function(n){return d2(n)||function(s){return!!s&&"doubleValue"in s}(n)}(e)?e:{integerValue:0}:null}class jp extends N1{}class n0 extends N1{constructor(e){super(),this.elements=e}}function kS(t,e){const r=FS(e);for(const n of t.elements)r.some(i=>Oa(i,n))||r.push(n);return{arrayValue:{values:r}}}class i0 extends N1{constructor(e){super(),this.elements=e}}function LS(t,e){let r=FS(e);for(const n of t.elements)r=r.filter(i=>!Oa(i,n));return{arrayValue:{values:r}}}class Bp extends N1{constructor(e,r){super(),this.serializer=e,this.Pe=r}}function Qx(t){return an(t.integerValue||t.doubleValue)}function FS(t){return Wv(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function oP(t,e){return t.field.isEqual(e.field)&&function(n,i){return n instanceof n0&&i instanceof n0||n instanceof i0&&i instanceof i0?sf(n.elements,i.elements,Oa):n instanceof Bp&&i instanceof Bp?Oa(n.Pe,i.Pe):n instanceof jp&&i instanceof jp}(t.transform,e.transform)}class lP{constructor(e,r){this.version=e,this.transformResults=r}}class ua{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new ua}static exists(e){return new ua(void 0,e)}static updateTime(e){return new ua(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ip(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class C1{}function RS(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kv(t.key,ua.none()):new A0(t.key,t.data,ua.none());{const r=t.data,n=Wi.empty();let i=new ei(Yn.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Ml(t.key,n,new ps(i.toArray()),ua.none())}}function uP(t,e,r){t instanceof A0?function(i,s,a){const o=i.value.clone(),l=Zx(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()}(t,e,r):t instanceof Ml?function(i,s,a){if(!ip(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=Zx(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(DS(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()}(t,e,r):function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()}(0,e,r)}function wh(t,e,r,n){return t instanceof A0?function(s,a,o,l){if(!ip(s.precondition,a))return o;const u=s.value.clone(),c=e_(s.fieldTransforms,l,a);return u.setAll(c),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null}(t,e,r,n):t instanceof Ml?function(s,a,o,l){if(!ip(s.precondition,a))return o;const u=e_(s.fieldTransforms,l,a),c=a.data;return c.setAll(DS(s)),c.setAll(u),a.convertToFoundDocument(a.version,c).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(p=>p.field))}(t,e,r,n):function(s,a,o){return ip(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o}(t,e,r)}function cP(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=PS(n.transform,i||null);s!=null&&(r===null&&(r=Wi.empty()),r.set(n.field,s))}return r||null}function Jx(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&sf(n,i,(s,a)=>oP(s,a))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class A0 extends C1{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ml extends C1{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DS(t){const e=new Map;return t.fieldMask.fields.forEach(r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}}),e}function Zx(t,e,r){const n=new Map;_r(t.length===r.length);for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,aP(a,o,r[i]))}return n}function e_(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,sP(s,a,e))}return n}class Kv extends C1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fP extends C1{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hP{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&uP(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=wh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=wh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=CS();return this.mutations.forEach(i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=RS(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Bt.min())}),n}keys(){return this.mutations.reduce((e,r)=>e.add(r.key),Yt())}isEqual(e){return this.batchId===e.batchId&&sf(this.mutations,e.mutations,(r,n)=>Jx(r,n))&&sf(this.baseMutations,e.baseMutations,(r,n)=>Jx(r,n))}}class Xv{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){_r(e.mutations.length===n.length);let i=function(){return eP}();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new Xv(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mn,tr;function mP(t){switch(t){default:return Dt();case We.CANCELLED:case We.UNKNOWN:case We.DEADLINE_EXCEEDED:case We.RESOURCE_EXHAUSTED:case We.INTERNAL:case We.UNAVAILABLE:case We.UNAUTHENTICATED:return!1;case We.INVALID_ARGUMENT:case We.NOT_FOUND:case We.ALREADY_EXISTS:case We.PERMISSION_DENIED:case We.FAILED_PRECONDITION:case We.ABORTED:case We.OUT_OF_RANGE:case We.UNIMPLEMENTED:case We.DATA_LOSS:return!0}}function OS(t){if(t===void 0)return go("GRPC error has no .code"),We.UNKNOWN;switch(t){case mn.OK:return We.OK;case mn.CANCELLED:return We.CANCELLED;case mn.UNKNOWN:return We.UNKNOWN;case mn.DEADLINE_EXCEEDED:return We.DEADLINE_EXCEEDED;case mn.RESOURCE_EXHAUSTED:return We.RESOURCE_EXHAUSTED;case mn.INTERNAL:return We.INTERNAL;case mn.UNAVAILABLE:return We.UNAVAILABLE;case mn.UNAUTHENTICATED:return We.UNAUTHENTICATED;case mn.INVALID_ARGUMENT:return We.INVALID_ARGUMENT;case mn.NOT_FOUND:return We.NOT_FOUND;case mn.ALREADY_EXISTS:return We.ALREADY_EXISTS;case mn.PERMISSION_DENIED:return We.PERMISSION_DENIED;case mn.FAILED_PRECONDITION:return We.FAILED_PRECONDITION;case mn.ABORTED:return We.ABORTED;case mn.OUT_OF_RANGE:return We.OUT_OF_RANGE;case mn.UNIMPLEMENTED:return We.UNIMPLEMENTED;case mn.DATA_LOSS:return We.DATA_LOSS;default:return Dt()}}(tr=mn||(mn={}))[tr.OK=0]="OK",tr[tr.CANCELLED=1]="CANCELLED",tr[tr.UNKNOWN=2]="UNKNOWN",tr[tr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",tr[tr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",tr[tr.NOT_FOUND=5]="NOT_FOUND",tr[tr.ALREADY_EXISTS=6]="ALREADY_EXISTS",tr[tr.PERMISSION_DENIED=7]="PERMISSION_DENIED",tr[tr.UNAUTHENTICATED=16]="UNAUTHENTICATED",tr[tr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",tr[tr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",tr[tr.ABORTED=10]="ABORTED",tr[tr.OUT_OF_RANGE=11]="OUT_OF_RANGE",tr[tr.UNIMPLEMENTED=12]="UNIMPLEMENTED",tr[tr.INTERNAL=13]="INTERNAL",tr[tr.UNAVAILABLE=14]="UNAVAILABLE",tr[tr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gP(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vP=new mu([4294967295,4294967295],0);function t_(t){const e=gP().encode(t),r=new sS;return r.update(e),new Uint8Array(r.digest())}function r_(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new mu([r,n],0),new mu([i,s],0)]}class Yv{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new oh(`Invalid padding: ${r}`);if(n<0)throw new oh(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new oh(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new oh(`Invalid padding when bitmap length is 0: ${r}`);this.Ie=8*e.length-r,this.Te=mu.fromNumber(this.Ie)}Ee(e,r,n){let i=e.add(r.multiply(mu.fromNumber(n)));return i.compare(vP)===1&&(i=new mu([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const r=t_(e),[n,i]=r_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);if(!this.de(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new Yv(s,i,r);return n.forEach(o=>a.insert(o)),a}insert(e){if(this.Ie===0)return;const r=t_(e),[n,i]=r_(r);for(let s=0;s<this.hashCount;s++){const a=this.Ee(n,i,s);this.Ae(a)}}Ae(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class oh extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I1{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,T0.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new I1(Bt.min(),i,new Kr(ar),vo(),Yt())}}class T0{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new T0(n,r,Yt(),Yt(),Yt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(e,r,n,i){this.Re=e,this.removedTargetIds=r,this.key=n,this.Ve=i}}class MS{constructor(e,r){this.targetId=e,this.me=r}}class jS{constructor(e,r,n=ni.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class n_{constructor(){this.fe=0,this.ge=s_(),this.pe=ni.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Yt(),r=Yt(),n=Yt();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Dt()}}),new T0(this.pe,this.ye,e,r,n)}Ce(){this.we=!1,this.ge=s_()}Fe(e,r){this.we=!0,this.ge=this.ge.insert(e,r)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,_r(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class yP{constructor(e){this.Le=e,this.Be=new Map,this.ke=vo(),this.qe=i_(),this.Qe=new Kr(ar)}Ke(e){for(const r of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(r,e.Ve):this.Ue(r,e.key,e.Ve);for(const r of e.removedTargetIds)this.Ue(r,e.key,e.Ve)}We(e){this.forEachTarget(e,r=>{const n=this.Ge(r);switch(e.state){case 0:this.ze(r)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(r);break;case 3:this.ze(r)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.ze(r)&&(this.je(r),n.De(e.resumeToken));break;default:Dt()}})}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.Be.forEach((n,i)=>{this.ze(i)&&r(i)})}He(e){const r=e.targetId,n=e.me.count,i=this.Je(r);if(i){const s=i.target;if(m2(s))if(n===0){const a=new bt(s.path);this.Ue(r,a,gi.newNoDocument(a,Bt.min()))}else _r(n===1);else{const a=this.Ye(r);if(a!==n){const o=this.Ze(e),l=o?this.Xe(o,e,a):1;if(l!==0){this.je(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(r,u)}}}}}Ze(e){const r=e.me.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Nu(n).toUint8Array()}catch(l){if(l instanceof pS)return nf("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new Yv(a,i,s)}catch(l){return nf(l instanceof oh?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.Ie===0?null:o}Xe(e,r,n){return r.me.count===n-this.nt(e,r.targetId)?0:2}nt(e,r){const n=this.Le.getRemoteKeysForTarget(r);let i=0;return n.forEach(s=>{const a=this.Le.tt(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.Ue(r,s,null),i++)}),i}rt(e){const r=new Map;this.Be.forEach((s,a)=>{const o=this.Je(a);if(o){if(s.current&&m2(o.target)){const l=new bt(o.target.path);this.ke.get(l)!==null||this.it(a,l)||this.Ue(a,l,gi.newNoDocument(l,e))}s.be&&(r.set(a,s.ve()),s.Ce())}});let n=Yt();this.qe.forEach((s,a)=>{let o=!0;a.forEachWhile(l=>{const u=this.Je(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)}),o&&(n=n.add(s))}),this.ke.forEach((s,a)=>a.setReadTime(e));const i=new I1(e,r,this.Qe,this.ke,n);return this.ke=vo(),this.qe=i_(),this.Qe=new Kr(ar),i}$e(e,r){if(!this.ze(e))return;const n=this.it(e,r.key)?2:0;this.Ge(e).Fe(r.key,n),this.ke=this.ke.insert(r.key,r),this.qe=this.qe.insert(r.key,this.st(r.key).add(e))}Ue(e,r,n){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,r)?i.Fe(r,1):i.Me(r),this.qe=this.qe.insert(r,this.st(r).delete(e)),n&&(this.ke=this.ke.insert(r,n))}removeTarget(e){this.Be.delete(e)}Ye(e){const r=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let r=this.Be.get(e);return r||(r=new n_,this.Be.set(e,r)),r}st(e){let r=this.qe.get(e);return r||(r=new ei(ar),this.qe=this.qe.insert(e,r)),r}ze(e){const r=this.Je(e)!==null;return r||St("WatchChangeAggregator","Detected inactive target",e),r}Je(e){const r=this.Be.get(e);return r&&r.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new n_),this.Le.getRemoteKeysForTarget(e).forEach(r=>{this.Ue(e,r,null)})}it(e,r){return this.Le.getRemoteKeysForTarget(e).has(r)}}function i_(){return new Kr(bt.comparator)}function s_(){return new Kr(bt.comparator)}const xP={asc:"ASCENDING",desc:"DESCENDING"},_P={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},wP={and:"AND",or:"OR"};class SP{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function y2(t,e){return t.useProto3Json||A1(e)?e:{value:e}}function Vp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BS(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function EP(t,e){return Vp(t,e.toTimestamp())}function Ra(t){return _r(!!t),Bt.fromTimestamp(function(r){const n=bl(r);return new Pn(n.seconds,n.nanos)}(t))}function Qv(t,e){return x2(t,e).canonicalString()}function x2(t,e){const r=function(i){return new jr(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?r:r.child(e)}function VS(t){const e=jr.fromString(t);return _r(qS(e)),e}function _2(t,e){return Qv(t.databaseId,e.path)}function Hm(t,e){const r=VS(e);if(r.get(1)!==t.databaseId.projectId)throw new xt(We.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new xt(We.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new bt(zS(r))}function US(t,e){return Qv(t.databaseId,e)}function AP(t){const e=VS(t);return e.length===4?jr.emptyPath():zS(e)}function w2(t){return new jr(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zS(t){return _r(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function a_(t,e,r){return{name:_2(t,e),fields:r.value.mapValue.fields}}function TP(t,e){let r;if("targetChange"in e){e.targetChange;const n=function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Dt()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(u,c){return u.useProto3Json?(_r(c===void 0||typeof c=="string"),ni.fromBase64String(c||"")):(_r(c===void 0||c instanceof Buffer||c instanceof Uint8Array),ni.fromUint8Array(c||new Uint8Array))}(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&function(u){const c=u.code===void 0?We.UNKNOWN:OS(u.code);return new xt(c,u.message||"")}(a);r=new jS(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Hm(t,n.document.name),s=Ra(n.document.updateTime),a=n.document.createTime?Ra(n.document.createTime):Bt.min(),o=new Wi({mapValue:{fields:n.document.fields}}),l=gi.newFoundDocument(i,s,a,o),u=n.targetIds||[],c=n.removedTargetIds||[];r=new sp(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Hm(t,n.document),s=n.readTime?Ra(n.readTime):Bt.min(),a=gi.newNoDocument(i,s),o=n.removedTargetIds||[];r=new sp([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Hm(t,n.document),s=n.removedTargetIds||[];r=new sp([],s,i,null)}else{if(!("filter"in e))return Dt();{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new pP(i,s),o=n.targetId;r=new MS(o,a)}}return r}function bP(t,e){let r;if(e instanceof A0)r={update:a_(t,e.key,e.value)};else if(e instanceof Kv)r={delete:_2(t,e.key)};else if(e instanceof Ml)r={update:a_(t,e.key,e.data),updateMask:DP(e.fieldMask)};else{if(!(e instanceof fP))return Dt();r={verify:_2(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map(n=>function(s,a){const o=a.transform;if(o instanceof jp)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof n0)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof i0)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof Bp)return{fieldPath:a.field.canonicalString(),increment:o.Pe};throw Dt()}(0,n))),e.precondition.isNone||(r.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:EP(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Dt()}(t,e.precondition)),r}function NP(t,e){return t&&t.length>0?(_r(e!==void 0),t.map(r=>function(i,s){let a=i.updateTime?Ra(i.updateTime):Ra(s);return a.isEqual(Bt.min())&&(a=Ra(s)),new lP(a,i.transformResults||[])}(r,e))):[]}function CP(t,e){return{documents:[US(t,e.path)]}}function IP(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=US(t,i);const s=function(u){if(u.length!==0)return WS(ha.create(u,"and"))}(e.filters);s&&(r.structuredQuery.where=s);const a=function(u){if(u.length!==0)return u.map(c=>function(m){return{field:yc(m.field),direction:LP(m.dir)}}(c))}(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=y2(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=function(u){return{before:u.inclusive,values:u.position}}(e.startAt)),e.endAt&&(r.structuredQuery.endAt=function(u){return{before:!u.inclusive,values:u.position}}(e.endAt)),{_t:r,parent:i}}function PP(t){let e=AP(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){_r(n===1);const c=r.from[0];c.allDescendants?i=c.collectionId:e=e.child(c.collectionId)}let s=[];r.where&&(s=function(p){const m=HS(p);return m instanceof ha&&yS(m)?m.getFilters():[m]}(r.where));let a=[];r.orderBy&&(a=function(p){return p.map(m=>function(y){return new r0(xc(y.field),function(T){switch(T){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(y.direction))}(m))}(r.orderBy));let o=null;r.limit&&(o=function(p){let m;return m=typeof p=="object"?p.value:p,A1(m)?null:m}(r.limit));let l=null;r.startAt&&(l=function(p){const m=!!p.before,d=p.values||[];return new Mp(d,m)}(r.startAt));let u=null;return r.endAt&&(u=function(p){const m=!p.before,d=p.values||[];return new Mp(d,m)}(r.endAt)),XI(e,i,a,s,o,"F",l,u)}function kP(t,e){const r=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Dt()}}(e.purpose);return r==null?null:{"goog-listen-tags":r}}function HS(t){return t.unaryFilter!==void 0?function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=xc(r.unaryFilter.field);return yn.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=xc(r.unaryFilter.field);return yn.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=xc(r.unaryFilter.field);return yn.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=xc(r.unaryFilter.field);return yn.create(a,"!=",{nullValue:"NULL_VALUE"});default:return Dt()}}(t):t.fieldFilter!==void 0?function(r){return yn.create(xc(r.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Dt()}}(r.fieldFilter.op),r.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(r){return ha.create(r.compositeFilter.filters.map(n=>HS(n)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Dt()}}(r.compositeFilter.op))}(t):Dt()}function LP(t){return xP[t]}function FP(t){return _P[t]}function RP(t){return wP[t]}function yc(t){return{fieldPath:t.canonicalString()}}function xc(t){return Yn.fromServerFormat(t.fieldPath)}function WS(t){return t instanceof yn?function(r){if(r.op==="=="){if(Gx(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NAN"}};if(qx(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(Gx(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NOT_NAN"}};if(qx(r.value))return{unaryFilter:{field:yc(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:yc(r.field),op:FP(r.op),value:r.value}}}(t):t instanceof ha?function(r){const n=r.getFilters().map(i=>WS(i));return n.length===1?n[0]:{compositeFilter:{op:RP(r.op),filters:n}}}(t):Dt()}function DP(t){const e=[];return t.fields.forEach(r=>e.push(r.canonicalString())),{fieldPaths:e}}function qS(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class al{constructor(e,r,n,i,s=Bt.min(),a=Bt.min(),o=ni.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new al(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new al(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OP{constructor(e){this.ct=e}}function MP(t){const e=PP({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?v2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.un=new BP}addToCollectionParentIndex(e,r){return this.un.add(r),Qe.resolve()}getCollectionParents(e,r){return Qe.resolve(this.un.getEntries(r))}addFieldIndex(e,r){return Qe.resolve()}deleteFieldIndex(e,r){return Qe.resolve()}deleteAllFieldIndexes(e){return Qe.resolve()}createTargetIndexes(e,r){return Qe.resolve()}getDocumentsMatchingTarget(e,r){return Qe.resolve(null)}getIndexType(e,r){return Qe.resolve(0)}getFieldIndexes(e,r){return Qe.resolve([])}getNextCollectionGroupToUpdate(e){return Qe.resolve(null)}getMinOffset(e,r){return Qe.resolve(Tl.min())}getMinOffsetFromCollectionGroup(e,r){return Qe.resolve(Tl.min())}updateCollectionGroup(e,r,n){return Qe.resolve()}updateIndexEntries(e,r){return Qe.resolve()}}class BP{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new ei(jr.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new ei(jr.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lf{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new lf(0)}static kn(){return new lf(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(){this.changes=new xf(e=>e.toString(),(e,r)=>e.isEqual(r)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,gi.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?Qe.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zP{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next(i=>(n=i,this.remoteDocumentCache.getEntry(e,r))).next(i=>(n!==null&&wh(n.mutation,i,ps.empty(),Pn.now()),i))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.getLocalViewOfDocuments(e,n,Yt()).next(()=>n))}getLocalViewOfDocuments(e,r,n=Yt()){const i=fu();return this.populateOverlays(e,i,r).next(()=>this.computeViews(e,r,i,n).next(s=>{let a=ah();return s.forEach((o,l)=>{a=a.insert(o,l.overlayedDocument)}),a}))}getOverlayedDocuments(e,r){const n=fu();return this.populateOverlays(e,n,r).next(()=>this.computeViews(e,r,n,Yt()))}populateOverlays(e,r,n){const i=[];return n.forEach(s=>{r.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((a,o)=>{r.set(a,o)})})}computeViews(e,r,n,i){let s=vo();const a=_h(),o=function(){return _h()}();return r.forEach((l,u)=>{const c=n.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof Ml)?s=s.insert(u.key,u):c!==void 0?(a.set(u.key,c.mutation.getFieldMask()),wh(c.mutation,u,c.mutation.getFieldMask(),Pn.now())):a.set(u.key,ps.empty())}),this.recalculateAndSaveOverlays(e,s).next(l=>(l.forEach((u,c)=>a.set(u,c)),r.forEach((u,c)=>{var p;return o.set(u,new UP(c,(p=a.get(u))!==null&&p!==void 0?p:null))}),o))}recalculateAndSaveOverlays(e,r){const n=_h();let i=new Kr((a,o)=>a-o),s=Yt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next(a=>{for(const o of a)o.keys().forEach(l=>{const u=r.get(l);if(u===null)return;let c=n.get(l)||ps.empty();c=o.applyToLocalView(u,c),n.set(l,c);const p=(i.get(o.batchId)||Yt()).add(l);i=i.insert(o.batchId,p)})}).next(()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,c=l.value,p=CS();c.forEach(m=>{if(!s.has(m)){const d=RS(r.get(m),n.get(m));d!==null&&p.set(m,d),s=s.add(m)}}),a.push(this.documentOverlayCache.saveOverlays(e,u,p))}return Qe.waitFor(a)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,r,n,i){return function(a){return bt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0}(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ES(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next(s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):Qe.resolve(fu());let o=-1,l=s;return a.next(u=>Qe.forEach(u,(c,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),s.get(c)?Qe.resolve():this.remoteDocumentCache.getEntry(e,c).next(m=>{l=l.insert(c,m)}))).next(()=>this.populateOverlays(e,u,s)).next(()=>this.computeViews(e,l,u,Yt())).next(c=>({batchId:o,changes:NS(c)})))})}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new bt(r)).next(n=>{let i=ah();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i})}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=ah();return this.indexManager.getCollectionParents(e,s).next(o=>Qe.forEach(o,l=>{const u=function(p,m){return new yf(m,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)}(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next(c=>{c.forEach((p,m)=>{a=a.insert(p,m)})})}).next(()=>a))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next(a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i))).next(a=>{s.forEach((l,u)=>{const c=u.getKey();a.get(c)===null&&(a=a.insert(c,gi.newInvalidDocument(c)))});let o=ah();return a.forEach((l,u)=>{const c=s.get(l);c!==void 0&&wh(c.mutation,u,ps.empty(),Pn.now()),b1(r,u)&&(o=o.insert(l,u))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,r){return Qe.resolve(this.hr.get(r))}saveBundleMetadata(e,r){return this.hr.set(r.id,function(i){return{id:i.id,version:i.version,createTime:Ra(i.createTime)}}(r)),Qe.resolve()}getNamedQuery(e,r){return Qe.resolve(this.Pr.get(r))}saveNamedQuery(e,r){return this.Pr.set(r.name,function(i){return{name:i.name,query:MP(i.bundledQuery),readTime:Ra(i.readTime)}}(r)),Qe.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WP{constructor(){this.overlays=new Kr(bt.comparator),this.Ir=new Map}getOverlay(e,r){return Qe.resolve(this.overlays.get(r))}getOverlays(e,r){const n=fu();return Qe.forEach(r,i=>this.getOverlay(e,i).next(s=>{s!==null&&n.set(i,s)})).next(()=>n)}saveOverlays(e,r,n){return n.forEach((i,s)=>{this.ht(e,r,s)}),Qe.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Ir.get(n);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(n)),Qe.resolve()}getOverlaysForCollection(e,r,n){const i=fu(),s=r.length+1,a=new bt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return Qe.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new Kr((u,c)=>u-c);const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let c=s.get(u.largestBatchId);c===null&&(c=fu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const o=fu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>o.set(u,c)),!(o.size()>=i)););return Qe.resolve(o)}ht(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.Ir.get(i.largestBatchId).delete(n.key);this.Ir.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new dP(r,n));let s=this.Ir.get(r);s===void 0&&(s=Yt(),this.Ir.set(r,s)),this.Ir.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(){this.sessionToken=ni.EMPTY_BYTE_STRING}getSessionToken(e){return Qe.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,Qe.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jv{constructor(){this.Tr=new ei(Rn.Er),this.dr=new ei(Rn.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,r){const n=new Rn(e,r);this.Tr=this.Tr.add(n),this.dr=this.dr.add(n)}Rr(e,r){e.forEach(n=>this.addReference(n,r))}removeReference(e,r){this.Vr(new Rn(e,r))}mr(e,r){e.forEach(n=>this.removeReference(n,r))}gr(e){const r=new bt(new jr([])),n=new Rn(r,e),i=new Rn(r,e+1),s=[];return this.dr.forEachInRange([n,i],a=>{this.Vr(a),s.push(a.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){const r=new bt(new jr([])),n=new Rn(r,e),i=new Rn(r,e+1);let s=Yt();return this.dr.forEachInRange([n,i],a=>{s=s.add(a.key)}),s}containsKey(e){const r=new Rn(e,0),n=this.Tr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Rn{constructor(e,r){this.key=e,this.wr=r}static Er(e,r){return bt.comparator(e.key,r.key)||ar(e.wr,r.wr)}static Ar(e,r){return ar(e.wr,r.wr)||bt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Sr=1,this.br=new ei(Rn.Er)}checkEmpty(e){return Qe.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new hP(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.br=this.br.add(new Rn(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return Qe.resolve(a)}lookupMutationBatch(e,r){return Qe.resolve(this.Dr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.vr(n),s=i<0?0:i;return Qe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Qe.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return Qe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Rn(r,0),i=new Rn(r,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([n,i],a=>{const o=this.Dr(a.wr);s.push(o)}),Qe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new ei(ar);return r.forEach(i=>{const s=new Rn(i,0),a=new Rn(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,a],o=>{n=n.add(o.wr)})}),Qe.resolve(this.Cr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;bt.isDocumentKey(s)||(s=s.child(""));const a=new Rn(new bt(s),0);let o=new ei(ar);return this.br.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.wr)),!0)},a),Qe.resolve(this.Cr(o))}Cr(e){const r=[];return e.forEach(n=>{const i=this.Dr(n);i!==null&&r.push(i)}),r}removeMutationBatch(e,r){_r(this.Fr(r.batchId,"removed")===0),this.mutationQueue.shift();let n=this.br;return Qe.forEach(r.mutations,i=>{const s=new Rn(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=n})}On(e){}containsKey(e,r){const n=new Rn(r,0),i=this.br.firstAfterOrEqual(n);return Qe.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,Qe.resolve()}Fr(e,r){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){const r=this.vr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.Mr=e,this.docs=function(){return new Kr(bt.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.Mr(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return Qe.resolve(n?n.document.mutableCopy():gi.newInvalidDocument(r))}getEntries(e,r){let n=vo();return r.forEach(i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():gi.newInvalidDocument(i))}),Qe.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=vo();const a=r.path,o=new bt(a.child("")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||PI(II(c),n)<=0||(i.has(c.key)||b1(r,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Qe.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Dt()}Or(e,r){return Qe.forEach(this.docs,n=>r(n))}newChangeBuffer(e){return new KP(this)}getSize(e){return Qe.resolve(this.size)}}class KP extends VP{constructor(e){super(),this.cr=e}applyChanges(e){const r=[];return this.changes.forEach((n,i)=>{i.isValidDocument()?r.push(this.cr.addEntry(e,i)):this.cr.removeEntry(n)}),Qe.waitFor(r)}getFromCache(e,r){return this.cr.getEntry(e,r)}getAllFromCache(e,r){return this.cr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.persistence=e,this.Nr=new xf(r=>qv(r),Gv),this.lastRemoteSnapshotVersion=Bt.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Jv,this.targetCount=0,this.kr=lf.Bn()}forEachTarget(e,r){return this.Nr.forEach((n,i)=>r(i)),Qe.resolve()}getLastRemoteSnapshotVersion(e){return Qe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Qe.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),Qe.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.Lr&&(this.Lr=r),Qe.resolve()}Kn(e){this.Nr.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.kr=new lf(r),this.highestTargetId=r),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,r){return this.Kn(r),this.targetCount+=1,Qe.resolve()}updateTargetData(e,r){return this.Kn(r),Qe.resolve()}removeTargetData(e,r){return this.Nr.delete(r.target),this.Br.gr(r.targetId),this.targetCount-=1,Qe.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.Nr.forEach((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.Nr.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)}),Qe.waitFor(s).next(()=>i)}getTargetCount(e){return Qe.resolve(this.targetCount)}getTargetData(e,r){const n=this.Nr.get(r)||null;return Qe.resolve(n)}addMatchingKeys(e,r,n){return this.Br.Rr(r,n),Qe.resolve()}removeMatchingKeys(e,r,n){this.Br.mr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach(a=>{s.push(i.markPotentiallyOrphaned(e,a))}),Qe.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this.Br.gr(r),Qe.resolve()}getMatchingKeysForTargetId(e,r){const n=this.Br.yr(r);return Qe.resolve(n)}containsKey(e,r){return Qe.resolve(this.Br.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YP{constructor(e,r){this.qr={},this.overlays={},this.Qr=new Uv(0),this.Kr=!1,this.Kr=!0,this.$r=new qP,this.referenceDelegate=e(this),this.Ur=new XP(this),this.indexManager=new jP,this.remoteDocumentCache=function(i){return new $P(i)}(n=>this.referenceDelegate.Wr(n)),this.serializer=new OP(r),this.Gr=new HP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new WP,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.qr[e.toKey()];return n||(n=new GP(r,this.referenceDelegate),this.qr[e.toKey()]=n),n}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,r,n){St("MemoryPersistence","Starting transaction:",e);const i=new QP(this.Qr.next());return this.referenceDelegate.zr(),n(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,r){return Qe.or(Object.values(this.qr).map(n=>()=>n.containsKey(e,r)))}}class QP extends LI{constructor(e){super(),this.currentSequenceNumber=e}}class Zv{constructor(e){this.persistence=e,this.Jr=new Jv,this.Yr=null}static Zr(e){return new Zv(e)}get Xr(){if(this.Yr)return this.Yr;throw Dt()}addReference(e,r,n){return this.Jr.addReference(n,r),this.Xr.delete(n.toString()),Qe.resolve()}removeReference(e,r,n){return this.Jr.removeReference(n,r),this.Xr.add(n.toString()),Qe.resolve()}markPotentiallyOrphaned(e,r){return this.Xr.add(r.toString()),Qe.resolve()}removeTarget(e,r){this.Jr.gr(r.targetId).forEach(i=>this.Xr.add(i.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>n.removeTargetData(e,r))}zr(){this.Yr=new Set}jr(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Qe.forEach(this.Xr,n=>{const i=bt.fromPath(n);return this.ei(e,i).next(s=>{s||r.removeEntry(i,Bt.min())})}).next(()=>(this.Yr=null,r.apply(e)))}updateLimboDocument(e,r){return this.ei(e,r).next(n=>{n?this.Xr.delete(r.toString()):this.Xr.add(r.toString())})}Wr(e){return 0}ei(e,r){return Qe.or([()=>Qe.resolve(this.Jr.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Hr(e,r)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e5{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.$i=n,this.Ui=i}static Wi(e,r){let n=Yt(),i=Yt();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new e5(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZP{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return nC()?8:FI(tC())>0?6:4}()}initialize(e,r){this.Ji=e,this.indexManager=r,this.Gi=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.Yi(e,r).next(a=>{s.result=a}).next(()=>{if(!s.result)return this.Zi(e,r,i,n).next(a=>{s.result=a})}).next(()=>{if(s.result)return;const a=new JP;return this.Xi(e,r,a).next(o=>{if(s.result=o,this.zi)return this.es(e,r,a,o.size)})}).next(()=>s.result)}es(e,r,n,i){return n.documentReadCount<this.ji?(Qf()<=nr.DEBUG&&St("QueryEngine","SDK will not create cache indexes for query:",vc(r),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),Qe.resolve()):(Qf()<=nr.DEBUG&&St("QueryEngine","Query:",vc(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.Hi*i?(Qf()<=nr.DEBUG&&St("QueryEngine","The SDK decides to create cache indexes for query:",vc(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Fa(r))):Qe.resolve())}Yi(e,r){if(Yx(r))return Qe.resolve(null);let n=Fa(r);return this.indexManager.getIndexType(e,n).next(i=>i===0?null:(r.limit!==null&&i===1&&(r=v2(r,null,"F"),n=Fa(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next(s=>{const a=Yt(...s);return this.Ji.getDocuments(e,a).next(o=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.ts(r,o);return this.ns(r,u,a,l.readTime)?this.Yi(e,v2(r,null,"F")):this.rs(e,u,r,l)}))})))}Zi(e,r,n,i){return Yx(r)||i.isEqual(Bt.min())?Qe.resolve(null):this.Ji.getDocuments(e,n).next(s=>{const a=this.ts(r,s);return this.ns(r,a,n,i)?Qe.resolve(null):(Qf()<=nr.DEBUG&&St("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),vc(r)),this.rs(e,a,r,CI(i,-1)).next(o=>o))})}ts(e,r){let n=new ei(TS(e));return r.forEach((i,s)=>{b1(e,s)&&(n=n.add(s))}),n}ns(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,r,n){return Qf()<=nr.DEBUG&&St("QueryEngine","Using full collection scan to execute query:",vc(r)),this.Ji.getDocumentsMatchingQuery(e,r,Tl.min(),n)}rs(e,r,n,i){return this.Ji.getDocumentsMatchingQuery(e,n,i).next(s=>(r.forEach(a=>{s=s.insert(a.key,a)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e8{constructor(e,r,n,i){this.persistence=e,this.ss=r,this.serializer=i,this.os=new Kr(ar),this._s=new xf(s=>qv(s),Gv),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(n)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new zP(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",r=>e.collect(r,this.os))}}function t8(t,e,r,n){return new e8(t,e,r,n)}async function GS(t,e){const r=Vt(t);return await r.persistence.runTransaction("Handle user change","readonly",n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next(s=>(i=s,r.ls(e),r.mutationQueue.getAllMutationBatches(n))).next(s=>{const a=[],o=[];let l=Yt();for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return r.localDocuments.getDocuments(n,l).next(u=>({hs:u,removedBatchIds:a,addedBatchIds:o}))})})}function r8(t,e){const r=Vt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const i=e.batch.keys(),s=r.cs.newChangeBuffer({trackRemovals:!0});return function(o,l,u,c){const p=u.batch,m=p.keys();let d=Qe.resolve();return m.forEach(y=>{d=d.next(()=>c.getEntry(l,y)).next(v=>{const T=u.docVersions.get(y);_r(T!==null),v.version.compareTo(T)<0&&(p.applyToRemoteDocument(v,u),v.isValidDocument()&&(v.setReadTime(u.commitVersion),c.addEntry(v)))})}),d.next(()=>o.mutationQueue.removeMutationBatch(l,p))}(r,n,e,s).next(()=>s.apply(n)).next(()=>r.mutationQueue.performConsistencyCheck(n)).next(()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId)).next(()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let l=Yt();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l}(e))).next(()=>r.localDocuments.getDocuments(n,i))})}function $S(t){const e=Vt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",r=>e.Ur.getLastRemoteSnapshotVersion(r))}function n8(t,e){const r=Vt(t),n=e.snapshotVersion;let i=r.os;return r.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const a=r.cs.newChangeBuffer({trackRemovals:!0});i=r.os;const o=[];e.targetChanges.forEach((c,p)=>{const m=i.get(p);if(!m)return;o.push(r.Ur.removeMatchingKeys(s,c.removedDocuments,p).next(()=>r.Ur.addMatchingKeys(s,c.addedDocuments,p)));let d=m.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(p)!==null?d=d.withResumeToken(ni.EMPTY_BYTE_STRING,Bt.min()).withLastLimboFreeSnapshotVersion(Bt.min()):c.resumeToken.approximateByteSize()>0&&(d=d.withResumeToken(c.resumeToken,n)),i=i.insert(p,d),function(v,T,_){return v.resumeToken.approximateByteSize()===0||T.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=3e8?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,d,c)&&o.push(r.Ur.updateTargetData(s,d))});let l=vo(),u=Yt();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,c))}),o.push(i8(s,a,e.documentUpdates).next(c=>{l=c.Ps,u=c.Is})),!n.isEqual(Bt.min())){const c=r.Ur.getLastRemoteSnapshotVersion(s).next(p=>r.Ur.setTargetsMetadata(s,s.currentSequenceNumber,n));o.push(c)}return Qe.waitFor(o).next(()=>a.apply(s)).next(()=>r.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(r.os=i,s))}function i8(t,e,r){let n=Yt(),i=Yt();return r.forEach(s=>n=n.add(s)),e.getEntries(t,n).next(s=>{let a=vo();return r.forEach((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Bt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):St("LocalStore","Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)}),{Ps:a,Is:i}})}function s8(t,e){const r=Vt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function a8(t,e){const r=Vt(t);return r.persistence.runTransaction("Allocate target","readwrite",n=>{let i;return r.Ur.getTargetData(n,e).next(s=>s?(i=s,Qe.resolve(i)):r.Ur.allocateTargetId(n).next(a=>(i=new al(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Ur.addTargetData(n,i).next(()=>i))))}).then(n=>{const i=r.os.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.os=r.os.insert(n.targetId,n),r._s.set(e,n.targetId)),n})}async function S2(t,e,r){const n=Vt(t),i=n.os.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,a=>n.persistence.referenceDelegate.removeTarget(a,i))}catch(a){if(!E0(a))throw a;St("LocalStore",`Failed to update sequence numbers for target ${e}: ${a}`)}n.os=n.os.remove(e),n._s.delete(i.target)}function o_(t,e,r){const n=Vt(t);let i=Bt.min(),s=Yt();return n.persistence.runTransaction("Execute query","readwrite",a=>function(l,u,c){const p=Vt(l),m=p._s.get(c);return m!==void 0?Qe.resolve(p.os.get(m)):p.Ur.getTargetData(u,c)}(n,a,Fa(e)).next(o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Ur.getMatchingKeysForTargetId(a,o.targetId).next(l=>{s=l})}).next(()=>n.ss.getDocumentsMatchingQuery(a,e,r?i:Bt.min(),r?s:Yt())).next(o=>(o8(n,QI(e),o),{documents:o,Ts:s})))}function o8(t,e,r){let n=t.us.get(e)||Bt.min();r.forEach((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)}),t.us.set(e,n)}class l_{constructor(){this.activeTargetIds=nP()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class l8{constructor(){this.so=new l_,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,r,n){this.oo[e]=r}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new l_,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u8{_o(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u_{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){St("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.ho)e(0)}lo(){St("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bd=null;function Wm(){return bd===null?bd=function(){return 268435456+Math.round(2147483648*Math.random())}():bd++,"0x"+bd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c8={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f8{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui="WebChannelConnection";class h8 extends class{constructor(r){this.databaseInfo=r,this.databaseId=r.databaseId;const n=r.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=n+"://"+r.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(r,n,i,s,a){const o=Wm(),l=this.xo(r,n.toUriEncodedString());St("RestConnection",`Sending RPC '${r}' ${o}:`,l,i);const u={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(u,s,a),this.No(r,l,u,i).then(c=>(St("RestConnection",`Received RPC '${r}' ${o}: `,c),c),c=>{throw nf("RestConnection",`RPC '${r}' ${o} failed with error: `,c,"url: ",l,"request:",i),c})}Lo(r,n,i,s,a,o){return this.Mo(r,n,i,s,a)}Oo(r,n,i){r["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+vf}(),r["Content-Type"]="text/plain",this.databaseInfo.appId&&(r["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,a)=>r[a]=s),i&&i.headers.forEach((s,a)=>r[a]=s)}xo(r,n){const i=c8[r];return`${this.Do}/v1/${n}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,r,n,i){const s=Wm();return new Promise((a,o)=>{const l=new aS;l.setWithCredentials(!0),l.listenOnce(oS.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case rp.NO_ERROR:const c=l.getResponseJson();St(ui,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(c)),a(c);break;case rp.TIMEOUT:St(ui,`RPC '${e}' ${s} timed out`),o(new xt(We.DEADLINE_EXCEEDED,"Request time out"));break;case rp.HTTP_ERROR:const p=l.getStatus();if(St(ui,`RPC '${e}' ${s} failed with status:`,p,"response text:",l.getResponseText()),p>0){let m=l.getResponseJson();Array.isArray(m)&&(m=m[0]);const d=m==null?void 0:m.error;if(d&&d.status&&d.message){const y=function(T){const _=T.toLowerCase().replace(/_/g,"-");return Object.values(We).indexOf(_)>=0?_:We.UNKNOWN}(d.status);o(new xt(y,d.message))}else o(new xt(We.UNKNOWN,"Server responded with status "+l.getStatus()))}else o(new xt(We.UNAVAILABLE,"Connection failed."));break;default:Dt()}}finally{St(ui,`RPC '${e}' ${s} completed.`)}});const u=JSON.stringify(i);St(ui,`RPC '${e}' ${s} sending request:`,i),l.send(r,"POST",u,n,15)})}Bo(e,r,n){const i=Wm(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=cS(),o=uS(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.Oo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const c=s.join("");St(ui,`Creating RPC '${e}' stream ${i}: ${c}`,l);const p=a.createWebChannel(c,l);let m=!1,d=!1;const y=new f8({Io:T=>{d?St(ui,`Not sending because RPC '${e}' stream ${i} is closed:`,T):(m||(St(ui,`Opening RPC '${e}' stream ${i} transport.`),p.open(),m=!0),St(ui,`RPC '${e}' stream ${i} sending:`,T),p.send(T))},To:()=>p.close()}),v=(T,_,x)=>{T.listen(_,E=>{try{x(E)}catch(L){setTimeout(()=>{throw L},0)}})};return v(p,sh.EventType.OPEN,()=>{d||(St(ui,`RPC '${e}' stream ${i} transport opened.`),y.yo())}),v(p,sh.EventType.CLOSE,()=>{d||(d=!0,St(ui,`RPC '${e}' stream ${i} transport closed`),y.So())}),v(p,sh.EventType.ERROR,T=>{d||(d=!0,nf(ui,`RPC '${e}' stream ${i} transport errored:`,T),y.So(new xt(We.UNAVAILABLE,"The operation could not be completed")))}),v(p,sh.EventType.MESSAGE,T=>{var _;if(!d){const x=T.data[0];_r(!!x);const E=x,L=E.error||((_=E[0])===null||_===void 0?void 0:_.error);if(L){St(ui,`RPC '${e}' stream ${i} received error:`,L);const j=L.status;let z=function(I){const F=mn[I];if(F!==void 0)return OS(F)}(j),w=L.message;z===void 0&&(z=We.INTERNAL,w="Unknown error status: "+j+" with message "+L.message),d=!0,y.So(new xt(z,w)),p.close()}else St(ui,`RPC '${e}' stream ${i} received:`,x),y.bo(x)}}),v(o,lS.STAT_EVENT,T=>{T.stat===f2.PROXY?St(ui,`RPC '${e}' stream ${i} detected buffering proxy`):T.stat===f2.NOPROXY&&St(ui,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{y.wo()},0),y}}function qm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P1(t){return new SP(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e,r,n=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=r,this.ko=n,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();const r=Math.floor(this.Ko+this.zo()),n=Math.max(0,Date.now()-this.Uo),i=Math.max(0,r-n);i>0&&St("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XS{constructor(e,r,n,i,s,a,o,l){this.ui=e,this.Ho=n,this.Jo=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new KS(e,r)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}async stop(){this.n_()&&await this.close(0)}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}async __(){if(this.r_())return this.close(0)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}async close(e,r){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():r&&r.code===We.RESOURCE_EXHAUSTED?(go(r.toString()),go("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):r&&r.code===We.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.mo(r)}l_(){}auth(){this.state=1;const e=this.h_(this.Yo),r=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,i])=>{this.Yo===r&&this.P_(n,i)},n=>{e(()=>{const i=new xt(We.UNKNOWN,"Fetching auth token failed: "+n.message);return this.I_(i)})})}P_(e,r){const n=this.h_(this.Yo);this.stream=this.T_(e,r),this.stream.Eo(()=>{n(()=>this.listener.Eo())}),this.stream.Ro(()=>{n(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{n(()=>this.I_(i))}),this.stream.onMessage(i=>{n(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(async()=>{this.state=0,this.start()})}I_(e){return St("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return r=>{this.ui.enqueueAndForget(()=>this.Yo===e?r():(St("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class d8 extends XS{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}T_(e,r){return this.connection.Bo("Listen",e,r)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();const r=TP(this.serializer,e),n=function(s){if(!("targetChange"in s))return Bt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Bt.min():a.readTime?Ra(a.readTime):Bt.min()}(e);return this.listener.d_(r,n)}A_(e){const r={};r.database=w2(this.serializer),r.addTarget=function(s,a){let o;const l=a.target;if(o=m2(l)?{documents:CP(s,l)}:{query:IP(s,l)._t},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=BS(s,a.resumeToken);const u=y2(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Bt.min())>0){o.readTime=Vp(s,a.snapshotVersion.toTimestamp());const u=y2(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o}(this.serializer,e);const n=kP(this.serializer,e);n&&(r.labels=n),this.a_(r)}R_(e){const r={};r.database=w2(this.serializer),r.removeTarget=e,this.a_(r)}}class p8 extends XS{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,r){return this.connection.Bo("Write",e,r)}E_(e){return _r(!!e.streamToken),this.lastStreamToken=e.streamToken,_r(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){_r(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();const r=NP(e.writeResults,e.commitTime),n=Ra(e.commitTime);return this.listener.g_(n,r)}p_(){const e={};e.database=w2(this.serializer),this.a_(e)}m_(e){const r={streamToken:this.lastStreamToken,writes:e.map(n=>bP(this.serializer,n))};this.a_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m8 extends class{}{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new xt(We.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,r,n,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Mo(e,x2(r,n),i,s,a)).catch(s=>{throw s.name==="FirebaseError"?(s.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new xt(We.UNKNOWN,s.toString())})}Lo(e,r,n,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,o])=>this.connection.Lo(e,x2(r,n),i,a,o,s)).catch(a=>{throw a.name==="FirebaseError"?(a.code===We.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new xt(We.UNKNOWN,a.toString())})}terminate(){this.y_=!0,this.connection.terminate()}}class g8{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(go(r),this.D_=!1):St("OnlineStateTracker",r)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v8{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(a=>{n.enqueueAndForget(async()=>{Ou(this)&&(St("RemoteStore","Restarting streams for network reachability change."),await async function(l){const u=Vt(l);u.L_.add(4),await b0(u),u.q_.set("Unknown"),u.L_.delete(4),await k1(u)}(this))})}),this.q_=new g8(n,i)}}async function k1(t){if(Ou(t))for(const e of t.B_)await e(!0)}async function b0(t){for(const e of t.B_)await e(!1)}function YS(t,e){const r=Vt(t);r.N_.has(e.targetId)||(r.N_.set(e.targetId,e),i5(r)?n5(r):_f(r).r_()&&r5(r,e))}function t5(t,e){const r=Vt(t),n=_f(r);r.N_.delete(e),n.r_()&&QS(r,e),r.N_.size===0&&(n.r_()?n.o_():Ou(r)&&r.q_.set("Unknown"))}function r5(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Bt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}_f(t).A_(e)}function QS(t,e){t.Q_.xe(e),_f(t).R_(e)}function n5(t){t.Q_=new yP({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),_f(t).start(),t.q_.v_()}function i5(t){return Ou(t)&&!_f(t).n_()&&t.N_.size>0}function Ou(t){return Vt(t).L_.size===0}function JS(t){t.Q_=void 0}async function y8(t){t.q_.set("Online")}async function x8(t){t.N_.forEach((e,r)=>{r5(t,e)})}async function _8(t,e){JS(t),i5(t)?(t.q_.M_(e),n5(t)):t.q_.set("Unknown")}async function w8(t,e,r){if(t.q_.set("Online"),e instanceof jS&&e.state===2&&e.cause)try{await async function(i,s){const a=s.cause;for(const o of s.targetIds)i.N_.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.N_.delete(o),i.Q_.removeTarget(o))}(t,e)}catch(n){St("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Up(t,n)}else if(e instanceof sp?t.Q_.Ke(e):e instanceof MS?t.Q_.He(e):t.Q_.We(e),!r.isEqual(Bt.min()))try{const n=await $S(t.localStore);r.compareTo(n)>=0&&await function(s,a){const o=s.Q_.rt(a);return o.targetChanges.forEach((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const c=s.N_.get(u);c&&s.N_.set(u,c.withResumeToken(l.resumeToken,a))}}),o.targetMismatches.forEach((l,u)=>{const c=s.N_.get(l);if(!c)return;s.N_.set(l,c.withResumeToken(ni.EMPTY_BYTE_STRING,c.snapshotVersion)),QS(s,l);const p=new al(c.target,l,u,c.sequenceNumber);r5(s,p)}),s.remoteSyncer.applyRemoteEvent(o)}(t,r)}catch(n){St("RemoteStore","Failed to raise snapshot:",n),await Up(t,n)}}async function Up(t,e,r){if(!E0(e))throw e;t.L_.add(1),await b0(t),t.q_.set("Offline"),r||(r=()=>$S(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{St("RemoteStore","Retrying IndexedDB access"),await r(),t.L_.delete(1),await k1(t)})}function ZS(t,e){return e().catch(r=>Up(t,r,e))}async function L1(t){const e=Vt(t),r=Nl(e);let n=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;S8(e);)try{const i=await s8(e.localStore,n);if(i===null){e.O_.length===0&&r.o_();break}n=i.batchId,E8(e,i)}catch(i){await Up(e,i)}eE(e)&&tE(e)}function S8(t){return Ou(t)&&t.O_.length<10}function E8(t,e){t.O_.push(e);const r=Nl(t);r.r_()&&r.V_&&r.m_(e.mutations)}function eE(t){return Ou(t)&&!Nl(t).n_()&&t.O_.length>0}function tE(t){Nl(t).start()}async function A8(t){Nl(t).p_()}async function T8(t){const e=Nl(t);for(const r of t.O_)e.m_(r.mutations)}async function b8(t,e,r){const n=t.O_.shift(),i=Xv.from(n,e,r);await ZS(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),await L1(t)}async function N8(t,e){e&&Nl(t).V_&&await async function(n,i){if(function(a){return mP(a)&&a!==We.ABORTED}(i.code)){const s=n.O_.shift();Nl(n).s_(),await ZS(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i)),await L1(n)}}(t,e),eE(t)&&tE(t)}async function c_(t,e){const r=Vt(t);r.asyncQueue.verifyOperationInProgress(),St("RemoteStore","RemoteStore received new credentials");const n=Ou(r);r.L_.add(3),await b0(r),n&&r.q_.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.L_.delete(3),await k1(r)}async function C8(t,e){const r=Vt(t);e?(r.L_.delete(2),await k1(r)):e||(r.L_.add(2),await b0(r),r.q_.set("Unknown"))}function _f(t){return t.K_||(t.K_=function(r,n,i){const s=Vt(r);return s.w_(),new d8(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:y8.bind(null,t),Ro:x8.bind(null,t),mo:_8.bind(null,t),d_:w8.bind(null,t)}),t.B_.push(async e=>{e?(t.K_.s_(),i5(t)?n5(t):t.q_.set("Unknown")):(await t.K_.stop(),JS(t))})),t.K_}function Nl(t){return t.U_||(t.U_=function(r,n,i){const s=Vt(r);return s.w_(),new p8(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:A8.bind(null,t),mo:N8.bind(null,t),f_:T8.bind(null,t),g_:b8.bind(null,t)}),t.B_.push(async e=>{e?(t.U_.s_(),await L1(t)):(await t.U_.stop(),t.O_.length>0&&(St("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))})),t.U_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s5{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new _l,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(a=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new s5(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new xt(We.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function a5(t,e){if(go("AsyncQueue",`${e}: ${t}`),E0(t))return new xt(We.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qc{constructor(e){this.comparator=e?(r,n)=>e(r,n)||bt.comparator(r.key,n.key):(r,n)=>bt.comparator(r.key,n.key),this.keyedMap=ah(),this.sortedSet=new Kr(this.comparator)}static emptySet(e){return new qc(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((r,n)=>(e(r),!1))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof qc)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach(r=>{e.push(r.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new qc;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f_{constructor(){this.W_=new Kr(bt.comparator)}track(e){const r=e.doc.key,n=this.W_.get(r);n?e.type!==0&&n.type===3?this.W_=this.W_.insert(r,e):e.type===3&&n.type!==1?this.W_=this.W_.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.W_=this.W_.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.W_=this.W_.remove(r):e.type===1&&n.type===2?this.W_=this.W_.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.W_=this.W_.insert(r,{type:2,doc:e.doc}):Dt():this.W_=this.W_.insert(r,e)}G_(){const e=[];return this.W_.inorderTraversal((r,n)=>{e.push(n)}),e}}class uf{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach(o=>{a.push({type:0,doc:o})}),new uf(e,r,qc.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&T1(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}}class P8{constructor(){this.queries=h_(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(r,n){const i=Vt(r),s=i.queries;i.queries=h_(),s.forEach((a,o)=>{for(const l of o.j_)l.onError(n)})})(this,new xt(We.ABORTED,"Firestore shutting down"))}}function h_(){return new xf(t=>AS(t),T1)}async function k8(t,e){const r=Vt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.H_()&&e.J_()&&(n=2):(s=new I8,n=e.J_()?0:1);try{switch(n){case 0:s.z_=await r.onListen(i,!0);break;case 1:s.z_=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=a5(a,`Initialization of query '${vc(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.j_.push(e),e.Z_(r.onlineState),s.z_&&e.X_(s.z_)&&o5(r)}async function L8(t,e){const r=Vt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.j_.indexOf(e);a>=0&&(s.j_.splice(a,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function F8(t,e){const r=Vt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.j_)o.X_(i)&&(n=!0);a.z_=i}}n&&o5(r)}function R8(t,e,r){const n=Vt(t),i=n.queries.get(e);if(i)for(const s of i.j_)s.onError(r);n.queries.delete(e)}function o5(t){t.Y_.forEach(e=>{e.next()})}var E2,d_;(d_=E2||(E2={})).ea="default",d_.Cache="cache";class D8{constructor(e,r,n){this.query=e,this.ta=r,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=n||{}}X_(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new uf(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.na?this.ia(e)&&(this.ta.next(e),r=!0):this.sa(e,this.onlineState)&&(this.oa(e),r=!0),this.ra=e,r}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let r=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),r=!0),r}sa(e,r){if(!e.fromCache||!this.J_())return!0;const n=r!=="Offline";return(!this.options._a||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}ia(e){if(e.docChanges.length>0)return!0;const r=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}oa(e){e=uf.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==E2.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rE{constructor(e){this.key=e}}class nE{constructor(e){this.key=e}}class O8{constructor(e,r){this.query=e,this.Ta=r,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=Yt(),this.mutatedKeys=Yt(),this.Aa=TS(e),this.Ra=new qc(this.Aa)}get Va(){return this.Ta}ma(e,r){const n=r?r.fa:new f_,i=r?r.Ra:this.Ra;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((c,p)=>{const m=i.get(c),d=b1(this.query,p)?p:null,y=!!m&&this.mutatedKeys.has(m.key),v=!!d&&(d.hasLocalMutations||this.mutatedKeys.has(d.key)&&d.hasCommittedMutations);let T=!1;m&&d?m.data.isEqual(d.data)?y!==v&&(n.track({type:3,doc:d}),T=!0):this.ga(m,d)||(n.track({type:2,doc:d}),T=!0,(l&&this.Aa(d,l)>0||u&&this.Aa(d,u)<0)&&(o=!0)):!m&&d?(n.track({type:0,doc:d}),T=!0):m&&!d&&(n.track({type:1,doc:m}),T=!0,(l||u)&&(o=!0)),T&&(d?(a=a.add(d),s=v?s.add(c):s.delete(c)):(a=a.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;a.size>this.query.limit;){const c=this.query.limitType==="F"?a.last():a.first();a=a.delete(c.key),s=s.delete(c.key),n.track({type:1,doc:c})}return{Ra:a,fa:n,ns:o,mutatedKeys:s}}ga(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;const a=e.fa.G_();a.sort((c,p)=>function(d,y){const v=T=>{switch(T){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Dt()}};return v(d)-v(y)}(c.type,p.type)||this.Aa(c.doc,p.doc)),this.pa(n),i=i!=null&&i;const o=r&&!i?this.ya():[],l=this.da.size===0&&this.current&&!i?1:0,u=l!==this.Ea;return this.Ea=l,a.length!==0||u?{snapshot:new uf(this.query,e.Ra,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),wa:o}:{wa:o}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new f_,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(r=>this.Ta=this.Ta.add(r)),e.modifiedDocuments.forEach(r=>{}),e.removedDocuments.forEach(r=>this.Ta=this.Ta.delete(r)),this.current=e.current)}ya(){if(!this.current)return[];const e=this.da;this.da=Yt(),this.Ra.forEach(n=>{this.Sa(n.key)&&(this.da=this.da.add(n.key))});const r=[];return e.forEach(n=>{this.da.has(n)||r.push(new nE(n))}),this.da.forEach(n=>{e.has(n)||r.push(new rE(n))}),r}ba(e){this.Ta=e.Ts,this.da=Yt();const r=this.ma(e.documents);return this.applyChanges(r,!0)}Da(){return uf.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}}class M8{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class j8{constructor(e){this.key=e,this.va=!1}}class B8{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Ca={},this.Fa=new xf(o=>AS(o),T1),this.Ma=new Map,this.xa=new Set,this.Oa=new Kr(bt.comparator),this.Na=new Map,this.La=new Jv,this.Ba={},this.ka=new Map,this.qa=lf.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}}async function V8(t,e,r=!0){const n=uE(t);let i;const s=n.Fa.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=await iE(n,e,r,!0),i}async function U8(t,e){const r=uE(t);await iE(r,e,!0,!1)}async function iE(t,e,r,n){const i=await a8(t.localStore,Fa(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await z8(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&YS(t.remoteStore,i),o}async function z8(t,e,r,n,i){t.Ka=(p,m,d)=>async function(v,T,_,x){let E=T.view.ma(_);E.ns&&(E=await o_(v.localStore,T.query,!1).then(({documents:w})=>T.view.ma(w,E)));const L=x&&x.targetChanges.get(T.targetId),j=x&&x.targetMismatches.get(T.targetId)!=null,z=T.view.applyChanges(E,v.isPrimaryClient,L,j);return m_(v,T.targetId,z.wa),z.snapshot}(t,p,m,d);const s=await o_(t.localStore,e,!0),a=new O8(e,s.Ts),o=a.ma(s.documents),l=T0.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);m_(t,r,u.wa);const c=new M8(e,r,a);return t.Fa.set(e,c),t.Ma.has(r)?t.Ma.get(r).push(e):t.Ma.set(r,[e]),u.snapshot}async function H8(t,e,r){const n=Vt(t),i=n.Fa.get(e),s=n.Ma.get(i.targetId);if(s.length>1)return n.Ma.set(i.targetId,s.filter(a=>!T1(a,e))),void n.Fa.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await S2(n.localStore,i.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(i.targetId),r&&t5(n.remoteStore,i.targetId),A2(n,i.targetId)}).catch(S0)):(A2(n,i.targetId),await S2(n.localStore,i.targetId,!0))}async function W8(t,e){const r=Vt(t),n=r.Fa.get(e),i=r.Ma.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),t5(r.remoteStore,n.targetId))}async function q8(t,e,r){const n=J8(t);try{const i=await function(a,o){const l=Vt(a),u=Pn.now(),c=o.reduce((d,y)=>d.add(y.key),Yt());let p,m;return l.persistence.runTransaction("Locally write mutations","readwrite",d=>{let y=vo(),v=Yt();return l.cs.getEntries(d,c).next(T=>{y=T,y.forEach((_,x)=>{x.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(d,y)).next(T=>{p=T;const _=[];for(const x of o){const E=cP(x,p.get(x.key).overlayedDocument);E!=null&&_.push(new Ml(x.key,E,mS(E.value.mapValue),ua.exists(!0)))}return l.mutationQueue.addMutationBatch(d,u,_,o)}).next(T=>{m=T;const _=T.applyToLocalDocumentSet(p,v);return l.documentOverlayCache.saveOverlays(d,T.batchId,_)})}).then(()=>({batchId:m.batchId,changes:NS(p)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),function(a,o,l){let u=a.Ba[a.currentUser.toKey()];u||(u=new Kr(ar)),u=u.insert(o,l),a.Ba[a.currentUser.toKey()]=u}(n,i.batchId,r),await N0(n,i.changes),await L1(n.remoteStore)}catch(i){const s=a5(i,"Failed to persist write");r.reject(s)}}async function sE(t,e){const r=Vt(t);try{const n=await n8(r.localStore,e);e.targetChanges.forEach((i,s)=>{const a=r.Na.get(s);a&&(_r(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?a.va=!0:i.modifiedDocuments.size>0?_r(a.va):i.removedDocuments.size>0&&(_r(a.va),a.va=!1))}),await N0(r,n,e)}catch(n){await S0(n)}}function p_(t,e,r){const n=Vt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Fa.forEach((s,a)=>{const o=a.view.Z_(e);o.snapshot&&i.push(o.snapshot)}),function(a,o){const l=Vt(a);l.onlineState=o;let u=!1;l.queries.forEach((c,p)=>{for(const m of p.j_)m.Z_(o)&&(u=!0)}),u&&o5(l)}(n.eventManager,e),i.length&&n.Ca.d_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function G8(t,e,r){const n=Vt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Na.get(e),s=i&&i.key;if(s){let a=new Kr(bt.comparator);a=a.insert(s,gi.newNoDocument(s,Bt.min()));const o=Yt().add(s),l=new I1(Bt.min(),new Map,new Kr(ar),a,o);await sE(n,l),n.Oa=n.Oa.remove(s),n.Na.delete(e),l5(n)}else await S2(n.localStore,e,!1).then(()=>A2(n,e,r)).catch(S0)}async function $8(t,e){const r=Vt(t),n=e.batch.batchId;try{const i=await r8(r.localStore,e);oE(r,n,null),aE(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await N0(r,i)}catch(i){await S0(i)}}async function K8(t,e,r){const n=Vt(t);try{const i=await function(a,o){const l=Vt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",u=>{let c;return l.mutationQueue.lookupMutationBatch(u,o).next(p=>(_r(p!==null),c=p.keys(),l.mutationQueue.removeMutationBatch(u,p))).next(()=>l.mutationQueue.performConsistencyCheck(u)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(u,c,o)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,c)).next(()=>l.localDocuments.getDocuments(u,c))})}(n.localStore,e);oE(n,e,r),aE(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await N0(n,i)}catch(i){await S0(i)}}function aE(t,e){(t.ka.get(e)||[]).forEach(r=>{r.resolve()}),t.ka.delete(e)}function oE(t,e,r){const n=Vt(t);let i=n.Ba[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Ba[n.currentUser.toKey()]=i}}function A2(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Ma.get(e))t.Fa.delete(n),r&&t.Ca.$a(n,r);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(n=>{t.La.containsKey(n)||lE(t,n)})}function lE(t,e){t.xa.delete(e.path.canonicalString());const r=t.Oa.get(e);r!==null&&(t5(t.remoteStore,r),t.Oa=t.Oa.remove(e),t.Na.delete(r),l5(t))}function m_(t,e,r){for(const n of r)n instanceof rE?(t.La.addReference(n.key,e),X8(t,n)):n instanceof nE?(St("SyncEngine","Document no longer in limbo: "+n.key),t.La.removeReference(n.key,e),t.La.containsKey(n.key)||lE(t,n.key)):Dt()}function X8(t,e){const r=e.key,n=r.path.canonicalString();t.Oa.get(r)||t.xa.has(n)||(St("SyncEngine","New document in limbo: "+r),t.xa.add(n),l5(t))}function l5(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){const e=t.xa.values().next().value;t.xa.delete(e);const r=new bt(jr.fromString(e)),n=t.qa.next();t.Na.set(n,new j8(r)),t.Oa=t.Oa.insert(r,n),YS(t.remoteStore,new al(Fa(SS(r.path)),n,"TargetPurposeLimboResolution",Uv.oe))}}async function N0(t,e,r){const n=Vt(t),i=[],s=[],a=[];n.Fa.isEmpty()||(n.Fa.forEach((o,l)=>{a.push(n.Ka(l,e,r).then(u=>{var c;if((u||r)&&n.isPrimaryClient){const p=u?!u.fromCache:(c=r==null?void 0:r.targetChanges.get(l.targetId))===null||c===void 0?void 0:c.current;n.sharedClientState.updateQueryState(l.targetId,p?"current":"not-current")}if(u){i.push(u);const p=e5.Wi(l.targetId,u);s.push(p)}}))}),await Promise.all(a),n.Ca.d_(i),await async function(l,u){const c=Vt(l);try{await c.persistence.runTransaction("notifyLocalViewChanges","readwrite",p=>Qe.forEach(u,m=>Qe.forEach(m.$i,d=>c.persistence.referenceDelegate.addReference(p,m.targetId,d)).next(()=>Qe.forEach(m.Ui,d=>c.persistence.referenceDelegate.removeReference(p,m.targetId,d)))))}catch(p){if(!E0(p))throw p;St("LocalStore","Failed to update sequence numbers: "+p)}for(const p of u){const m=p.targetId;if(!p.fromCache){const d=c.os.get(m),y=d.snapshotVersion,v=d.withLastLimboFreeSnapshotVersion(y);c.os=c.os.insert(m,v)}}}(n.localStore,s))}async function Y8(t,e){const r=Vt(t);if(!r.currentUser.isEqual(e)){St("SyncEngine","User change. New user:",e.toKey());const n=await GS(r.localStore,e);r.currentUser=e,function(s,a){s.ka.forEach(o=>{o.forEach(l=>{l.reject(new xt(We.CANCELLED,a))})}),s.ka.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await N0(r,n.hs)}}function Q8(t,e){const r=Vt(t),n=r.Na.get(e);if(n&&n.va)return Yt().add(n.key);{let i=Yt();const s=r.Ma.get(e);if(!s)return i;for(const a of s){const o=r.Fa.get(a);i=i.unionWith(o.view.Va)}return i}}function uE(t){const e=Vt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=sE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Q8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=G8.bind(null,e),e.Ca.d_=F8.bind(null,e.eventManager),e.Ca.$a=R8.bind(null,e.eventManager),e}function J8(t){const e=Vt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=$8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=K8.bind(null,e),e}class zp{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=P1(e.databaseInfo.databaseId),this.sharedClientState=this.Wa(e),this.persistence=this.Ga(e),await this.persistence.start(),this.localStore=this.za(e),this.gcScheduler=this.ja(e,this.localStore),this.indexBackfillerScheduler=this.Ha(e,this.localStore)}ja(e,r){return null}Ha(e,r){return null}za(e){return t8(this.persistence,new ZP,e.initialUser,this.serializer)}Ga(e){return new YP(Zv.Zr,this.serializer)}Wa(e){return new l8}async terminate(){var e,r;(e=this.gcScheduler)===null||e===void 0||e.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}zp.provider={build:()=>new zp};class T2{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>p_(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Y8.bind(null,this.syncEngine),await C8(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new P8}()}createDatastore(e){const r=P1(e.databaseInfo.databaseId),n=function(s){return new h8(s)}(e.databaseInfo);return function(s,a,o,l){return new m8(s,a,o,l)}(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return function(n,i,s,a,o){return new v8(n,i,s,a,o)}(this.localStore,this.datastore,e.asyncQueue,r=>p_(this.syncEngine,r,0),function(){return u_.D()?new u_:new u8}())}createSyncEngine(e,r){return function(i,s,a,o,l,u,c){const p=new B8(i,s,a,o,l,u);return c&&(p.Qa=!0),p}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await async function(i){const s=Vt(i);St("RemoteStore","RemoteStore shutting down."),s.L_.add(5),await b0(s),s.k_.shutdown(),s.q_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()}}T2.provider={build:()=>new T2};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z8{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):go("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,r){setTimeout(()=>{this.muted||e(r)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ek{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=pi.UNAUTHENTICATED,this.clientId=hS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,async a=>{St("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a}),this.appCheckCredentials.start(n,a=>(St("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new _l;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=a5(r,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function Gm(t,e){t.asyncQueue.verifyOperationInProgress(),St("FirestoreClient","Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener(async i=>{n.isEqual(i)||(await GS(e.localStore,i),n=i)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function g_(t,e){t.asyncQueue.verifyOperationInProgress();const r=await tk(t);St("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener(n=>c_(e.remoteStore,n)),t.setAppCheckTokenChangeListener((n,i)=>c_(e.remoteStore,i)),t._onlineComponents=e}async function tk(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){St("FirestoreClient","Using user provided OfflineComponentProvider");try{await Gm(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!function(i){return i.name==="FirebaseError"?i.code===We.FAILED_PRECONDITION||i.code===We.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(r))throw r;nf("Error using user provided cache. Falling back to memory cache: "+r),await Gm(t,new zp)}}else St("FirestoreClient","Using default OfflineComponentProvider"),await Gm(t,new zp);return t._offlineComponents}async function cE(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(St("FirestoreClient","Using user provided OnlineComponentProvider"),await g_(t,t._uninitializedComponentsProvider._online)):(St("FirestoreClient","Using default OnlineComponentProvider"),await g_(t,new T2))),t._onlineComponents}function rk(t){return cE(t).then(e=>e.syncEngine)}async function nk(t){const e=await cE(t),r=e.eventManager;return r.onListen=V8.bind(null,e.syncEngine),r.onUnlisten=H8.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=U8.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=W8.bind(null,e.syncEngine),r}function ik(t,e,r={}){const n=new _l;return t.asyncQueue.enqueueAndForget(async()=>function(s,a,o,l,u){const c=new Z8({next:m=>{c.Za(),a.enqueueAndForget(()=>L8(s,p)),m.fromCache&&l.source==="server"?u.reject(new xt(We.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(m)},error:m=>u.reject(m)}),p=new D8(o,c,{includeMetadataChanges:!0,_a:!0});return k8(s,p)}(await nk(t),t.asyncQueue,e,r,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hE(t,e,r){if(!r)throw new xt(We.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function sk(t,e,r,n){if(e===!0&&n===!0)throw new xt(We.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function y_(t){if(!bt.isDocumentKey(t))throw new xt(We.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function x_(t){if(bt.isDocumentKey(t))throw new xt(We.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function F1(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(n){return n.constructor?n.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Dt()}function Iu(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new xt(We.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=F1(t);throw new xt(We.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __{constructor(e){var r,n;if(e.host===void 0){if(e.ssl!==void 0)throw new xt(We.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(r=e.ssl)===null||r===void 0||r;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new xt(We.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}sk("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fE((n=e.experimentalLongPollingOptions)!==null&&n!==void 0?n:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new xt(We.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(n,i){return n.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class R1{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new __({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new xt(We.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new xt(We.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new __(e),e.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new xI;switch(n.type){case"firstParty":return new EI(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new xt(We.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(r){const n=v_.get(r);n&&(St("ComponentProvider","Removing Datastore"),v_.delete(r),n.terminate())}(this),Promise.resolve()}}function ak(t,e,r,n={}){var i;const s=(t=Iu(t,R1))._getSettings(),a=`${e}:${r}`;if(s.host!=="firestore.googleapis.com"&&s.host!==a&&nf("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),n.mockUserToken){let o,l;if(typeof n.mockUserToken=="string")o=n.mockUserToken,l=pi.MOCK_USER;else{o=eC(n.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const u=n.mockUserToken.sub||n.mockUserToken.user_id;if(!u)throw new xt(We.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");l=new pi(u)}t._authCredentials=new _I(new fS(o,l))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mu{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mu(this.firestore,e,this._query)}}class vs{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new wl(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vs(this.firestore,e,this._key)}}class wl extends Mu{constructor(e,r,n){super(e,r,SS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vs(this.firestore,null,new bt(e))}withConverter(e){return new wl(this.firestore,e,this._path)}}function Oc(t,e,...r){if(t=po(t),hE("collection","path",e),t instanceof R1){const n=jr.fromString(e,...r);return x_(n),new wl(t,null,n)}{if(!(t instanceof vs||t instanceof wl))throw new xt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(jr.fromString(e,...r));return x_(n),new wl(t.firestore,null,n)}}function Hp(t,e,...r){if(t=po(t),arguments.length===1&&(e=hS.newId()),hE("doc","path",e),t instanceof R1){const n=jr.fromString(e,...r);return y_(n),new vs(t,null,new bt(n))}{if(!(t instanceof vs||t instanceof wl))throw new xt(We.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(jr.fromString(e,...r));return y_(n),new vs(t.firestore,t instanceof wl?t.converter:null,new bt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new KS(this,"async_queue_retry"),this.Vu=()=>{const n=qm();n&&St("AsyncQueue","Visibility state changed to "+n.visibilityState),this.t_.jo()},this.mu=e;const r=qm();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;const r=qm();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});const r=new _l;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(r.resolve,r.reject),r.promise)).then(()=>r.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}async pu(){if(this.Pu.length!==0){try{await this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!E0(e))throw e;St("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}}gu(e){const r=this.mu.then(()=>(this.du=!0,e().catch(n=>{this.Eu=n,this.du=!1;const i=function(a){let o=a.message||"";return a.stack&&(o=a.stack.includes(a.message)?a.stack:a.message+`
`+a.stack),o}(n);throw go("INTERNAL UNHANDLED ERROR: ",i),n}).then(n=>(this.du=!1,n))));return this.mu=r,r}enqueueAfterDelay(e,r,n){this.fu(),this.Ru.indexOf(e)>-1&&(r=0);const i=s5.createAndSchedule(this,e,r,n,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&Dt()}verifyOperationInProgress(){}async wu(){let e;do e=this.mu,await e;while(e!==this.mu)}Su(e){for(const r of this.Tu)if(r.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((r,n)=>r.targetTimeMs-n.targetTimeMs);for(const r of this.Tu)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){const r=this.Tu.indexOf(e);this.Tu.splice(r,1)}}class C0 extends R1{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new w_,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new w_(e),this._firestoreClient=void 0,await e}}}function ok(t,e){const r=typeof t=="object"?t:uI(),n=typeof t=="string"?t:"(default)",i=sI(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=JN("firestore");s&&ak(i,...s)}return i}function dE(t){if(t._terminated)throw new xt(We.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||lk(t),t._firestoreClient}function lk(t){var e,r,n;const i=t._freezeSettings(),s=function(o,l,u,c){return new OI(o,l,u,c.host,c.ssl,c.experimentalForceLongPolling,c.experimentalAutoDetectLongPolling,fE(c.experimentalLongPollingOptions),c.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((r=i.localCache)===null||r===void 0)&&r._offlineComponentProvider&&(!((n=i.localCache)===null||n===void 0)&&n._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new ek(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cf{constructor(e){this._byteString=e}static fromBase64String(e){try{return new cf(ni.fromBase64String(e))}catch(r){throw new xt(We.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new cf(ni.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new xt(We.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Yn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u5{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class c5{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new xt(We.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new xt(We.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ar(this._lat,e._lat)||ar(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f5{constructor(e){this._values=(e||[]).map(r=>r)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uk=/^__.*__$/;class ck{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Ml(e,this.data,this.fieldMask,r,this.fieldTransforms):new A0(e,this.data,r,this.fieldTransforms)}}class pE{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Ml(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function mE(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Dt()}}class h5{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new h5(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.Ou(e),i}Nu(e){var r;const n=(r=this.path)===null||r===void 0?void 0:r.child(e),i=this.Fu({path:n,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Wp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(r=>e.isPrefixOf(r))!==void 0||this.fieldTransforms.find(r=>e.isPrefixOf(r.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(mE(this.Cu)&&uk.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}}class fk{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||P1(e)}Qu(e,r,n,i=!1){return new h5({Cu:e,methodName:r,qu:n,path:Yn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function d5(t){const e=t._freezeSettings(),r=P1(t._databaseId);return new fk(t._databaseId,!!e.ignoreUndefinedProperties,r)}function hk(t,e,r,n,i,s={}){const a=t.Qu(s.merge||s.mergeFields?2:0,e,r,i);p5("Data must be an object, but it was:",a,n);const o=gE(n,a);let l,u;if(s.merge)l=new ps(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const c=[];for(const p of s.mergeFields){const m=b2(e,p,r);if(!a.contains(m))throw new xt(We.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);yE(c,m)||c.push(m)}l=new ps(c),u=a.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=a.fieldTransforms;return new ck(new Wi(o),l,u)}class O1 extends u5{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof O1}}function dk(t,e,r,n){const i=t.Qu(1,e,r);p5("Data must be an object, but it was:",i,n);const s=[],a=Wi.empty();Du(n,(l,u)=>{const c=m5(e,l,r);u=po(u);const p=i.Nu(c);if(u instanceof O1)s.push(c);else{const m=I0(u,p);m!=null&&(s.push(c),a.set(c,m))}});const o=new ps(s);return new pE(a,o,i.fieldTransforms)}function pk(t,e,r,n,i,s){const a=t.Qu(1,e,r),o=[b2(e,n,r)],l=[i];if(s.length%2!=0)throw new xt(We.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<s.length;m+=2)o.push(b2(e,s[m])),l.push(s[m+1]);const u=[],c=Wi.empty();for(let m=o.length-1;m>=0;--m)if(!yE(u,o[m])){const d=o[m];let y=l[m];y=po(y);const v=a.Nu(d);if(y instanceof O1)u.push(d);else{const T=I0(y,v);T!=null&&(u.push(d),c.set(d,T))}}const p=new ps(u);return new pE(c,p,a.fieldTransforms)}function mk(t,e,r,n=!1){return I0(r,t.Qu(n?4:3,e))}function I0(t,e){if(vE(t=po(t)))return p5("Unsupported field value:",e,t),gE(t,e);if(t instanceof u5)return function(n,i){if(!mE(i.Cu))throw i.Bu(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(n,i){const s=[];let a=0;for(const o of n){let l=I0(o,i.Lu(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}}(t,e)}return function(n,i){if((n=po(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return iP(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Pn.fromDate(n);return{timestampValue:Vp(i.serializer,s)}}if(n instanceof Pn){const s=new Pn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:Vp(i.serializer,s)}}if(n instanceof c5)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof cf)return{bytesValue:BS(i.serializer,n._byteString)};if(n instanceof vs){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Bu(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:Qv(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof f5)return function(a,o){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:a.toArray().map(l=>{if(typeof l!="number")throw o.Bu("VectorValues must only contain numeric values.");return $v(o.serializer,l)})}}}}}}(n,i);throw i.Bu(`Unsupported field value: ${F1(n)}`)}(t,e)}function gE(t,e){const r={};return dS(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Du(t,(n,i)=>{const s=I0(i,e.Mu(n));s!=null&&(r[n]=s)}),{mapValue:{fields:r}}}function vE(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Pn||t instanceof c5||t instanceof cf||t instanceof vs||t instanceof u5||t instanceof f5)}function p5(t,e,r){if(!vE(r)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(r)){const n=F1(r);throw n==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+n)}}function b2(t,e,r){if((e=po(e))instanceof D1)return e._internalPath;if(typeof e=="string")return m5(t,e);throw Wp("Field path arguments must be of type string or ",t,!1,void 0,r)}const gk=new RegExp("[~\\*/\\[\\]]");function m5(t,e,r){if(e.search(gk)>=0)throw Wp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new D1(...e.split("."))._internalPath}catch{throw Wp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function Wp(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new xt(We.INVALID_ARGUMENT,o+t+l)}function yE(t,e){return t.some(r=>r.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new vs(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new vk(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(g5("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class vk extends xE{data(){return super.data()}}function g5(t,e){return typeof e=="string"?m5(t,e):e instanceof D1?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yk(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new xt(We.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class v5{}class _E extends v5{}function ap(t,e,...r){let n=[];e instanceof v5&&n.push(e),n=n.concat(r),function(s){const a=s.filter(l=>l instanceof x5).length,o=s.filter(l=>l instanceof y5).length;if(a>1||a>0&&o>0)throw new xt(We.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(n);for(const i of n)t=i._apply(t);return t}class y5 extends _E{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new y5(e,r,n)}_apply(e){const r=this._parse(e);return wE(e._query,r),new Mu(e.firestore,e.converter,g2(e._query,r))}_parse(e){const r=d5(e.firestore);return function(s,a,o,l,u,c,p){let m;if(u.isKeyField()){if(c==="array-contains"||c==="array-contains-any")throw new xt(We.INVALID_ARGUMENT,`Invalid Query. You can't perform '${c}' queries on documentId().`);if(c==="in"||c==="not-in"){E_(p,c);const d=[];for(const y of p)d.push(S_(l,s,y));m={arrayValue:{values:d}}}else m=S_(l,s,p)}else c!=="in"&&c!=="not-in"&&c!=="array-contains-any"||E_(p,c),m=mk(o,a,p,c==="in"||c==="not-in");return yn.create(u,c,m)}(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}class x5 extends v5{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new x5(e,r)}_parse(e){const r=this._queryConstraints.map(n=>n._parse(e)).filter(n=>n.getFilters().length>0);return r.length===1?r[0]:ha.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:(function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)wE(a,l),a=g2(a,l)}(e._query,r),new Mu(e.firestore,e.converter,g2(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class _5 extends _E{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new _5(e,r)}_apply(e){const r=function(i,s,a){if(i.startAt!==null)throw new xt(We.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new xt(We.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new r0(s,a)}(e._query,this._field,this._direction);return new Mu(e.firestore,e.converter,function(i,s){const a=i.explicitOrderBy.concat([s]);return new yf(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,r))}}function xk(t,e="asc"){const r=e,n=g5("orderBy",t);return _5._create(n,r)}function S_(t,e,r){if(typeof(r=po(r))=="string"){if(r==="")throw new xt(We.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ES(e)&&r.indexOf("/")!==-1)throw new xt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(jr.fromString(r));if(!bt.isDocumentKey(n))throw new xt(We.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return Wx(t,new bt(n))}if(r instanceof vs)return Wx(t,r._key);throw new xt(We.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${F1(r)}.`)}function E_(t,e){if(!Array.isArray(t)||t.length===0)throw new xt(We.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function wE(t,e){const r=function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(r!==null)throw r===e.op?new xt(We.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new xt(We.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class _k{convertValue(e,r="none"){switch(Cu(e)){case 0:return null;case 1:return e.booleanValue;case 2:return an(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Nu(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Dt()}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Du(e,(i,s)=>{n[i]=this.convertValue(s,r)}),n}convertVectorValue(e){var r,n,i;const s=(i=(n=(r=e.fields)===null||r===void 0?void 0:r.value.arrayValue)===null||n===void 0?void 0:n.values)===null||i===void 0?void 0:i.map(a=>an(a.doubleValue));return new f5(s)}convertGeoPoint(e){return new c5(an(e.latitude),an(e.longitude))}convertArray(e,r){return(e.values||[]).map(n=>this.convertValue(n,r))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Hv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(Zh(e));default:return null}}convertTimestamp(e){const r=bl(e);return new Pn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=jr.fromString(e);_r(qS(n));const i=new e0(n.get(1),n.get(3)),s=new bt(n.popFirst(5));return i.isEqual(r)||go(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wk(t,e,r){let n;return n=t?t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nd{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sk extends xE{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new op(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(g5("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}}class op extends Sk{data(e={}){return super.data(e)}}class Ek{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Nd(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach(r=>e.push(r)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach(n=>{e.call(r,new op(this._firestore,this._userDataWriter,n.key,n,new Nd(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new xt(We.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map(o=>{const l=new op(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}})}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(o=>s||o.type!==3).map(o=>{const l=new op(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Nd(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,c=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),c=a.indexOf(o.doc.key)),{type:Ak(o.type),doc:l,oldIndex:u,newIndex:c}})}}(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}}function Ak(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Dt()}}class Tk extends _k{constructor(e){super(),this.firestore=e}convertBytes(e){return new cf(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new vs(this.firestore,null,r)}}function lp(t){t=Iu(t,Mu);const e=Iu(t.firestore,C0),r=dE(e),n=new Tk(e);return yk(t._query),ik(r,t._query).then(i=>new Ek(e,n,t,i))}function bk(t,e,r,...n){t=Iu(t,vs);const i=Iu(t.firestore,C0),s=d5(i);let a;return a=typeof(e=po(e))=="string"||e instanceof D1?pk(s,"updateDoc",t._key,e,r,n):dk(s,"updateDoc",t._key,e),w5(i,[a.toMutation(t._key,ua.exists(!0))])}function SE(t){return w5(Iu(t.firestore,C0),[new Kv(t._key,ua.none())])}function EE(t,e){const r=Iu(t.firestore,C0),n=Hp(t),i=wk(t.converter,e);return w5(r,[hk(d5(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,ua.exists(!1))]).then(()=>n)}function w5(t,e){return function(n,i){const s=new _l;return n.asyncQueue.enqueueAndForget(async()=>q8(await rk(n),i,s)),s.promise}(dE(t),e)}(function(e,r=!0){(function(i){vf=i})(lI),Dp(new Yh("firestore",(n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new C0(new wI(n.getProvider("auth-internal")),new TI(n.getProvider("app-check-internal")),function(u,c){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new xt(We.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new e0(u.options.projectId,c)}(a,i),a);return s=Object.assign({useFetchStreams:r},s),o._setSettings(s),o},"PUBLIC").setMultipleInstances(!0)),Wc(Bx,"4.7.3",e),Wc(Bx,"4.7.3","esm2017")})();var Nk="firebase",Ck="10.14.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Wc(Nk,Ck,"app");const Ik={apiKey:"AIzaSyC1Dw0zFBOYwW6uVfEa0zHC5YBOFUhHsmI",authDomain:"vigontina-stats.firebaseapp.com",projectId:"vigontina-stats",storageBucket:"vigontina-stats.firebasestorage.app",messagingSenderId:"979551248607",appId:"1:979551248607:web:fb9b3092d79507ddaf896a"},Pk=rS(Ik),ro=ok(Pk),$m=1200,kk=()=>{const[t,e]=rt.useState(0),[r,n]=rt.useState(!1),[i,s]=rt.useState(null),a=rt.useRef(null),o=rt.useRef(null),l=rt.useCallback(async()=>{try{const x=ap(Oc(ro,"activeTimer")),E=await lp(x);if(!E.empty){const L=E.docs[0].data();if(L.isRunning){s(L.startTime),n(!0);const j=Math.floor((Date.now()-L.startTime)/1e3);e(Math.min(j,$m))}}}catch(x){console.error("Errore caricamento timer:",x)}},[]),u=async(x,E)=>{try{const L=ap(Oc(ro,"activeTimer")),j=await lp(L),z={startTime:x,isRunning:E,lastUpdate:Date.now()};if(j.empty)await EE(Oc(ro,"activeTimer"),z);else{const w=j.docs[0];await bk(Hp(ro,"activeTimer",w.id),z)}}catch(L){console.error("Errore salvataggio timer:",L)}},c=async()=>{try{const x=ap(Oc(ro,"activeTimer")),E=await lp(x);if(!E.empty){const L=E.docs[0];await SE(Hp(ro,"activeTimer",L.id))}}catch(x){console.error("Errore eliminazione timer:",x)}},p=async()=>{try{"wakeLock"in navigator&&(o.current=await navigator.wakeLock.request("screen"))}catch(x){console.log("Wake Lock error:",x)}},m=()=>{o.current&&(o.current.release(),o.current=null)},d=rt.useCallback(()=>{const x=Date.now()-t*1e3;s(x),n(!0),u(x,!0)},[t]),y=rt.useCallback(()=>{n(!1),u(i,!1)},[i]),v=rt.useCallback(()=>{n(!1),e(0),s(null),c()},[]),T=rt.useCallback(x=>{const E=Math.floor(x/60),L=x%60;return`${E.toString().padStart(2,"0")}:${L.toString().padStart(2,"0")}`},[]),_=rt.useCallback(()=>Math.floor(t/60),[t]);return rt.useEffect(()=>(r&&i?(p(),a.current=setInterval(()=>{const x=Math.floor((Date.now()-i)/1e3);x>=$m?(e($m),n(!1),c(),alert(`⏰ FINE TEMPO!

Il tempo è scaduto.`),navigator.vibrate&&navigator.vibrate([500,200,500,200,500])):e(x)},100)):(m(),a.current&&clearInterval(a.current)),()=>{a.current&&clearInterval(a.current)}),[r,i]),rt.useEffect(()=>()=>{m()},[]),{timerSeconds:t,isTimerRunning:r,startTimer:d,pauseTimer:y,resetTimer:v,formatTime:T,getCurrentMinute:_,loadTimerState:l}},AE=t=>((t==null?void 0:t.name)||"").trim().toUpperCase()==="PROVA TECNICA",qp=t=>Number.isFinite(t)?t:0,TE=t=>Array.isArray(t==null?void 0:t.periods)?t.periods.filter(e=>!AE(e)&&e.completed===!0):[],Mr=(t,e)=>{if(!t||!t.periods)return 0;let r=0;for(const n of TE(t)){const i=qp(n.vigontina),s=qp(n.opponent);i===s?r+=1:i>s?r+=e==="vigontina"?1:0:r+=e==="opponent"?1:0}return r},Nn=(t,e)=>!t||!t.periods?0:TE(t).reduce((r,n)=>{const i=qp(n.vigontina),s=qp(n.opponent);return r+(e==="vigontina"?i:s)},0),s0=t=>{if(!t||!t.periods)return{allGoals:[],scorers:{},assisters:{},ownGoalsCount:0,penaltiesScored:0,penaltiesMissed:0,vigontinaGoals:0,opponentGoals:0,vigontinaPoints:0,opponentPoints:0};const e=t.periods.filter(p=>!AE(p)).flatMap(p=>(p.goals||[]).map(m=>({...m,period:p.name}))),r={},n={};let i=0,s=0,a=0;for(const p of e)switch(p.type){case"goal":{if(p.scorer!=null){const m=parseInt(p.scorer,10);Number.isFinite(m)&&(r[m]=(r[m]||0)+1)}if(p.assist!=null){const m=parseInt(p.assist,10);Number.isFinite(m)&&(n[m]=(n[m]||0)+1)}break}case"penalty-goal":{if(p.scorer!=null){const m=parseInt(p.scorer,10);Number.isFinite(m)&&(r[m]=(r[m]||0)+1)}s+=1;break}case"penalty-missed":{p.team==="vigontina"&&(a+=1);break}case"own-goal":{i+=1;break}}const o=Nn(t,"vigontina"),l=Nn(t,"opponent"),u=Mr(t,"vigontina"),c=Mr(t,"opponent");return{allGoals:e,scorers:r,assisters:n,ownGoalsCount:i,penaltiesScored:s,penaltiesMissed:a,vigontinaGoals:o,opponentGoals:l,vigontinaPoints:u,opponentPoints:c}},bE=t=>{const e=Mr(t,"vigontina"),r=Mr(t,"opponent"),n=e>r,i=e===r;return{isWin:n,isDraw:i,isLoss:!n&&!i,resultText:n?"VITTORIA":i?"PAREGGIO":"SCONFITTA",resultColor:n?"text-green-700":i?"text-yellow-700":"text-red-700",resultBg:n?"bg-green-50 border-green-200":i?"bg-yellow-50 border-yellow-200":"bg-red-50 border-red-200"}},Lk=t=>{const e=t.competition==="Amichevole"?["1° TEMPO","2° TEMPO","3° TEMPO","4° TEMPO"]:["PROVA TECNICA","1° TEMPO","2° TEMPO","3° TEMPO","4° TEMPO"];return{...t,periods:e.map(r=>({name:r,vigontina:0,opponent:0,goals:[],completed:!1,lineup:[]})),timestamp:Date.now()}},Fk=()=>{const[t,e]=rt.useState([]),[r,n]=rt.useState(!1),[i,s]=rt.useState(null),a=rt.useCallback(async()=>{n(!0),s(null);try{const d=ap(Oc(ro,"matches"),xk("timestamp","desc")),y=await lp(d),v=[];return y.forEach(T=>{v.push({id:T.id,...T.data()})}),e(v),v}catch(d){return console.error("Errore caricamento storico:",d),s(d.message??"Errore sconosciuto"),alert(`⚠️ Errore nel caricamento dello storico: ${d.message??"Errore sconosciuto"}`),[]}finally{n(!1)}},[]),o=rt.useCallback(async d=>{if(!window.confirm("Sei sicuro di voler salvare e terminare questa partita?"))return!1;n(!0),s(null);try{const y=Mr(d,"vigontina"),v=Mr(d,"opponent"),T=Nn(d,"vigontina"),_=Nn(d,"opponent");return await EE(Oc(ro,"matches"),{...d,finalPoints:{vigontina:y,opponent:v},finalGoals:{vigontina:T,opponent:_},savedAt:Date.now()}),alert("✅ Partita salvata con successo!"),await a(),!0}catch(y){return console.error("Errore salvataggio:",y),s(y.message??"Errore sconosciuto"),alert(`❌ Errore nel salvataggio della partita: ${y.message??"Errore sconosciuto"}

Riprova o contatta l'assistenza.`),!1}finally{n(!1)}},[a]),l=rt.useCallback(async d=>{if(!window.confirm(`⚠️ Sei sicuro di voler eliminare questa partita?

Questa azione è irreversibile!`))return!1;const y=prompt("Inserisci la password per confermare l'eliminazione:");if(y!=="Vigontina2526")return y!==null&&alert("❌ Password errata. Eliminazione annullata."),!1;n(!0),s(null);try{return await SE(Hp(ro,"matches",d)),alert("✅ Partita eliminata con successo!"),await a(),!0}catch(v){return console.error("Errore eliminazione:",v),s(v.message??"Errore sconosciuto"),alert(`❌ Errore nell'eliminazione: ${v.message??"Errore sconosciuto"}`),!1}finally{n(!1)}},[a]),u=rt.useCallback((d,y)=>Mr(d,y),[]),c=rt.useCallback((d,y)=>Nn(d,y),[]),p=rt.useMemo(()=>{const d=t.length,y=t.filter(_=>{const x=u(_,"vigontina"),E=u(_,"opponent");return x>E}).length,v=t.filter(_=>{const x=u(_,"vigontina"),E=u(_,"opponent");return x===E}).length,T=t.filter(_=>{const x=u(_,"vigontina"),E=u(_,"opponent");return x<E}).length;return{totalMatches:d,wins:y,draws:v,losses:T}},[t,u]),m=rt.useMemo(()=>!t||t.length===0?null:[...t].sort((d,y)=>new Date(y.date)-new Date(d.date))[0],[t]);return{matchHistory:t,isLoading:r,error:i,loadHistory:a,saveMatch:o,deleteMatch:l,stats:p,lastPlayedMatch:m,getMatchPoints:u,getMatchGoals:c}},xn=[{num:1,name:"OMAR"},{num:2,name:"BICCIO"},{num:3,name:"LEONARDO"},{num:4,name:"JACOPO"},{num:6,name:"FRANCESCO"},{num:7,name:"ERNAD"},{num:8,name:"VITTORIO"},{num:9,name:"SOMTOCHI"},{num:10,name:"ZANE"},{num:11,name:"ALESSANDRO"},{num:13,name:"PIETRO"},{num:14,name:"PIETRO (CIGNO)"},{num:15,name:"RARES"},{num:16,name:"ARON"},{num:18,name:"SAMUELE"}],Rk=()=>{const[t,e]=rt.useState(null),[r,n]=rt.useState(null),i=rt.useCallback(L=>{const j=Lk(L);return e(j),j},[]),s=rt.useCallback(()=>{e(null),n(null)},[]),a=rt.useCallback(L=>{n(L)},[]),o=rt.useCallback(()=>{n(null)},[]),l=rt.useCallback(()=>!t||r===null?null:t.periods[r],[t,r]),u=rt.useCallback(()=>{const L=l();return(L==null?void 0:L.name)==="PROVA TECNICA"},[l]),c=rt.useCallback((L="questa azione")=>u()?(typeof window<"u"&&(window!=null&&window.alert)&&window.alert("Nella PROVA TECNICA non sono previsti gol: "+L+" è stata ignorata."),!0):!1,[u]),p=rt.useCallback((L,j,z)=>{var S,I;if(t===null||r===null||c("l'aggiunta del gol"))return;const w={scorer:L,scorerName:(S=xn.find(F=>F.num===L))==null?void 0:S.name,assist:j,assistName:j?(I=xn.find(F=>F.num===j))==null?void 0:I.name:null,minute:z(),type:"goal"};e(F=>{const N={...F};return N.periods=[...F.periods],N.periods[r]={...N.periods[r],goals:[...N.periods[r].goals,w],vigontina:N.periods[r].vigontina+1},N})},[t,r,c]),m=rt.useCallback(L=>{if(t===null||r===null||c("l'aggiunta dell'AUTOGOL")||!window.confirm("⚠️ Confermi di aggiungere un AUTOGOL?"))return;const j={minute:L(),type:"own-goal"};e(z=>{const w={...z};return w.periods=[...z.periods],w.periods[r]={...w.periods[r],goals:[...w.periods[r].goals,j],vigontina:w.periods[r].vigontina+1},w})},[t,r,c]),d=rt.useCallback(L=>{if(t===null||r===null||c("l'aggiunta del gol avversario"))return;const j={minute:L(),type:"opponent-goal"};e(z=>{const w={...z};return w.periods=[...z.periods],w.periods[r]={...w.periods[r],goals:[...w.periods[r].goals,j],opponent:w.periods[r].opponent+1},w})},[t,r,c]),y=rt.useCallback((L,j,z,w)=>{var I;if(t===null||r===null||c("l'inserimento del rigore"))return;const S={minute:w(),type:j?L==="vigontina"?"penalty-goal":"penalty-opponent-goal":L==="vigontina"?"penalty-missed":"penalty-opponent-missed",scorer:z,scorerName:z?(I=xn.find(F=>F.num===z))==null?void 0:I.name:null,team:L};e(F=>{const N={...F};N.periods=[...F.periods];const b={...N.periods[r]};return b.goals=[...b.goals,S],j&&(L==="vigontina"?b.vigontina++:b.opponent++),N.periods[r]=b,N})},[t,r,c]),v=rt.useCallback((L,j)=>{t===null||r===null||e(z=>{const w={...z};w.periods=[...z.periods];const S={...w.periods[r]};return L==="vigontina"?S.vigontina=Math.max(0,S.vigontina+j):S.opponent=Math.max(0,S.opponent+j),w.periods[r]=S,w})},[t,r]),T=rt.useCallback((L,j)=>{e(z=>{const w={...z};return w.periods=[...z.periods],w.periods[L]={...w.periods[L],lineup:j},w})},[]),_=rt.useCallback(()=>{if(t===null||r===null)return!1;const z=t.periods[r].name==="PROVA TECNICA"?"Confermi di voler terminare la Prova Tecnica?":"Confermi di voler terminare questo tempo? Il timer verrà azzerato.";return window.confirm(z)?(e(w=>{const S={...w};return S.periods=[...w.periods],S.periods[r]={...S.periods[r],completed:!0},S}),!0):!1},[t,r]),x=rt.useCallback(()=>t?xn.filter(L=>{var j;return!((j=t.notCalled)!=null&&j.includes(L.num))}):xn,[t]),E=rt.useCallback(()=>{const L=l();if(!L)return"";if(L.name==="PROVA TECNICA")return"Prova Tecnica";const j=L.name.match(/(\d+)°/);return`${j?j[1]:""}° Tempo`},[l]);return{currentMatch:t,currentPeriod:r,createMatch:i,resetMatch:s,setCurrentMatch:e,setPeriod:a,resetPeriod:o,completePeriod:_,getCurrentPeriodData:l,getCurrentPeriodTitle:E,isProvaTecnica:u,addGoal:p,addOwnGoal:m,addOpponentGoal:d,addPenalty:y,updateScore:v,setLineup:T,getAvailablePlayers:x}};var Dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const Ok=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Mk=(t,e)=>{const r=rt.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,children:o,...l},u)=>rt.createElement("svg",{ref:u,...Dk,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:`lucide lucide-${Ok(t)}`,...l},[...e.map(([c,p])=>rt.createElement(c,p)),...(Array.isArray(o)?o:[o])||[]]));return r.displayName=`${t}`,r};var Ss=Mk;const wf=Ss("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),A_=Ss("ClipboardCheck",[["rect",{width:"8",height:"4",x:"8",y:"2",rx:"1",ry:"1",key:"tgr4d6"}],["path",{d:"M16 4h2a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6a2 2 0 0 1 2-2h2",key:"116196"}],["path",{d:"m9 14 2 2 4-4",key:"df797q"}]]),jk=Ss("Crown",[["path",{d:"m2 4 3 12h14l3-12-6 7-4-7-4 7-6-7zm3 16h14",key:"zkxr6b"}]]),Cl=Ss("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]),Bk=Ss("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]),a0=Ss("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]),Cd=Ss("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]),Vk=Ss("Pause",[["rect",{width:"4",height:"16",x:"6",y:"4",key:"iffhe4"}],["rect",{width:"4",height:"16",x:"14",y:"4",key:"sjin7j"}]]),Uk=Ss("Play",[["polygon",{points:"5 3 19 12 5 21 5 3",key:"191637"}]]),Id=Ss("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]),zk=Ss("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]),Hk=Ss("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),Wk=Ss("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),qk=({onSubmit:t,onCancel:e})=>{var N;const[r,n]=rt.useState("Torneo Provinciale Autunnale"),[i,s]=rt.useState(""),[a,o]=rt.useState(!0),[l,u]=rt.useState(""),[c,p]=rt.useState(new Date().toISOString().split("T")[0]),[m,d]=rt.useState(""),[y,v]=rt.useState(""),[T,_]=rt.useState([]),[x,E]=rt.useState(null),[L,j]=rt.useState(!1),[z,w]=rt.useState(!1),S=rt.useMemo(()=>xn.filter(b=>!T.includes(b.num)),[T]),I=b=>{_(D=>{const de=D.includes(b)?D.filter(se=>se!==b):[...D,b];return de.includes(x)&&E(null),de})},F=()=>{if(!l.trim()){alert("Inserisci il nome dell'avversario");return}if(!x){alert("Seleziona il capitano");return}t({competition:r,matchDay:r.includes("Torneo")?i:null,isHome:a,opponent:l,date:c,assistantReferee:m,teamManager:y,notCalled:T,captain:x})};return R.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:[R.jsx("div",{className:"max-w-2xl mx-auto",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4 md:p-6 relative",children:[R.jsx("div",{className:"flex items-center gap-2 mb-4",children:R.jsxs("button",{onClick:e,className:"inline-flex items-center gap-1 text-slate-600 hover:text-slate-900",title:"Indietro",children:[R.jsx(wf,{size:18}),R.jsx("span",{className:"text-sm",children:"Indietro"})]})}),R.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Nuova Partita"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Competizione"}),R.jsxs("select",{value:r,onChange:b=>n(b.target.value),className:"w-full border rounded px-3 py-2",children:[R.jsx("option",{children:"Torneo Provinciale Autunnale"}),R.jsx("option",{children:"Torneo Provinciale Primaverile"}),R.jsx("option",{children:"Amichevole"})]})]}),r.includes("Torneo")&&R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Giornata"}),R.jsx("input",{type:"number",inputMode:"numeric",min:1,value:i,onChange:b=>s(b.target.value),placeholder:"Es: 1",className:"w-full border rounded px-3 py-2"})]}),R.jsxs("div",{className:"md:col-span-2",children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Luogo"}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{type:"button",onClick:()=>o(!0),className:`flex-1 py-2 rounded ${a?"bg-green-500 text-white":"bg-gray-200"}`,children:"🏠 Casa"}),R.jsx("button",{type:"button",onClick:()=>o(!1),className:`flex-1 py-2 rounded ${a?"bg-gray-200":"bg-green-500 text-white"}`,children:"✈️ Trasferta"})]})]}),R.jsxs("div",{className:"md:col-span-2",children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Avversario *"}),R.jsx("input",{value:l,onChange:b=>u(b.target.value),placeholder:"Es: Padova",className:"w-full border rounded px-3 py-2",required:!0})]}),R.jsxs("div",{className:"md:col-span-2",children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Data"}),R.jsx("input",{type:"date",value:c,onChange:b=>p(b.target.value),className:"w-full border rounded px-3 py-2"})]})]}),R.jsxs("div",{className:"mt-4 p-3 rounded border bg-slate-50",children:[R.jsx("h3",{className:"font-medium text-slate-800 mb-2",children:"Staff"}),R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Assistente Arbitro"}),R.jsxs("select",{value:m,onChange:b=>d(b.target.value),className:"w-full border rounded px-3 py-2",children:[R.jsx("option",{value:"",children:"Seleziona..."}),R.jsx("option",{children:"Enrico Vendramin"}),R.jsx("option",{children:"Enrico Brunazzo"}),R.jsx("option",{children:"Francesco Campello"})]})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-sm font-medium text-slate-700 mb-1",children:"Dirigente Accompagnatore"}),R.jsxs("select",{value:y,onChange:b=>v(b.target.value),className:"w-full border rounded px-3 py-2",children:[R.jsx("option",{value:"",children:"Seleziona..."}),R.jsx("option",{children:"Enrico Vendramin"}),R.jsx("option",{children:"Enrico Brunazzo"}),R.jsx("option",{children:"Francesco Campello"})]})]})]})]}),R.jsx("div",{className:"my-4 border-t"}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"text-sm text-slate-700",children:["Non Convocati:"," ",R.jsx("span",{className:"font-semibold",children:T.length>0?`${T.length} selezionati`:"nessuno"})]}),R.jsxs("button",{type:"button",onClick:()=>j(!0),className:"inline-flex items-center gap-2 bg-slate-100 hover:bg-slate-200 px-3 py-2 rounded border text-sm",children:[R.jsx(Hk,{size:16}),"Non Convocati"]})]}),R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"text-sm text-slate-700",children:["Capitano:"," ",R.jsx("span",{className:"font-semibold",children:x?`${x} ${((N=xn.find(b=>b.num===x))==null?void 0:N.name)??""}`:"non selezionato"})]}),R.jsxs("button",{type:"button",onClick:()=>w(!0),className:"inline-flex items-center gap-2 bg-yellow-100 hover:bg-yellow-200 px-3 py-2 rounded border text-sm",children:[R.jsx(jk,{size:16}),"Capitano"]})]})]}),R.jsxs("div",{className:"mt-6 flex items-center justify-end gap-2",children:[R.jsx("button",{onClick:e,className:"px-4 py-2 rounded border bg-white hover:bg-gray-50",children:"Annulla"}),R.jsx("button",{onClick:F,className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600",children:"Inizia Partita"})]})]})}),L&&R.jsxs(T_,{title:"Seleziona Non Convocati",onClose:()=>j(!1),children:[R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-[60vh] overflow-auto pr-1",children:xn.map(b=>{const D=T.includes(b.num),Z=x===b.num;return R.jsxs("label",{className:`flex items-center justify-between p-2 border rounded cursor-pointer ${D?"bg-red-50 border-red-300":"bg-white border-slate-200"} ${Z?"opacity-60":""}`,title:Z?"Non selezionabile: è il capitano":"",children:[R.jsxs("span",{className:"text-sm",children:[b.num," ",b.name]}),R.jsx("input",{type:"checkbox",className:"h-4 w-4",disabled:Z,checked:D,onChange:()=>I(b.num)})]},b.num)})}),R.jsx("div",{className:"mt-4 flex justify-end",children:R.jsx("button",{onClick:()=>j(!1),className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600",children:"Conferma"})})]}),z&&R.jsxs(T_,{title:"Seleziona Capitano",onClose:()=>w(!1),children:[R.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-2 max-h-[60vh] overflow-auto pr-1",children:S.map(b=>R.jsxs("button",{type:"button",onClick:()=>E(b.num),className:`w-full text-left p-2 border rounded ${x===b.num?"bg-yellow-500 text-white border-yellow-600":"bg-white border-slate-200 hover:bg-gray-50"}`,children:[x===b.num&&"⭐ ",b.num," ",b.name]},b.num))}),R.jsxs("div",{className:"mt-4 flex justify-end gap-2",children:[R.jsx("button",{onClick:()=>E(null),className:"px-3 py-2 rounded border bg-white hover:bg-gray-50 text-sm",title:"Azzera capitano",children:"Azzera"}),R.jsx("button",{onClick:()=>w(!1),className:"px-4 py-2 rounded bg-blue-500 text-white hover:bg-blue-600",children:"Conferma"})]})]})]})},T_=({title:t,children:e,onClose:r})=>R.jsxs("div",{className:"fixed inset-0 z-50 flex items-end sm:items-center justify-center",children:[R.jsx("div",{className:"absolute inset-0 bg-black/40",onClick:r,"aria-hidden":"true"}),R.jsxs("div",{className:"relative w-full sm:w-[560px] bg-white rounded-t-lg sm:rounded-lg shadow-lg p-4 sm:p-6",children:[R.jsxs("div",{className:"flex items-center justify-between mb-3",children:[R.jsx("h3",{className:"font-semibold",children:t}),R.jsx("button",{onClick:r,className:"p-1 rounded hover:bg-gray-100","aria-label":"Chiudi",children:R.jsx(Wk,{size:18})})]}),e]})]}),Gk=({match:t,onStartPeriod:e,onViewPeriod:r,onSave:n,onExportExcel:i,onExportPDF:s,onSummary:a,onFIGCReport:o,isTimerRunning:l,onBack:u})=>R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:R.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[R.jsxs("button",{onClick:u,className:"text-white hover:text-gray-200 flex items-center gap-2",children:[R.jsx(wf,{className:"w-5 h-5"}),"Abbandona Partita"]}),R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsxs("h2",{className:"text-2xl font-bold",children:["Vigontina vs ",t.opponent]}),l&&R.jsxs("span",{className:"bg-red-500 text-white text-xs px-2 py-1 rounded-full animate-pulse flex items-center gap-1",children:[R.jsx("span",{className:"w-2 h-2 bg-white rounded-full"}),"LIVE"]})]}),R.jsx("p",{className:"text-sm text-gray-600 mb-2",children:t.isHome?"🏠 Casa":"✈️ Trasferta"}),R.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:[t.competition,t.matchDay&&` - Giornata ${t.matchDay}`," • ",new Date(t.date).toLocaleDateString("it-IT")]}),R.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 mb-6",children:R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-sm font-semibold mb-2",children:"Risultato Attuale"}),R.jsxs("div",{className:"flex justify-center items-center gap-6",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-xs text-gray-600",children:"Punti"}),R.jsx("p",{className:"text-4xl font-bold text-green-700",children:Mr(t,"vigontina")})]}),R.jsx("span",{className:"text-2xl",children:"-"}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-xs text-gray-600",children:"Punti"}),R.jsx("p",{className:"text-4xl font-bold text-green-700",children:Mr(t,"opponent")})]})]}),R.jsxs("p",{className:"text-xs text-gray-600 mt-2",children:["Gol: ",Nn(t,"vigontina")," -"," ",Nn(t,"opponent")]})]})}),R.jsx("div",{className:"space-y-2 mb-6",children:t.periods.map((c,p)=>R.jsx("div",{className:`border rounded-lg p-4 ${c.completed?"bg-gray-50":"bg-white"}`,children:R.jsxs("div",{className:"flex justify-between items-center",children:[R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold",children:c.name}),R.jsxs("p",{className:"text-sm text-gray-600",children:[c.vigontina," - ",c.opponent,c.goals&&c.goals.length>0&&` (${c.goals.length} eventi)`]})]}),c.completed?R.jsxs("button",{onClick:()=>r(p),className:"bg-purple-500 text-white px-3 py-1 rounded hover:bg-purple-600 flex items-center gap-1 text-sm",children:[R.jsx(a0,{className:"w-3 h-3"}),"Dettagli"]}):R.jsx("button",{onClick:()=>e(p),className:"bg-blue-500 text-white px-3 py-1 rounded hover:bg-blue-600 text-sm",children:c.name==="PROVA TECNICA"?"Inizia":"Gioca"})]})},p))}),R.jsx("div",{className:"mb-6 bg-blue-50 border-2 border-blue-200 rounded-lg p-4",children:R.jsxs("div",{className:"flex items-start gap-3",children:[R.jsx(A_,{className:"w-6 h-6 text-blue-600 flex-shrink-0 mt-1"}),R.jsxs("div",{className:"flex-1",children:[R.jsx("h3",{className:"font-semibold text-blue-900 mb-1",children:"Rapporto Gara FIGC"}),R.jsx("p",{className:"text-xs text-blue-800 mb-3",children:"Compila il rapporto gara ufficiale da inviare alla Delegazione Provinciale di Padova"}),R.jsxs("button",{onClick:o,className:"w-full bg-blue-600 text-white py-2 rounded-lg hover:bg-blue-700 flex items-center justify-center gap-2 text-sm font-medium",children:[R.jsx(A_,{className:"w-4 h-4"}),"Compila Rapporto FIGC"]})]})]})}),R.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[R.jsxs("button",{onClick:a,className:"bg-purple-500 text-white py-2 rounded hover:bg-purple-600 flex items-center justify-center gap-2 text-sm",children:[R.jsx(a0,{className:"w-4 h-4"}),"Riepilogo"]}),R.jsxs("button",{onClick:i,className:"bg-green-500 text-white py-2 rounded hover:bg-green-600 flex items-center justify-center gap-2 text-sm",children:[R.jsx(Cl,{className:"w-4 h-4"}),"Excel"]})]}),R.jsxs("button",{onClick:s,className:"w-full bg-red-500 text-white py-2 rounded hover:bg-red-600 flex items-center justify-center gap-2 text-sm",children:[R.jsx(Cl,{className:"w-4 h-4"}),"PDF"]}),R.jsxs("button",{onClick:n,className:"w-full mt-2 bg-blue-500 text-white py-2 rounded hover:bg-blue-600 font-medium flex items-center justify-center gap-2 text-sm",children:[R.jsx(zk,{className:"w-4 h-4"}),"Termina e Salva Partita"]})]})]})}),$k=({availablePlayers:t,onConfirm:e,onCancel:r})=>{const[n,i]=rt.useState(null),[s,a]=rt.useState(null),o=()=>{if(!n){alert("Seleziona il marcatore");return}e(n,s)};return R.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[R.jsx("h3",{className:"text-xl font-bold mb-4",children:"Segna Gol"}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{className:"block font-medium mb-2",children:"Marcatore *"}),R.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:t.map(l=>R.jsxs("button",{onClick:()=>i(l.num),className:`p-2 rounded border text-sm ${n===l.num?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300"}`,children:[l.num," ",l.name]},l.num))})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{className:"block font-medium mb-2",children:"Assist"}),R.jsxs("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:[R.jsx("button",{onClick:()=>a(null),className:`p-2 rounded border text-sm ${s===null?"bg-green-600 text-white border-green-600":"bg-white border-gray-300"}`,children:"Nessuno"}),t.filter(l=>l.num!==n).map(l=>R.jsxs("button",{onClick:()=>a(l.num),className:`p-2 rounded border text-sm ${s===l.num?"bg-green-600 text-white border-green-600":"bg-white border-gray-300"}`,children:[l.num," ",l.name]},l.num))]})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:r,className:"flex-1 bg-gray-200 py-2 rounded",children:"Annulla"}),R.jsx("button",{onClick:o,className:"flex-1 bg-blue-600 text-white py-2 rounded",children:"Conferma"})]})]})})},Kk=({availablePlayers:t,opponentName:e,onConfirm:r,onCancel:n})=>{const[i,s]=rt.useState("vigontina"),[a,o]=rt.useState(!0),[l,u]=rt.useState(null),c=()=>{if(i==="vigontina"&&a&&!l){alert("Seleziona il rigorista");return}r(i,a,l)},p=()=>{s("vigontina"),o(!0),u(null),n()};return R.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[R.jsx("h3",{className:"text-xl font-bold mb-4",children:"Rigore"}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{className:"block font-medium mb-2",children:"Squadra"}),R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsx("button",{onClick:()=>s("vigontina"),className:`p-3 rounded border ${i==="vigontina"?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300"}`,children:"Vigontina"}),R.jsx("button",{onClick:()=>s("opponent"),className:`p-3 rounded border ${i==="opponent"?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300"}`,children:e})]})]}),R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{className:"block font-medium mb-2",children:"Risultato"}),R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsx("button",{onClick:()=>o(!0),className:`p-3 rounded border ${a?"bg-green-600 text-white border-green-600":"bg-white border-gray-300"}`,children:"⚽ Realizzato"}),R.jsx("button",{onClick:()=>o(!1),className:`p-3 rounded border ${a?"bg-white border-gray-300":"bg-red-600 text-white border-red-600"}`,children:"❌ Fallito"})]})]}),i==="vigontina"&&a&&R.jsxs("div",{className:"mb-4",children:[R.jsx("label",{className:"block font-medium mb-2",children:"Rigorista *"}),R.jsx("div",{className:"grid grid-cols-2 gap-2 max-h-48 overflow-y-auto",children:t.map(m=>R.jsxs("button",{onClick:()=>u(m.num),className:`p-2 rounded border text-sm ${l===m.num?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300"}`,children:[m.num," ",m.name]},m.num))})]}),R.jsxs("div",{className:"flex gap-2",children:[R.jsx("button",{onClick:p,className:"flex-1 bg-gray-200 py-2 rounded",children:"Annulla"}),R.jsx("button",{onClick:c,className:"flex-1 bg-blue-600 text-white py-2 rounded",children:"Conferma"})]})]})})},Xk=({availablePlayers:t,initialLineup:e,onConfirm:r,onCancel:n})=>{const[i,s]=rt.useState(e||[]),a=l=>{s(u=>u.includes(l)?u.filter(c=>c!==l):u.length<9?[...u,l]:u)},o=()=>{if(i.length!==9){alert("Seleziona esattamente 9 giocatori.");return}r(i)};return R.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:R.jsxs("div",{className:"bg-white rounded-lg p-6 max-w-md w-full max-h-[80vh] overflow-y-auto",children:[R.jsx("h3",{className:"text-xl font-bold mb-2",children:"Seleziona i 9 in campo"}),R.jsxs("p",{className:"text-sm text-gray-600 mb-3",children:["Convocati disponibili: ",t.length," • Selezionati:"," ",i.length,"/9"]}),t.length<9&&R.jsx("div",{className:"bg-orange-50 border border-orange-200 text-orange-800 text-xs rounded p-2 mb-3",children:"Attenzione: i convocati sono meno di 9. Aggiorna le convocazioni o prosegui quando saranno disponibili."}),R.jsx("div",{className:"grid grid-cols-2 gap-2",children:t.map(l=>{const u=i.includes(l.num),c=!u&&i.length>=9;return R.jsxs("button",{onClick:()=>!c&&a(l.num),className:`p-2 rounded border text-sm text-left
                  ${u?"bg-blue-600 text-white border-blue-600":"bg-white border-gray-300"}
                  ${c?"opacity-50 cursor-not-allowed":"hover:bg-gray-50"}`,children:[l.num," ",l.name]},l.num)})}),R.jsxs("div",{className:"flex gap-2 mt-4",children:[R.jsx("button",{onClick:n,className:"flex-1 bg-gray-200 py-2 rounded",children:"Annulla"}),R.jsxs("button",{onClick:o,className:"flex-1 bg-blue-600 text-white py-2 rounded",children:["Conferma (",i.length,")"]})]})]})})},b_=({match:t,periodIndex:e,timer:r,onAddGoal:n,onAddOwnGoal:i,onAddOpponentGoal:s,onAddPenalty:a,onUpdateScore:o,onFinish:l,isEditing:u,onBack:c,onSetLineup:p})=>{const m=t.periods[e],d=m.name==="PROVA TECNICA",[y,v]=rt.useState(!1),[T,_]=rt.useState(!1),[x,E]=rt.useState(!1),[L,j]=rt.useState(!1),z=rt.useMemo(()=>xn.filter(D=>!t.notCalled.includes(D.num)),[t.notCalled]),w=m.name.match(/(\d+)°/),S=w?w[1]:"",I=d?"Prova Tecnica":`${S}° Tempo`;rt.useEffect(()=>{!d&&(!m.lineup||m.lineup.length!==9)&&E(!0)},[e,d,m.lineup]);const F=(D,Z)=>{n(D,Z),v(!1)},N=(D,Z,de)=>{a(D,Z,de),_(!1)},b=D=>{p(e,D),E(!1)};return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:R.jsxs("div",{className:"max-w-2xl mx-auto space-y-4",children:[y&&R.jsx($k,{availablePlayers:z,onConfirm:F,onCancel:()=>v(!1)}),T&&R.jsx(Kk,{availablePlayers:z,opponentName:t.opponent,onConfirm:N,onCancel:()=>_(!1)}),x&&R.jsx(Xk,{availablePlayers:z,initialLineup:m.lineup||[],onConfirm:b,onCancel:()=>E(!1)}),R.jsxs("button",{onClick:c,className:"text-white hover:text-gray-200 flex items-center gap-2",children:[R.jsx(wf,{className:"w-5 h-5"}),"Torna alla Panoramica"]}),R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[R.jsxs("h2",{className:"text-2xl font-bold mb-2",children:["Vigontina vs ",t.opponent," - ",I]}),!d&&R.jsxs("div",{className:"flex justify-end -mt-2 mb-2 gap-2",children:[R.jsx("button",{onClick:()=>E(!0),className:"text-xs px-2 py-1 rounded bg-gray-100 hover:bg-gray-200 border border-gray-200",title:"Modifica i 9 in campo",children:"👥 9 in campo"}),R.jsx("button",{onClick:()=>j(D=>!D),className:`text-xs px-2 py-1 rounded border ${L?"bg-yellow-100 border-yellow-300 text-yellow-800":"bg-gray-50 border-gray-200 text-gray-700"}`,title:"Attiva/Disattiva modifica manuale punteggio",children:L?"✔️ Modifica punteggio attiva":"✏️ Modifica punteggio"})]}),!d&&R.jsxs("div",{className:"bg-gray-50 rounded-lg p-6 mb-6",children:[R.jsx("div",{className:"text-center mb-4",children:R.jsx("div",{className:"text-5xl font-mono font-bold text-gray-800",children:r.formatTime(r.timerSeconds)})}),R.jsx("div",{className:"flex gap-2",children:R.jsxs("button",{onClick:r.isTimerRunning?r.pauseTimer:r.startTimer,className:"flex-1 bg-blue-500 text-white py-2 rounded hover:bg-blue-600 flex items-center justify-center gap-2 text-sm",children:[r.isTimerRunning?R.jsx(Vk,{className:"w-4 h-4"}):R.jsx(Uk,{className:"w-4 h-4"}),r.isTimerRunning?"Pausa":"Avvia"]})})]}),R.jsx("div",{className:"bg-gradient-to-r from-green-50 to-emerald-50 rounded-lg p-4 mb-6",children:R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-sm font-semibold mb-2",children:d?"Punteggio Prova Tecnica":"Punteggio Tempo"}),R.jsxs("div",{className:"flex justify-center items-center gap-6",children:[R.jsxs("div",{children:[R.jsx("p",{className:"text-xs text-gray-600",children:"Vigontina"}),R.jsx("p",{className:"text-4xl font-bold text-green-700",children:m.vigontina})]}),R.jsx("span",{className:"text-2xl",children:"-"}),R.jsxs("div",{children:[R.jsx("p",{className:"text-xs text-gray-600",children:t.opponent}),R.jsx("p",{className:"text-4xl font-bold text-green-700",children:m.opponent})]})]})]})}),R.jsx("div",{className:"space-y-3 mb-6",children:d?R.jsxs(R.Fragment,{children:[R.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4 mb-3",children:R.jsxs("p",{className:"text-sm text-blue-800 text-center",children:[R.jsx("strong",{children:"Prova Tecnica:"})," Inserisci i punti manualmente. Al termine, la squadra vincente guadagna 1 punto nel punteggio finale."]})}),R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("button",{onClick:()=>o("vigontina",-1),className:"bg-red-500 text-white p-2 rounded hover:bg-red-600",children:R.jsx(Cd,{className:"w-4 h-4"})}),R.jsx("div",{className:"flex-1 text-center bg-gray-100 py-2 rounded text-sm",children:R.jsx("span",{className:"font-medium",children:"Punti Vigontina"})}),R.jsx("button",{onClick:()=>o("vigontina",1),className:"bg-green-500 text-white p-2 rounded hover:bg-green-600",children:R.jsx(Id,{className:"w-4 h-4"})})]}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("button",{onClick:()=>o("opponent",-1),className:"bg-red-500 text-white p-2 rounded hover:bg-red-600",children:R.jsx(Cd,{className:"w-4 h-4"})}),R.jsx("div",{className:"flex-1 text-center bg-gray-100 py-2 rounded text-sm",children:R.jsx("span",{className:"font-medium",children:"Punti Avversario"})}),R.jsx("button",{onClick:()=>o("opponent",1),className:"bg-green-500 text-white p-2 rounded hover:bg-green-600",children:R.jsx(Id,{className:"w-4 h-4"})})]})]})]}):L?R.jsxs("div",{className:"space-y-3",children:[R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("button",{onClick:()=>o("vigontina",-1),className:"bg-red-500 text-white p-2 rounded hover:bg-red-600",children:R.jsx(Cd,{className:"w-4 h-4"})}),R.jsx("div",{className:"flex-1 text-center bg-gray-100 py-2 rounded text-sm",children:R.jsx("span",{className:"font-medium",children:"Gol Vigontina"})}),R.jsx("button",{onClick:()=>o("vigontina",1),className:"bg-green-500 text-white p-2 rounded hover:bg-green-600",children:R.jsx(Id,{className:"w-4 h-4"})})]}),R.jsxs("div",{className:"flex gap-2 items-center",children:[R.jsx("button",{onClick:()=>o("opponent",-1),className:"bg-red-500 text-white p-2 rounded hover:bg-red-600",children:R.jsx(Cd,{className:"w-4 h-4"})}),R.jsx("div",{className:"flex-1 text-center bg-gray-100 py-2 rounded text-sm",children:R.jsxs("span",{className:"font-medium",children:["Gol ",t.opponent]})}),R.jsx("button",{onClick:()=>o("opponent",1),className:"bg-green-500 text-white p-2 rounded hover:bg-green-600",children:R.jsx(Id,{className:"w-4 h-4"})})]}),R.jsx("p",{className:"text-xs text-gray-500 text-center",children:"Nota: le modifiche manuali aggiornano il punteggio del tempo ma non creano eventi Gol."})]}):R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsx("button",{onClick:()=>v(!0),className:"bg-green-500 text-white py-2 rounded hover:bg-green-600 font-medium text-sm",children:"⚽ GOL"}),R.jsxs("button",{onClick:i,className:"bg-red-500 text-white py-2 rounded hover:bg-red-600 font-medium flex items-center justify-center gap-1 text-sm",children:[R.jsx("span",{className:"bg-red-800 rounded-full w-4 h-4 flex items-center justify-center text-xs",children:"⚽"}),"AUTOGOL"]}),R.jsxs("button",{onClick:s,className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600 font-medium text-sm",children:["Gol ",t.opponent]}),R.jsx("button",{onClick:()=>_(!0),className:"bg-purple-500 text-white py-2 rounded hover:bg-purple-600 font-medium text-sm",children:"🎯 RIGORE"})]})}),!d&&m.goals&&m.goals.length>0&&R.jsxs("div",{className:"mb-6",children:[R.jsx("h3",{className:"font-semibold mb-2",children:"Eventi Partita"}),R.jsx("div",{className:"space-y-2",children:m.goals.map((D,Z)=>R.jsx(Yk,{event:D,opponentName:t.opponent},Z))})]}),R.jsx("div",{children:R.jsx("button",{onClick:l,className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 font-medium text-sm",children:u?"Salva Modifiche":`Termina ${I}`})})]})]})})},Yk=({event:t,opponentName:e})=>t.type==="goal"?R.jsxs("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:[R.jsxs("p",{className:"font-medium text-green-800",children:["⚽ ",t.minute,"' - ",t.scorer," ",t.scorerName]}),t.assist&&R.jsxs("p",{className:"text-sm text-green-700",children:["Assist: ",t.assist," ",t.assistName]})]}):t.type==="own-goal"?R.jsx("div",{className:"bg-red-50 p-3 rounded border border-red-200",children:R.jsxs("p",{className:"font-medium text-red-800 flex items-center gap-2",children:[R.jsx("span",{className:"bg-red-800 rounded-full w-5 h-5 flex items-center justify-center text-xs",children:"⚽"}),t.minute,"' - Autogol"]})}):t.type==="opponent-goal"?R.jsx("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:R.jsxs("p",{className:"font-medium text-blue-800",children:["⚽ ",t.minute,"' - Gol ",e]})}):t.type==="penalty-goal"?R.jsx("div",{className:"bg-green-50 p-3 rounded border border-green-200",children:R.jsxs("p",{className:"font-medium text-green-800",children:["⚽ ",t.minute,"' - Gol RIG. - ",t.scorer," ",t.scorerName]})}):t.type==="penalty-missed"?R.jsx("div",{className:"bg-red-50 p-3 rounded border border-red-200",children:R.jsxs("p",{className:"font-medium text-red-800 flex items-center gap-2",children:[R.jsx("span",{className:"bg-red-600 rounded-full w-6 h-6 flex items-center justify-center text-white text-xs",children:"⚽"}),t.minute,"' - RIG. FALLITO"]})}):t.type==="penalty-opponent-goal"?R.jsx("div",{className:"bg-blue-50 p-3 rounded border border-blue-200",children:R.jsxs("p",{className:"font-medium text-blue-800",children:["⚽ ",t.minute,"' - Gol RIG. ",e]})}):t.type==="penalty-opponent-missed"?R.jsx("div",{className:"bg-red-50 p-3 rounded border border-red-200",children:R.jsxs("p",{className:"font-medium text-red-800 flex items-center gap-2",children:[R.jsx("span",{className:"bg-red-600 rounded-full w-6 h-6 flex items-center justify-center text-white text-xs",children:"⚽"}),t.minute,"' - RIG. FALLITO ",e]})}):null,Qk=({matches:t,onBack:e,onViewStats:r,onExportExcel:n,onExportPDF:i,onDelete:s,onExportHistory:a})=>R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:R.jsx("div",{className:"max-w-2xl mx-auto",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[R.jsxs("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:[R.jsx(wf,{className:"w-5 h-5"}),"Indietro"]}),R.jsxs("div",{className:"flex items-center justify-between mb-6 flex-wrap gap-3",children:[R.jsx("h2",{className:"text-2xl font-bold",children:"Storico Partite"}),t.length>0&&R.jsxs("button",{onClick:a,className:"bg-green-600 text-white px-4 py-2 rounded-lg hover:bg-green-700 flex items-center gap-2 text-sm font-medium shadow-md transition-all hover:shadow-lg",title:"Esporta tutto lo storico in Excel",children:[R.jsx(Bk,{className:"w-4 h-4"}),R.jsx("span",{className:"hidden sm:inline",children:"Esporta Storico"}),R.jsx("span",{className:"sm:hidden",children:"Storico"})]})]}),t.length===0?R.jsxs("div",{className:"text-center py-12",children:[R.jsx("div",{className:"mb-4 text-gray-400",children:R.jsx(a0,{className:"w-16 h-16 mx-auto"})}),R.jsx("p",{className:"text-gray-600 text-lg font-medium mb-2",children:"Nessuna partita salvata"}),R.jsx("p",{className:"text-gray-500 text-sm",children:"Le partite completate appariranno qui"})]}):R.jsxs(R.Fragment,{children:[R.jsxs("div",{className:"mb-4 text-sm text-gray-600",children:[R.jsx("span",{className:"font-semibold",children:t.length})," partite totali"]}),R.jsx("div",{className:"space-y-3",children:t.map(o=>R.jsx(Jk,{match:o,onViewStats:()=>r(o),onExportExcel:()=>n(o),onExportPDF:()=>i(o),onDelete:()=>s(o.id)},o.id))})]})]})})}),Jk=({match:t,onViewStats:e,onExportExcel:r,onExportPDF:n,onDelete:i})=>{const s=Mr(t,"vigontina"),a=Mr(t,"opponent"),o=s>a,l=s<a,u=o?"bg-green-50":l?"bg-red-50":"bg-yellow-50",c=o?"VINTA":l?"PERSA":"PAREGGIO",p=o?"text-green-700":l?"text-red-700":"text-yellow-700";return R.jsxs("div",{className:`border rounded-lg p-4 relative ${u} hover:shadow-md transition-shadow`,children:[R.jsx("button",{onClick:i,className:"absolute top-2 right-2 text-red-500 hover:text-red-700 hover:bg-red-100 rounded-full p-1 transition-colors",title:"Elimina partita",children:R.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:R.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})}),R.jsxs("div",{className:"pr-8",children:[R.jsxs("div",{className:"flex items-center justify-between mb-2",children:[R.jsxs("h3",{className:"font-semibold text-base",children:["Vigontina vs ",t.opponent]}),R.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded ${p} bg-opacity-20`,children:c})]}),R.jsxs("div",{className:"flex items-center justify-between mb-3",children:[R.jsxs("div",{className:"flex items-center gap-2 text-xs text-gray-600",children:[R.jsx("span",{children:t.isHome?"🏠":"✈️"}),R.jsx("span",{children:t.competition}),t.matchDay&&R.jsxs(R.Fragment,{children:[R.jsx("span",{children:"•"}),R.jsxs("span",{children:["Giornata ",t.matchDay]})]}),R.jsx("span",{children:"•"}),R.jsx("span",{children:new Date(t.date).toLocaleDateString("it-IT")})]}),R.jsx("div",{className:"text-center",children:R.jsxs("p",{className:"text-lg font-bold",children:[s," - ",a]})})]})]}),R.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[R.jsxs("button",{onClick:e,className:"bg-blue-500 text-white py-2 rounded hover:bg-blue-600 flex items-center justify-center gap-2 text-xs font-medium",children:[R.jsx(a0,{className:"w-3 h-3"}),"Dettagli"]}),R.jsxs("button",{onClick:r,className:"bg-green-500 text-white py-2 rounded hover:bg-green-600 flex items-center justify-center gap-2 text-xs font-medium",children:[R.jsx(Cl,{className:"w-3 h-3"}),"Excel"]}),R.jsxs("button",{onClick:n,className:"bg-red-500 text-white py-2 rounded hover:bg-red-600 flex items-center justify-center gap-2 text-xs font-medium",children:[R.jsx(Cl,{className:"w-3 h-3"}),"PDF"]})]})]})},N_=({match:t,onBack:e,onExportExcel:r,onExportPDF:n,onFIGCReport:i})=>{const s=rt.useMemo(()=>s0(t),[t]),a=rt.useMemo(()=>bE(t),[t]);return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:R.jsx("div",{className:"max-w-4xl mx-auto",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[R.jsxs("button",{onClick:e,className:"mb-4 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:[R.jsx(wf,{className:"w-5 h-5"}),"Indietro"]}),R.jsx("h2",{className:"text-2xl font-bold mb-6",children:"Riepilogo Partita"}),R.jsxs("div",{className:`border rounded-lg p-6 mb-6 ${a.resultBg}`,children:[R.jsxs("div",{className:"text-center mb-4",children:[R.jsx("p",{className:`text-3xl font-black mb-2 ${a.resultColor}`,children:a.resultText}),R.jsxs("div",{className:"flex items-center justify-center gap-8 mb-3",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-sm text-gray-600 mb-1",children:"Vigontina San Paolo"}),R.jsx("p",{className:"text-5xl font-bold text-gray-900",children:s.vigontinaPoints})]}),R.jsx("span",{className:"text-3xl text-gray-400",children:"-"}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-sm text-gray-600 mb-1",children:t.opponent}),R.jsx("p",{className:"text-5xl font-bold text-gray-900",children:s.opponentPoints})]})]}),R.jsxs("p",{className:"text-sm text-gray-600",children:["Gol totali: ",s.vigontinaGoals," - ",s.opponentGoals]})]}),R.jsx("div",{className:"bg-white/50 p-3 rounded text-sm",children:R.jsxs("p",{className:"text-center",children:[R.jsx("strong",{children:t.competition}),t.matchDay&&` - Giornata ${t.matchDay}`," • ",t.isHome?"🏠 Casa":"✈️ Trasferta"," • ",new Date(t.date).toLocaleDateString("it-IT")]})})]}),R.jsxs("div",{className:"space-y-6",children:[R.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[Object.keys(s.scorers).length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"⚽ Marcatori"}),R.jsx("div",{className:"space-y-1",children:Object.entries(s.scorers).sort((o,l)=>l[1]-o[1]).map(([o,l])=>{const u=xn.find(c=>c.num===parseInt(o));return R.jsxs("div",{className:"bg-gray-50 p-2 rounded flex justify-between items-center text-sm",children:[R.jsxs("span",{children:[o," ",u==null?void 0:u.name]}),R.jsxs("span",{className:"font-bold",children:[l,"⚽"]})]},o)})})]}),Object.keys(s.assisters).length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"🎯 Assist"}),R.jsx("div",{className:"space-y-1",children:Object.entries(s.assisters).sort((o,l)=>l[1]-o[1]).map(([o,l])=>{const u=xn.find(c=>c.num===parseInt(o));return R.jsxs("div",{className:"bg-gray-50 p-2 rounded flex justify-between items-center text-sm",children:[R.jsxs("span",{children:[o," ",u==null?void 0:u.name]}),R.jsxs("span",{className:"font-bold",children:[l,"🎯"]})]},o)})})]}),(s.ownGoalsCount>0||s.penaltiesScored>0||s.penaltiesMissed>0)&&R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-2 text-sm",children:"📊 Altri Eventi"}),R.jsxs("div",{className:"space-y-1",children:[s.ownGoalsCount>0&&R.jsxs("div",{className:"bg-red-50 p-2 rounded flex justify-between items-center text-sm border border-red-200",children:[R.jsx("span",{className:"text-red-800",children:"Autogol"}),R.jsx("span",{className:"font-bold text-red-800",children:s.ownGoalsCount})]}),s.penaltiesScored>0&&R.jsxs("div",{className:"bg-green-50 p-2 rounded flex justify-between items-center text-sm border border-green-200",children:[R.jsx("span",{className:"text-green-800",children:"Rigori segnati"}),R.jsx("span",{className:"font-bold text-green-800",children:s.penaltiesScored})]}),s.penaltiesMissed>0&&R.jsxs("div",{className:"bg-orange-50 p-2 rounded flex justify-between items-center text-sm border border-orange-200",children:[R.jsx("span",{className:"text-orange-800",children:"Rigori falliti"}),R.jsx("span",{className:"font-bold text-orange-800",children:s.penaltiesMissed})]})]})]})]}),t.periods&&t.periods.length>0&&R.jsxs("div",{children:[R.jsx("h3",{className:"font-semibold mb-4 text-lg",children:"📋 Cronologia Partita"}),R.jsx("div",{className:"space-y-6",children:t.periods.map((o,l)=>{const u=o.goals??[];if(u.length===0&&o.vigontina===0&&o.opponent===0)return null;const c=u.filter(m=>m.type==="goal"||m.type==="penalty-goal"||m.type==="own-goal"||m.type==="penalty-missed"&&m.team==="vigontina"),p=u.filter(m=>m.type==="opponent-goal"||m.type==="penalty-opponent-goal"||m.type==="penalty-opponent-missed");return R.jsx(Zk,{period:o,vigontinaEvents:c,opponentEvents:p,opponentName:t.opponent},l)})})]}),(t.assistantReferee||t.teamManager)&&R.jsxs("div",{className:"border-t pt-4",children:[R.jsx("h3",{className:"font-semibold mb-2 text-sm text-gray-600",children:"Informazioni Aggiuntive"}),R.jsxs("div",{className:"bg-gray-50 p-3 rounded text-sm space-y-1",children:[t.assistantReferee&&R.jsxs("p",{children:[R.jsx("strong",{children:"Assistente Arbitro:"})," ",t.assistantReferee]}),t.teamManager&&R.jsxs("p",{children:[R.jsx("strong",{children:"Dirigente Accompagnatore:"})," ",t.teamManager]})]})]}),R.jsxs("div",{className:"pt-4 border-t grid grid-cols-2 gap-2",children:[R.jsxs("button",{onClick:r,className:"bg-green-500 text-white py-2 rounded hover:bg-green-600 font-medium flex items-center justify-center gap-2 text-sm",children:[R.jsx(Cl,{className:"w-4 h-4"}),"Esporta Excel"]}),R.jsxs("button",{onClick:n,className:"bg-red-500 text-white py-2 rounded hover:bg-red-600 font-medium flex items-center justify-center gap-2 text-sm",children:[R.jsx(Cl,{className:"w-4 h-4"}),"Esporta PDF"]})]}),i&&R.jsx("div",{className:"pt-2",children:R.jsxs("button",{onClick:i,className:"w-full bg-blue-700 text-white py-2 rounded hover:bg-blue-800 font-medium flex items-center justify-center gap-2 text-sm",children:[R.jsx(a0,{className:"w-4 h-4"}),"Genera Rapporto FIGC"]})})]})]})})})},Zk=({period:t,vigontinaEvents:e,opponentEvents:r,opponentName:n})=>R.jsxs("div",{className:"border rounded-lg overflow-hidden",children:[R.jsx("div",{className:"bg-gradient-to-r from-slate-100 to-slate-50 p-3 border-b",children:R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsx("h4",{className:"font-bold text-gray-800",children:t.name}),R.jsx("div",{className:"flex items-center gap-3",children:R.jsxs("span",{className:"text-sm font-semibold text-gray-600",children:["Vigontina ",t.vigontina," - ",t.opponent," ",n]})})]})}),e.length>0||r.length>0?R.jsxs("div",{className:"grid grid-cols-2 divide-x",children:[R.jsxs("div",{className:"p-3",children:[R.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2 text-center",children:"VIGONTINA"}),R.jsxs("div",{className:"space-y-2",children:[e.map((i,s)=>R.jsx(C_,{event:i},s)),e.length===0&&R.jsx("p",{className:"text-xs text-gray-400 text-center py-4",children:"Nessun evento"})]})]}),R.jsxs("div",{className:"p-3",children:[R.jsx("p",{className:"text-xs font-semibold text-gray-500 mb-2 text-center uppercase",children:n}),R.jsxs("div",{className:"space-y-2",children:[r.map((i,s)=>R.jsx(C_,{event:i,isOpponent:!0},s)),r.length===0&&R.jsx("p",{className:"text-xs text-gray-400 text-center py-4",children:"Nessun evento"})]})]})]}):R.jsx("div",{className:"p-4 text-center text-sm text-gray-500",children:"Nessun evento registrato"})]}),C_=({event:t,isOpponent:e=!1})=>{const r=e?"blue":"green";return t.type==="goal"?R.jsxs("div",{className:`bg-${r}-50 p-2 rounded border border-${r}-200 text-sm`,children:[R.jsxs("p",{className:`font-medium text-${r}-800`,children:["⚽ ",t.minute,"' - ",t.scorer," ",t.scorerName]}),t.assist&&R.jsxs("p",{className:`text-xs text-${r}-700`,children:["Assist: ",t.assist," ",t.assistName]})]}):t.type==="penalty-goal"?R.jsx("div",{className:`bg-${r}-50 p-2 rounded border border-${r}-200 text-sm`,children:R.jsxs("p",{className:`font-medium text-${r}-800`,children:["🎯 ",t.minute,"' - Rigore ",t.scorer," ",t.scorerName]})}):t.type==="own-goal"?R.jsx("div",{className:"bg-red-50 p-2 rounded border border-red-200 text-sm",children:R.jsxs("p",{className:"font-medium text-red-800 flex items-center gap-1",children:[R.jsx("span",{className:"bg-red-600 rounded-full w-4 h-4 flex items-center justify-center text-white text-xs",children:"⚽"}),t.minute,"' - Autogol"]})}):t.type==="penalty-missed"?R.jsx("div",{className:"bg-red-50 p-2 rounded border border-red-200 text-sm",children:R.jsxs("p",{className:"font-medium text-red-800 flex items-center gap-1",children:["❌ ",t.minute,"' - Rigore fallito"]})}):t.type==="opponent-goal"?R.jsx("div",{className:"bg-blue-50 p-2 rounded border border-blue-200 text-sm",children:R.jsxs("p",{className:"font-medium text-blue-800",children:["⚽ ",t.minute,"' - Gol"]})}):t.type==="penalty-opponent-goal"?R.jsx("div",{className:"bg-blue-50 p-2 rounded border border-blue-200 text-sm",children:R.jsxs("p",{className:"font-medium text-blue-800",children:["🎯 ",t.minute,"' - Rigore"]})}):t.type==="penalty-opponent-missed"?R.jsx("div",{className:"bg-red-50 p-2 rounded border border-red-200 text-sm",children:R.jsxs("p",{className:"font-medium text-red-800 flex items-center gap-1",children:["❌ ",t.minute,"' - Rigore fallito"]})}):null},eL="modulepreload",tL=function(t){return"/"+t},I_={},N2=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=Promise.allSettled(r.map(l=>{if(l=tL(l),l in I_)return;I_[l]=!0;const u=l.endsWith(".css"),c=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const p=document.createElement("link");if(p.rel=u?"stylesheet":eL,u||(p.as="script"),p.crossOrigin="",p.href=l,o&&p.setAttribute("nonce",o),document.head.appendChild(p),u)return new Promise((m,d)=>{p.addEventListener("load",m),p.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function vr(t){"@babel/helpers - typeof";return vr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vr(t)}var vi=Uint8Array,ms=Uint16Array,S5=Int32Array,M1=new vi([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),j1=new vi([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),C2=new vi([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),NE=function(t,e){for(var r=new ms(31),n=0;n<31;++n)r[n]=e+=1<<t[n-1];for(var i=new S5(r[30]),n=1;n<30;++n)for(var s=r[n];s<r[n+1];++s)i[s]=s-r[n]<<5|n;return{b:r,r:i}},CE=NE(M1,2),IE=CE.b,I2=CE.r;IE[28]=258,I2[258]=28;var PE=NE(j1,0),rL=PE.b,P_=PE.r,P2=new ms(32768);for(var Br=0;Br<32768;++Br){var Yo=(Br&43690)>>1|(Br&21845)<<1;Yo=(Yo&52428)>>2|(Yo&13107)<<2,Yo=(Yo&61680)>>4|(Yo&3855)<<4,P2[Br]=((Yo&65280)>>8|(Yo&255)<<8)>>1}var Da=function(t,e,r){for(var n=t.length,i=0,s=new ms(e);i<n;++i)t[i]&&++s[t[i]-1];var a=new ms(e);for(i=1;i<e;++i)a[i]=a[i-1]+s[i-1]<<1;var o;if(r){o=new ms(1<<e);var l=15-e;for(i=0;i<n;++i)if(t[i])for(var u=i<<4|t[i],c=e-t[i],p=a[t[i]-1]++<<c,m=p|(1<<c)-1;p<=m;++p)o[P2[p]>>l]=u}else for(o=new ms(n),i=0;i<n;++i)t[i]&&(o[i]=P2[a[t[i]-1]++]>>15-t[i]);return o},Il=new vi(288);for(var Br=0;Br<144;++Br)Il[Br]=8;for(var Br=144;Br<256;++Br)Il[Br]=9;for(var Br=256;Br<280;++Br)Il[Br]=7;for(var Br=280;Br<288;++Br)Il[Br]=8;var o0=new vi(32);for(var Br=0;Br<32;++Br)o0[Br]=5;var nL=Da(Il,9,0),iL=Da(Il,9,1),sL=Da(o0,5,0),aL=Da(o0,5,1),Km=function(t){for(var e=t[0],r=1;r<t.length;++r)t[r]>e&&(e=t[r]);return e},Qs=function(t,e,r){var n=e/8|0;return(t[n]|t[n+1]<<8)>>(e&7)&r},Xm=function(t,e){var r=e/8|0;return(t[r]|t[r+1]<<8|t[r+2]<<16)>>(e&7)},E5=function(t){return(t+7)/8|0},kE=function(t,e,r){return(r==null||r>t.length)&&(r=t.length),new vi(t.subarray(e,r))},oL=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],ra=function(t,e,r){var n=new Error(e||oL[t]);if(n.code=t,Error.captureStackTrace&&Error.captureStackTrace(n,ra),!r)throw n;return n},lL=function(t,e,r,n){var i=t.length,s=0;if(!i||e.f&&!e.l)return r||new vi(0);var a=!r,o=a||e.i!=2,l=e.i;a&&(r=new vi(i*3));var u=function(Me){var Ve=r.length;if(Me>Ve){var Je=new vi(Math.max(Ve*2,Me));Je.set(r),r=Je}},c=e.f||0,p=e.p||0,m=e.b||0,d=e.l,y=e.d,v=e.m,T=e.n,_=i*8;do{if(!d){c=Qs(t,p,1);var x=Qs(t,p+1,3);if(p+=3,x)if(x==1)d=iL,y=aL,v=9,T=5;else if(x==2){var z=Qs(t,p,31)+257,w=Qs(t,p+10,15)+4,S=z+Qs(t,p+5,31)+1;p+=14;for(var I=new vi(S),F=new vi(19),N=0;N<w;++N)F[C2[N]]=Qs(t,p+N*3,7);p+=w*3;for(var b=Km(F),D=(1<<b)-1,Z=Da(F,b,1),N=0;N<S;){var de=Z[Qs(t,p,D)];p+=de&15;var E=de>>4;if(E<16)I[N++]=E;else{var se=0,re=0;for(E==16?(re=3+Qs(t,p,3),p+=2,se=I[N-1]):E==17?(re=3+Qs(t,p,7),p+=3):E==18&&(re=11+Qs(t,p,127),p+=7);re--;)I[N++]=se}}var X=I.subarray(0,z),ee=I.subarray(z);v=Km(X),T=Km(ee),d=Da(X,v,1),y=Da(ee,T,1)}else ra(1);else{var E=E5(p)+4,L=t[E-4]|t[E-3]<<8,j=E+L;if(j>i){l&&ra(0);break}o&&u(m+L),r.set(t.subarray(E,j),m),e.b=m+=L,e.p=p=j*8,e.f=c;continue}if(p>_){l&&ra(0);break}}o&&u(m+131072);for(var he=(1<<v)-1,we=(1<<T)-1,P=p;;P=p){var se=d[Xm(t,p)&he],B=se>>4;if(p+=se&15,p>_){l&&ra(0);break}if(se||ra(2),B<256)r[m++]=B;else if(B==256){P=p,d=null;break}else{var V=B-254;if(B>264){var N=B-257,U=M1[N];V=Qs(t,p,(1<<U)-1)+IE[N],p+=U}var Y=y[Xm(t,p)&we],pe=Y>>4;Y||ra(3),p+=Y&15;var ee=rL[pe];if(pe>3){var U=j1[pe];ee+=Xm(t,p)&(1<<U)-1,p+=U}if(p>_){l&&ra(0);break}o&&u(m+131072);var me=m+V;if(m<ee){var ge=s-ee,Te=Math.min(ee,me);for(ge+m<0&&ra(3);m<Te;++m)r[m]=n[ge+m]}for(;m<me;++m)r[m]=r[m-ee]}}e.l=d,e.p=P,e.b=m,e.f=c,d&&(c=1,e.m=v,e.d=y,e.n=T)}while(!c);return m!=r.length&&a?kE(r,0,m):r.subarray(0,m)},Za=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8},Jf=function(t,e,r){r<<=e&7;var n=e/8|0;t[n]|=r,t[n+1]|=r>>8,t[n+2]|=r>>16},Ym=function(t,e){for(var r=[],n=0;n<t.length;++n)t[n]&&r.push({s:n,f:t[n]});var i=r.length,s=r.slice();if(!i)return{t:FE,l:0};if(i==1){var a=new vi(r[0].s+1);return a[r[0].s]=1,{t:a,l:1}}r.sort(function(j,z){return j.f-z.f}),r.push({s:-1,f:25001});var o=r[0],l=r[1],u=0,c=1,p=2;for(r[0]={s:-1,f:o.f+l.f,l:o,r:l};c!=i-1;)o=r[r[u].f<r[p].f?u++:p++],l=r[u!=c&&r[u].f<r[p].f?u++:p++],r[c++]={s:-1,f:o.f+l.f,l:o,r:l};for(var m=s[0].s,n=1;n<i;++n)s[n].s>m&&(m=s[n].s);var d=new ms(m+1),y=k2(r[c-1],d,0);if(y>e){var n=0,v=0,T=y-e,_=1<<T;for(s.sort(function(z,w){return d[w.s]-d[z.s]||z.f-w.f});n<i;++n){var x=s[n].s;if(d[x]>e)v+=_-(1<<y-d[x]),d[x]=e;else break}for(v>>=T;v>0;){var E=s[n].s;d[E]<e?v-=1<<e-d[E]++-1:++n}for(;n>=0&&v;--n){var L=s[n].s;d[L]==e&&(--d[L],++v)}y=e}return{t:new vi(d),l:y}},k2=function(t,e,r){return t.s==-1?Math.max(k2(t.l,e,r+1),k2(t.r,e,r+1)):e[t.s]=r},k_=function(t){for(var e=t.length;e&&!t[--e];);for(var r=new ms(++e),n=0,i=t[0],s=1,a=function(l){r[n++]=l},o=1;o<=e;++o)if(t[o]==i&&o!=e)++s;else{if(!i&&s>2){for(;s>138;s-=138)a(32754);s>2&&(a(s>10?s-11<<5|28690:s-3<<5|12305),s=0)}else if(s>3){for(a(i),--s;s>6;s-=6)a(8304);s>2&&(a(s-3<<5|8208),s=0)}for(;s--;)a(i);s=1,i=t[o]}return{c:r.subarray(0,n),n:e}},Zf=function(t,e){for(var r=0,n=0;n<e.length;++n)r+=t[n]*e[n];return r},LE=function(t,e,r){var n=r.length,i=E5(e+2);t[i]=n&255,t[i+1]=n>>8,t[i+2]=t[i]^255,t[i+3]=t[i+1]^255;for(var s=0;s<n;++s)t[i+s+4]=r[s];return(i+4+n)*8},L_=function(t,e,r,n,i,s,a,o,l,u,c){Za(e,c++,r),++i[256];for(var p=Ym(i,15),m=p.t,d=p.l,y=Ym(s,15),v=y.t,T=y.l,_=k_(m),x=_.c,E=_.n,L=k_(v),j=L.c,z=L.n,w=new ms(19),S=0;S<x.length;++S)++w[x[S]&31];for(var S=0;S<j.length;++S)++w[j[S]&31];for(var I=Ym(w,7),F=I.t,N=I.l,b=19;b>4&&!F[C2[b-1]];--b);var D=u+5<<3,Z=Zf(i,Il)+Zf(s,o0)+a,de=Zf(i,m)+Zf(s,v)+a+14+3*b+Zf(w,F)+2*w[16]+3*w[17]+7*w[18];if(l>=0&&D<=Z&&D<=de)return LE(e,c,t.subarray(l,l+u));var se,re,X,ee;if(Za(e,c,1+(de<Z)),c+=2,de<Z){se=Da(m,d,0),re=m,X=Da(v,T,0),ee=v;var he=Da(F,N,0);Za(e,c,E-257),Za(e,c+5,z-1),Za(e,c+10,b-4),c+=14;for(var S=0;S<b;++S)Za(e,c+3*S,F[C2[S]]);c+=3*b;for(var we=[x,j],P=0;P<2;++P)for(var B=we[P],S=0;S<B.length;++S){var V=B[S]&31;Za(e,c,he[V]),c+=F[V],V>15&&(Za(e,c,B[S]>>5&127),c+=B[S]>>12)}}else se=nL,re=Il,X=sL,ee=o0;for(var S=0;S<o;++S){var U=n[S];if(U>255){var V=U>>18&31;Jf(e,c,se[V+257]),c+=re[V+257],V>7&&(Za(e,c,U>>23&31),c+=M1[V]);var Y=U&31;Jf(e,c,X[Y]),c+=ee[Y],Y>3&&(Jf(e,c,U>>5&8191),c+=j1[Y])}else Jf(e,c,se[U]),c+=re[U]}return Jf(e,c,se[256]),c+re[256]},uL=new S5([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),FE=new vi(0),cL=function(t,e,r,n,i,s){var a=s.z||t.length,o=new vi(n+a+5*(1+Math.ceil(a/7e3))+i),l=o.subarray(n,o.length-i),u=s.l,c=(s.r||0)&7;if(e){c&&(l[0]=s.r>>3);for(var p=uL[e-1],m=p>>13,d=p&8191,y=(1<<r)-1,v=s.p||new ms(32768),T=s.h||new ms(y+1),_=Math.ceil(r/3),x=2*_,E=function(st){return(t[st]^t[st+1]<<_^t[st+2]<<x)&y},L=new S5(25e3),j=new ms(288),z=new ms(32),w=0,S=0,I=s.i||0,F=0,N=s.w||0,b=0;I+2<a;++I){var D=E(I),Z=I&32767,de=T[D];if(v[Z]=de,T[D]=Z,N<=I){var se=a-I;if((w>7e3||F>24576)&&(se>423||!u)){c=L_(t,l,0,L,j,z,S,F,b,I-b,c),F=w=S=0,b=I;for(var re=0;re<286;++re)j[re]=0;for(var re=0;re<30;++re)z[re]=0}var X=2,ee=0,he=d,we=Z-de&32767;if(se>2&&D==E(I-we))for(var P=Math.min(m,se)-1,B=Math.min(32767,I),V=Math.min(258,se);we<=B&&--he&&Z!=de;){if(t[I+X]==t[I+X-we]){for(var U=0;U<V&&t[I+U]==t[I+U-we];++U);if(U>X){if(X=U,ee=we,U>P)break;for(var Y=Math.min(we,U-2),pe=0,re=0;re<Y;++re){var me=I-we+re&32767,ge=v[me],Te=me-ge&32767;Te>pe&&(pe=Te,de=me)}}}Z=de,de=v[Z],we+=Z-de&32767}if(ee){L[F++]=268435456|I2[X]<<18|P_[ee];var Me=I2[X]&31,Ve=P_[ee]&31;S+=M1[Me]+j1[Ve],++j[257+Me],++z[Ve],N=I+X,++w}else L[F++]=t[I],++j[t[I]]}}for(I=Math.max(I,N);I<a;++I)L[F++]=t[I],++j[t[I]];c=L_(t,l,u,L,j,z,S,F,b,I-b,c),u||(s.r=c&7|l[c/8|0]<<3,c-=7,s.h=T,s.p=v,s.i=I,s.w=N)}else{for(var I=s.w||0;I<a+u;I+=65535){var Je=I+65535;Je>=a&&(l[c/8|0]=u,Je=a),c=LE(l,c+1,t.subarray(I,Je))}s.i=a}return kE(o,0,n+E5(c)+i)},RE=function(){var t=1,e=0;return{p:function(r){for(var n=t,i=e,s=r.length|0,a=0;a!=s;){for(var o=Math.min(a+2655,s);a<o;++a)i+=n+=r[a];n=(n&65535)+15*(n>>16),i=(i&65535)+15*(i>>16)}t=n,e=i},d:function(){return t%=65521,e%=65521,(t&255)<<24|(t&65280)<<8|(e&255)<<8|e>>8}}},fL=function(t,e,r,n,i){if(!i&&(i={l:1},e.dictionary)){var s=e.dictionary.subarray(-32768),a=new vi(s.length+t.length);a.set(s),a.set(t,s.length),t=a,i.w=s.length}return cL(t,e.level==null?6:e.level,e.mem==null?i.l?Math.ceil(Math.max(8,Math.min(13,Math.log(t.length)))*1.5):20:12+e.mem,r,n,i)},DE=function(t,e,r){for(;r;++e)t[e]=r,r>>>=8},hL=function(t,e){var r=e.level,n=r==0?0:r<6?1:r==9?3:2;if(t[0]=120,t[1]=n<<6|(e.dictionary&&32),t[1]|=31-(t[0]<<8|t[1])%31,e.dictionary){var i=RE();i.p(e.dictionary),DE(t,2,i.d())}},dL=function(t,e){return((t[0]&15)!=8||t[0]>>4>7||(t[0]<<8|t[1])%31)&&ra(6,"invalid zlib data"),(t[1]>>5&1)==1&&ra(6,"invalid zlib data: "+(t[1]&32?"need":"unexpected")+" dictionary"),(t[1]>>3&4)+2};function L2(t,e){e||(e={});var r=RE();r.p(t);var n=fL(t,e,e.dictionary?6:2,4);return hL(n,e),DE(n,n.length-4,r.d()),n}function pL(t,e){return lL(t.subarray(dL(t),-4),{i:2},e,e)}var mL=typeof TextDecoder<"u"&&new TextDecoder,gL=0;try{mL.decode(FE,{stream:!0}),gL=1}catch{}var Ft=function(){return typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:this}();function Qm(){Ft.console&&typeof Ft.console.log=="function"&&Ft.console.log.apply(Ft.console,arguments)}var Ir={log:Qm,warn:function(t){Ft.console&&(typeof Ft.console.warn=="function"?Ft.console.warn.apply(Ft.console,arguments):Qm.call(null,arguments))},error:function(t){Ft.console&&(typeof Ft.console.error=="function"?Ft.console.error.apply(Ft.console,arguments):Qm(t))}};function Jm(t,e,r){var n=new XMLHttpRequest;n.open("GET",t),n.responseType="blob",n.onload=function(){au(n.response,e,r)},n.onerror=function(){Ir.error("could not download file")},n.send()}function F_(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch{}return e.status>=200&&e.status<=299}function Pd(t){try{t.dispatchEvent(new MouseEvent("click"))}catch{var e=document.createEvent("MouseEvents");e.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(e)}}var Sh,F2,au=Ft.saveAs||((typeof window>"u"?"undefined":vr(window))!=="object"||window!==Ft?function(){}:typeof HTMLAnchorElement<"u"&&"download"in HTMLAnchorElement.prototype?function(t,e,r){var n=Ft.URL||Ft.webkitURL,i=document.createElement("a");e=e||t.name||"download",i.download=e,i.rel="noopener",typeof t=="string"?(i.href=t,i.origin!==location.origin?F_(i.href)?Jm(t,e,r):Pd(i,i.target="_blank"):Pd(i)):(i.href=n.createObjectURL(t),setTimeout(function(){n.revokeObjectURL(i.href)},4e4),setTimeout(function(){Pd(i)},0))}:"msSaveOrOpenBlob"in navigator?function(t,e,r){if(e=e||t.name||"download",typeof t=="string")if(F_(t))Jm(t,e,r);else{var n=document.createElement("a");n.href=t,n.target="_blank",setTimeout(function(){Pd(n)})}else navigator.msSaveOrOpenBlob(function(i,s){return s===void 0?s={autoBom:!1}:vr(s)!=="object"&&(Ir.warn("Deprecated: Expected third argument to be a object"),s={autoBom:!s}),s.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(i.type)?new Blob(["\uFEFF",i],{type:i.type}):i}(t,r),e)}:function(t,e,r,n){if((n=n||open("","_blank"))&&(n.document.title=n.document.body.innerText="downloading..."),typeof t=="string")return Jm(t,e,r);var i=t.type==="application/octet-stream",s=/constructor/i.test(Ft.HTMLElement)||Ft.safari,a=/CriOS\/[\d]+/.test(navigator.userAgent);if((a||i&&s)&&(typeof FileReader>"u"?"undefined":vr(FileReader))==="object"){var o=new FileReader;o.onloadend=function(){var c=o.result;c=a?c:c.replace(/^data:[^;]*;/,"data:attachment/file;"),n?n.location.href=c:location=c,n=null},o.readAsDataURL(t)}else{var l=Ft.URL||Ft.webkitURL,u=l.createObjectURL(t);n?n.location=u:location.href=u,n=null,setTimeout(function(){l.revokeObjectURL(u)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function OE(t){var e;t=t||"",this.ok=!1,t.charAt(0)=="#"&&(t=t.substr(1,6)),t={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[t=(t=t.replace(/ /g,"")).toLowerCase()]||t;for(var r=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(o){return[parseInt(o[1]),parseInt(o[2]),parseInt(o[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(o){return[parseInt(o[1],16),parseInt(o[2],16),parseInt(o[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(o){return[parseInt(o[1]+o[1],16),parseInt(o[2]+o[2],16),parseInt(o[3]+o[3],16)]}}],n=0;n<r.length;n++){var i=r[n].re,s=r[n].process,a=i.exec(t);a&&(e=s(a),this.r=e[0],this.g=e[1],this.b=e[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var o=this.r.toString(16),l=this.g.toString(16),u=this.b.toString(16);return o.length==1&&(o="0"+o),l.length==1&&(l="0"+l),u.length==1&&(u="0"+u),"#"+o+l+u}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function Zm(t,e){var r=t[0],n=t[1],i=t[2],s=t[3];r=ci(r,n,i,s,e[0],7,-680876936),s=ci(s,r,n,i,e[1],12,-389564586),i=ci(i,s,r,n,e[2],17,606105819),n=ci(n,i,s,r,e[3],22,-1044525330),r=ci(r,n,i,s,e[4],7,-176418897),s=ci(s,r,n,i,e[5],12,1200080426),i=ci(i,s,r,n,e[6],17,-1473231341),n=ci(n,i,s,r,e[7],22,-45705983),r=ci(r,n,i,s,e[8],7,1770035416),s=ci(s,r,n,i,e[9],12,-1958414417),i=ci(i,s,r,n,e[10],17,-42063),n=ci(n,i,s,r,e[11],22,-1990404162),r=ci(r,n,i,s,e[12],7,1804603682),s=ci(s,r,n,i,e[13],12,-40341101),i=ci(i,s,r,n,e[14],17,-1502002290),r=fi(r,n=ci(n,i,s,r,e[15],22,1236535329),i,s,e[1],5,-165796510),s=fi(s,r,n,i,e[6],9,-1069501632),i=fi(i,s,r,n,e[11],14,643717713),n=fi(n,i,s,r,e[0],20,-373897302),r=fi(r,n,i,s,e[5],5,-701558691),s=fi(s,r,n,i,e[10],9,38016083),i=fi(i,s,r,n,e[15],14,-660478335),n=fi(n,i,s,r,e[4],20,-405537848),r=fi(r,n,i,s,e[9],5,568446438),s=fi(s,r,n,i,e[14],9,-1019803690),i=fi(i,s,r,n,e[3],14,-187363961),n=fi(n,i,s,r,e[8],20,1163531501),r=fi(r,n,i,s,e[13],5,-1444681467),s=fi(s,r,n,i,e[2],9,-51403784),i=fi(i,s,r,n,e[7],14,1735328473),r=hi(r,n=fi(n,i,s,r,e[12],20,-1926607734),i,s,e[5],4,-378558),s=hi(s,r,n,i,e[8],11,-2022574463),i=hi(i,s,r,n,e[11],16,1839030562),n=hi(n,i,s,r,e[14],23,-35309556),r=hi(r,n,i,s,e[1],4,-1530992060),s=hi(s,r,n,i,e[4],11,1272893353),i=hi(i,s,r,n,e[7],16,-155497632),n=hi(n,i,s,r,e[10],23,-1094730640),r=hi(r,n,i,s,e[13],4,681279174),s=hi(s,r,n,i,e[0],11,-358537222),i=hi(i,s,r,n,e[3],16,-722521979),n=hi(n,i,s,r,e[6],23,76029189),r=hi(r,n,i,s,e[9],4,-640364487),s=hi(s,r,n,i,e[12],11,-421815835),i=hi(i,s,r,n,e[15],16,530742520),r=di(r,n=hi(n,i,s,r,e[2],23,-995338651),i,s,e[0],6,-198630844),s=di(s,r,n,i,e[7],10,1126891415),i=di(i,s,r,n,e[14],15,-1416354905),n=di(n,i,s,r,e[5],21,-57434055),r=di(r,n,i,s,e[12],6,1700485571),s=di(s,r,n,i,e[3],10,-1894986606),i=di(i,s,r,n,e[10],15,-1051523),n=di(n,i,s,r,e[1],21,-2054922799),r=di(r,n,i,s,e[8],6,1873313359),s=di(s,r,n,i,e[15],10,-30611744),i=di(i,s,r,n,e[6],15,-1560198380),n=di(n,i,s,r,e[13],21,1309151649),r=di(r,n,i,s,e[4],6,-145523070),s=di(s,r,n,i,e[11],10,-1120210379),i=di(i,s,r,n,e[2],15,718787259),n=di(n,i,s,r,e[9],21,-343485551),t[0]=ol(r,t[0]),t[1]=ol(n,t[1]),t[2]=ol(i,t[2]),t[3]=ol(s,t[3])}function B1(t,e,r,n,i,s){return e=ol(ol(e,t),ol(n,s)),ol(e<<i|e>>>32-i,r)}function ci(t,e,r,n,i,s,a){return B1(e&r|~e&n,t,e,i,s,a)}function fi(t,e,r,n,i,s,a){return B1(e&n|r&~n,t,e,i,s,a)}function hi(t,e,r,n,i,s,a){return B1(e^r^n,t,e,i,s,a)}function di(t,e,r,n,i,s,a){return B1(r^(e|~n),t,e,i,s,a)}function ME(t){var e,r=t.length,n=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=t.length;e+=64)Zm(n,vL(t.substring(e-64,e)));t=t.substring(e-64);var i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<t.length;e++)i[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(i[e>>2]|=128<<(e%4<<3),e>55)for(Zm(n,i),e=0;e<16;e++)i[e]=0;return i[14]=8*r,Zm(n,i),n}function vL(t){var e,r=[];for(e=0;e<64;e+=4)r[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return r}Sh=Ft.atob.bind(Ft),F2=Ft.btoa.bind(Ft);var R_="0123456789abcdef".split("");function yL(t){for(var e="",r=0;r<4;r++)e+=R_[t>>8*r+4&15]+R_[t>>8*r&15];return e}function xL(t){return String.fromCharCode((255&t)>>0,(65280&t)>>8,(16711680&t)>>16,(4278190080&t)>>24)}function R2(t){return ME(t).map(xL).join("")}var _L=function(t){for(var e=0;e<t.length;e++)t[e]=yL(t[e]);return t.join("")}(ME("hello"))!="5d41402abc4b2a76b9719d911017c592";function ol(t,e){if(_L){var r=(65535&t)+(65535&e);return(t>>16)+(e>>16)+(r>>16)<<16|65535&r}return t+e&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function D2(t,e){var r,n,i,s;if(t!==r){for(var a=(i=t,s=1+(256/t.length>>0),new Array(s+1).join(i)),o=[],l=0;l<256;l++)o[l]=l;var u=0;for(l=0;l<256;l++){var c=o[l];u=(u+c+a.charCodeAt(l))%256,o[l]=o[u],o[u]=c}r=t,n=o}else o=n;var p=e.length,m=0,d=0,y="";for(l=0;l<p;l++)d=(d+(c=o[m=(m+1)%256]))%256,o[m]=o[d],o[d]=c,a=o[(o[m]+o[d])%256],y+=String.fromCharCode(e.charCodeAt(l)^a);return y}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var D_={print:4,modify:8,copy:16,"annot-forms":32};function _c(t,e,r,n){this.v=1,this.r=2;var i=192;t.forEach(function(o){if(D_.perm!==void 0)throw new Error("Invalid permission: "+o);i+=D_[o]}),this.padding="(¿N^NuAd\0NVÿú\b..\0¶Ðh>/\f©þdSiz";var s=(e+this.padding).substr(0,32),a=(r+this.padding).substr(0,32);this.O=this.processOwnerPassword(s,a),this.P=-(1+(255^i)),this.encryptionKey=R2(s+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(n)).substr(0,5),this.U=D2(this.encryptionKey,this.padding)}function wc(t){if(/[^\u0000-\u00ff]/.test(t))throw new Error("Invalid PDF Name Object: "+t+", Only accept ASCII characters.");for(var e="",r=t.length,n=0;n<r;n++){var i=t.charCodeAt(n);i<33||i===35||i===37||i===40||i===41||i===47||i===60||i===62||i===91||i===93||i===123||i===125||i>126?e+="#"+("0"+i.toString(16)).slice(-2):e+=t[n]}return e}function O_(t){if(vr(t)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var e={};this.subscribe=function(r,n,i){if(i=i||!1,typeof r!="string"||typeof n!="function"||typeof i!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");e.hasOwnProperty(r)||(e[r]={});var s=Math.random().toString(35);return e[r][s]=[n,!!i],s},this.unsubscribe=function(r){for(var n in e)if(e[n][r])return delete e[n][r],Object.keys(e[n]).length===0&&delete e[n],!0;return!1},this.publish=function(r){if(e.hasOwnProperty(r)){var n=Array.prototype.slice.call(arguments,1),i=[];for(var s in e[r]){var a=e[r][s];try{a[0].apply(t,n)}catch(o){Ft.console&&Ir.error("jsPDF PubSub Error",o.message,o)}a[1]&&i.push(s)}i.length&&i.forEach(this.unsubscribe)}},this.getTopics=function(){return e}}function l0(t){if(!(this instanceof l0))return new l0(t);var e="opacity,stroke-opacity".split(",");for(var r in t)t.hasOwnProperty(r)&&e.indexOf(r)>=0&&(this[r]=t[r]);this.id="",this.objectNumber=-1}function jE(t,e){this.gState=t,this.matrix=e,this.id="",this.objectNumber=-1}function nl(t,e,r,n,i){if(!(this instanceof nl))return new nl(t,e,r,n,i);this.type=t==="axial"?2:3,this.coords=e,this.colors=r,jE.call(this,n,i)}function hu(t,e,r,n,i){if(!(this instanceof hu))return new hu(t,e,r,n,i);this.boundingBox=t,this.xStep=e,this.yStep=r,this.stream="",this.cloneIndex=0,jE.call(this,n,i)}function Ct(t){var e,r=typeof arguments[0]=="string"?arguments[0]:"p",n=arguments[1],i=arguments[2],s=arguments[3],a=[],o=1,l=16,u="S",c=null;vr(t=t||{})==="object"&&(r=t.orientation,n=t.unit||n,i=t.format||i,s=t.compress||t.compressPdf||s,(c=t.encryption||null)!==null&&(c.userPassword=c.userPassword||"",c.ownerPassword=c.ownerPassword||"",c.userPermissions=c.userPermissions||[]),o=typeof t.userUnit=="number"?Math.abs(t.userUnit):1,t.precision!==void 0&&(e=t.precision),t.floatPrecision!==void 0&&(l=t.floatPrecision),u=t.defaultPathOperation||"S"),a=t.filters||(s===!0?["FlateEncode"]:a),n=n||"mm",r=(""+(r||"P")).toLowerCase();var p=t.putOnlyUsedFonts||!1,m={},d={internal:{},__private__:{}};d.__private__.PubSub=O_;var y="1.3",v=d.__private__.getPdfVersion=function(){return y};d.__private__.setPdfVersion=function(A){y=A};var T={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};d.__private__.getPageFormats=function(){return T};var _=d.__private__.getPageFormat=function(A){return T[A]};i=i||"a4";var x={COMPAT:"compat",ADVANCED:"advanced"},E=x.COMPAT;function L(){this.saveGraphicsState(),fe(new vt(ht,0,0,-ht,0,ai()*ht).toString()+" cm"),this.setFontSize(this.getFontSize()/ht),u="n",E=x.ADVANCED}function j(){this.restoreGraphicsState(),u="S",E=x.COMPAT}var z=d.__private__.combineFontStyleAndFontWeight=function(A,H){if(A=="bold"&&H=="normal"||A=="bold"&&H==400||A=="normal"&&H=="italic"||A=="bold"&&H=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return H&&(A=H==400||H==="normal"?A==="italic"?"italic":"normal":H!=700&&H!=="bold"||A!=="normal"?(H==700?"bold":H)+""+A:"bold"),A};d.advancedAPI=function(A){var H=E===x.COMPAT;return H&&L.call(this),typeof A!="function"||(A(this),H&&j.call(this)),this},d.compatAPI=function(A){var H=E===x.ADVANCED;return H&&j.call(this),typeof A!="function"||(A(this),H&&L.call(this)),this},d.isAdvancedAPI=function(){return E===x.ADVANCED};var w,S=function(A){if(E!==x.ADVANCED)throw new Error(A+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},I=d.roundToPrecision=d.__private__.roundToPrecision=function(A,H){var ce=e||H;if(isNaN(A)||isNaN(ce))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return A.toFixed(ce).replace(/0+$/,"")};w=d.hpf=d.__private__.hpf=typeof l=="number"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return I(A,l)}:l==="smart"?function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return I(A,A>-1&&A<1?16:5)}:function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.hpf");return I(A,16)};var F=d.f2=d.__private__.f2=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f2");return I(A,2)},N=d.__private__.f3=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.f3");return I(A,3)},b=d.scale=d.__private__.scale=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.scale");return E===x.COMPAT?A*ht:E===x.ADVANCED?A:void 0},D=function(A){return E===x.COMPAT?ai()-A:E===x.ADVANCED?A:void 0},Z=function(A){return b(D(A))};d.__private__.setPrecision=d.setPrecision=function(A){typeof parseInt(A,10)=="number"&&(e=parseInt(A,10))};var de,se="00000000000000000000000000000000",re=d.__private__.getFileId=function(){return se},X=d.__private__.setFileId=function(A){return se=A!==void 0&&/^[a-fA-F0-9]{32}$/.test(A)?A.toUpperCase():se.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),c!==null&&(Dr=new _c(c.userPermissions,c.userPassword,c.ownerPassword,se)),se};d.setFileId=function(A){return X(A),this},d.getFileId=function(){return re()};var ee=d.__private__.convertDateToPDFDate=function(A){var H=A.getTimezoneOffset(),ce=H<0?"+":"-",ve=Math.floor(Math.abs(H/60)),Ee=Math.abs(H%60),Oe=[ce,V(ve),"'",V(Ee),"'"].join("");return["D:",A.getFullYear(),V(A.getMonth()+1),V(A.getDate()),V(A.getHours()),V(A.getMinutes()),V(A.getSeconds()),Oe].join("")},he=d.__private__.convertPDFDateToDate=function(A){var H=parseInt(A.substr(2,4),10),ce=parseInt(A.substr(6,2),10)-1,ve=parseInt(A.substr(8,2),10),Ee=parseInt(A.substr(10,2),10),Oe=parseInt(A.substr(12,2),10),Xe=parseInt(A.substr(14,2),10);return new Date(H,ce,ve,Ee,Oe,Xe,0)},we=d.__private__.setCreationDate=function(A){var H;if(A===void 0&&(A=new Date),A instanceof Date)H=ee(A);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(A))throw new Error("Invalid argument passed to jsPDF.setCreationDate");H=A}return de=H},P=d.__private__.getCreationDate=function(A){var H=de;return A==="jsDate"&&(H=he(de)),H};d.setCreationDate=function(A){return we(A),this},d.getCreationDate=function(A){return P(A)};var B,V=d.__private__.padd2=function(A){return("0"+parseInt(A)).slice(-2)},U=d.__private__.padd2Hex=function(A){return("00"+(A=A.toString())).substr(A.length)},Y=0,pe=[],me=[],ge=0,Te=[],Me=[],Ve=!1,Je=me,st=function(){Y=0,ge=0,me=[],pe=[],Te=[],ne=zr(),ie=zr()};d.__private__.setCustomOutputDestination=function(A){Ve=!0,Je=A};var Re=function(A){Ve||(Je=A)};d.__private__.resetCustomOutputDestination=function(){Ve=!1,Je=me};var fe=d.__private__.out=function(A){return A=A.toString(),ge+=A.length+1,Je.push(A),Je},He=d.__private__.write=function(A){return fe(arguments.length===1?A.toString():Array.prototype.join.call(arguments," "))},mt=d.__private__.getArrayBuffer=function(A){for(var H=A.length,ce=new ArrayBuffer(H),ve=new Uint8Array(ce);H--;)ve[H]=A.charCodeAt(H);return ce},Ge=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];d.__private__.getStandardFonts=function(){return Ge};var tt=t.fontSize||16;d.__private__.setFontSize=d.setFontSize=function(A){return tt=E===x.ADVANCED?A/ht:A,this};var ot,lt=d.__private__.getFontSize=d.getFontSize=function(){return E===x.COMPAT?tt:tt*ht},wt=t.R2L||!1;d.__private__.setR2L=d.setR2L=function(A){return wt=A,this},d.__private__.getR2L=d.getR2L=function(){return wt};var Et,Lt=d.__private__.setZoomMode=function(A){var H=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(A))ot=A;else if(isNaN(A)){if(H.indexOf(A)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+A+'" is not recognized.');ot=A}else ot=parseInt(A,10)};d.__private__.getZoomMode=function(){return ot};var At,Nt=d.__private__.setPageMode=function(A){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(A)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+A+'" is not recognized.');Et=A};d.__private__.getPageMode=function(){return Et};var Ht=d.__private__.setLayoutMode=function(A){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(A)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+A+'" is not recognized.');At=A};d.__private__.getLayoutMode=function(){return At},d.__private__.setDisplayMode=d.setDisplayMode=function(A,H,ce){return Lt(A),Ht(H),Nt(ce),this};var It={title:"",subject:"",author:"",keywords:"",creator:""};d.__private__.getDocumentProperty=function(A){if(Object.keys(It).indexOf(A)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return It[A]},d.__private__.getDocumentProperties=function(){return It},d.__private__.setDocumentProperties=d.setProperties=d.setDocumentProperties=function(A){for(var H in It)It.hasOwnProperty(H)&&A[H]&&(It[H]=A[H]);return this},d.__private__.setDocumentProperty=function(A,H){if(Object.keys(It).indexOf(A)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return It[A]=H};var Ut,ht,Fr,qt,Vn,Jt={},Sr={},Di=[],Gt={},Zi={},Er={},Sn={},wi=null,or=0,Tt=[],Qt=new O_(d),Oi=t.hotfixes||[],Xr={},kn={},Si=[],vt=function A(H,ce,ve,Ee,Oe,Xe){if(!(this instanceof A))return new A(H,ce,ve,Ee,Oe,Xe);isNaN(H)&&(H=1),isNaN(ce)&&(ce=0),isNaN(ve)&&(ve=0),isNaN(Ee)&&(Ee=1),isNaN(Oe)&&(Oe=0),isNaN(Xe)&&(Xe=0),this._matrix=[H,ce,ve,Ee,Oe,Xe]};Object.defineProperty(vt.prototype,"sx",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(vt.prototype,"shy",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(vt.prototype,"shx",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(vt.prototype,"sy",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(vt.prototype,"tx",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(vt.prototype,"ty",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(vt.prototype,"a",{get:function(){return this._matrix[0]},set:function(A){this._matrix[0]=A}}),Object.defineProperty(vt.prototype,"b",{get:function(){return this._matrix[1]},set:function(A){this._matrix[1]=A}}),Object.defineProperty(vt.prototype,"c",{get:function(){return this._matrix[2]},set:function(A){this._matrix[2]=A}}),Object.defineProperty(vt.prototype,"d",{get:function(){return this._matrix[3]},set:function(A){this._matrix[3]=A}}),Object.defineProperty(vt.prototype,"e",{get:function(){return this._matrix[4]},set:function(A){this._matrix[4]=A}}),Object.defineProperty(vt.prototype,"f",{get:function(){return this._matrix[5]},set:function(A){this._matrix[5]=A}}),Object.defineProperty(vt.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(vt.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(vt.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(vt.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),vt.prototype.join=function(A){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(w).join(A)},vt.prototype.multiply=function(A){var H=A.sx*this.sx+A.shy*this.shx,ce=A.sx*this.shy+A.shy*this.sy,ve=A.shx*this.sx+A.sy*this.shx,Ee=A.shx*this.shy+A.sy*this.sy,Oe=A.tx*this.sx+A.ty*this.shx+this.tx,Xe=A.tx*this.shy+A.ty*this.sy+this.ty;return new vt(H,ce,ve,Ee,Oe,Xe)},vt.prototype.decompose=function(){var A=this.sx,H=this.shy,ce=this.shx,ve=this.sy,Ee=this.tx,Oe=this.ty,Xe=Math.sqrt(A*A+H*H),ft=(A/=Xe)*ce+(H/=Xe)*ve;ce-=A*ft,ve-=H*ft;var h=Math.sqrt(ce*ce+ve*ve);return ft/=h,A*(ve/=h)<H*(ce/=h)&&(A=-A,H=-H,ft=-ft,Xe=-Xe),{scale:new vt(Xe,0,0,h,0,0),translate:new vt(1,0,0,1,Ee,Oe),rotate:new vt(A,H,-H,A,0,0),skew:new vt(1,0,ft,1,0,0)}},vt.prototype.toString=function(A){return this.join(" ")},vt.prototype.inversed=function(){var A=this.sx,H=this.shy,ce=this.shx,ve=this.sy,Ee=this.tx,Oe=this.ty,Xe=1/(A*ve-H*ce),ft=ve*Xe,h=-H*Xe,k=-ce*Xe,M=A*Xe;return new vt(ft,h,k,M,-ft*Ee-k*Oe,-h*Ee-M*Oe)},vt.prototype.applyToPoint=function(A){var H=A.x*this.sx+A.y*this.shx+this.tx,ce=A.x*this.shy+A.y*this.sy+this.ty;return new Wa(H,ce)},vt.prototype.applyToRectangle=function(A){var H=this.applyToPoint(A),ce=this.applyToPoint(new Wa(A.x+A.w,A.y+A.h));return new Ro(H.x,H.y,ce.x-H.x,ce.y-H.y)},vt.prototype.clone=function(){var A=this.sx,H=this.shy,ce=this.shx,ve=this.sy,Ee=this.tx,Oe=this.ty;return new vt(A,H,ce,ve,Ee,Oe)},d.Matrix=vt;var si=d.matrixMult=function(A,H){return H.multiply(A)},fn=new vt(1,0,0,1,0,0);d.unitMatrix=d.identityMatrix=fn;var Yr=function(A,H){if(!Zi[A]){var ce=(H instanceof nl?"Sh":"P")+(Object.keys(Gt).length+1).toString(10);H.id=ce,Zi[A]=ce,Gt[ce]=H,Qt.publish("addPattern",H)}};d.ShadingPattern=nl,d.TilingPattern=hu,d.addShadingPattern=function(A,H){return S("addShadingPattern()"),Yr(A,H),this},d.beginTilingPattern=function(A){S("beginTilingPattern()"),Do(A.boundingBox[0],A.boundingBox[1],A.boundingBox[2]-A.boundingBox[0],A.boundingBox[3]-A.boundingBox[1],A.matrix)},d.endTilingPattern=function(A,H){S("endTilingPattern()"),H.stream=Me[B].join(`
`),Yr(A,H),Qt.publish("endTilingPattern",H),Si.pop().restore()};var Wr=d.__private__.newObject=function(){var A=zr();return q(A,!0),A},zr=d.__private__.newObjectDeferred=function(){return Y++,pe[Y]=function(){return ge},Y},q=function(A,H){return H=typeof H=="boolean"&&H,pe[A]=ge,H&&fe(A+" 0 obj"),A},le=d.__private__.newAdditionalObject=function(){var A={objId:zr(),content:""};return Te.push(A),A},ne=zr(),ie=zr(),oe=d.__private__.decodeColorString=function(A){var H=A.split(" ");if(H.length!==2||H[1]!=="g"&&H[1]!=="G")H.length===5&&(H[4]==="k"||H[4]==="K")&&(H=[(1-H[0])*(1-H[3]),(1-H[1])*(1-H[3]),(1-H[2])*(1-H[3]),"r"]);else{var ce=parseFloat(H[0]);H=[ce,ce,ce,"r"]}for(var ve="#",Ee=0;Ee<3;Ee++)ve+=("0"+Math.floor(255*parseFloat(H[Ee])).toString(16)).slice(-2);return ve},ue=d.__private__.encodeColorString=function(A){var H;typeof A=="string"&&(A={ch1:A});var ce=A.ch1,ve=A.ch2,Ee=A.ch3,Oe=A.ch4,Xe=A.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof ce=="string"&&ce.charAt(0)!=="#"){var ft=new OE(ce);if(ft.ok)ce=ft.toHex();else if(!/^\d*\.?\d*$/.test(ce))throw new Error('Invalid color "'+ce+'" passed to jsPDF.encodeColorString.')}if(typeof ce=="string"&&/^#[0-9A-Fa-f]{3}$/.test(ce)&&(ce="#"+ce[1]+ce[1]+ce[2]+ce[2]+ce[3]+ce[3]),typeof ce=="string"&&/^#[0-9A-Fa-f]{6}$/.test(ce)){var h=parseInt(ce.substr(1),16);ce=h>>16&255,ve=h>>8&255,Ee=255&h}if(ve===void 0||Oe===void 0&&ce===ve&&ve===Ee)if(typeof ce=="string")H=ce+" "+Xe[0];else switch(A.precision){case 2:H=F(ce/255)+" "+Xe[0];break;case 3:default:H=N(ce/255)+" "+Xe[0]}else if(Oe===void 0||vr(Oe)==="object"){if(Oe&&!isNaN(Oe.a)&&Oe.a===0)return H=["1.","1.","1.",Xe[1]].join(" ");if(typeof ce=="string")H=[ce,ve,Ee,Xe[1]].join(" ");else switch(A.precision){case 2:H=[F(ce/255),F(ve/255),F(Ee/255),Xe[1]].join(" ");break;default:case 3:H=[N(ce/255),N(ve/255),N(Ee/255),Xe[1]].join(" ")}}else if(typeof ce=="string")H=[ce,ve,Ee,Oe,Xe[2]].join(" ");else switch(A.precision){case 2:H=[F(ce),F(ve),F(Ee),F(Oe),Xe[2]].join(" ");break;case 3:default:H=[N(ce),N(ve),N(Ee),N(Oe),Xe[2]].join(" ")}return H},be=d.__private__.getFilters=function(){return a},Fe=d.__private__.putStream=function(A){var H=(A=A||{}).data||"",ce=A.filters||be(),ve=A.alreadyAppliedFilters||[],Ee=A.addLength1||!1,Oe=H.length,Xe=A.objectId,ft=function(Ot){return Ot};if(c!==null&&Xe===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");c!==null&&(ft=Dr.encryptor(Xe,0));var h={};ce===!0&&(ce=["FlateEncode"]);var k=A.additionalKeyValues||[],M=(h=Ct.API.processDataByFilters!==void 0?Ct.API.processDataByFilters(H,ce):{data:H,reverseChain:[]}).reverseChain+(Array.isArray(ve)?ve.join(" "):ve.toString());if(h.data.length!==0&&(k.push({key:"Length",value:h.data.length}),Ee===!0&&k.push({key:"Length1",value:Oe})),M.length!=0)if(M.split("/").length-1==1)k.push({key:"Filter",value:M});else{k.push({key:"Filter",value:"["+M+"]"});for(var Q=0;Q<k.length;Q+=1)if(k[Q].key==="DecodeParms"){for(var Se=[],ke=0;ke<h.reverseChain.split("/").length-1;ke+=1)Se.push("null");Se.push(k[Q].value),k[Q].value="["+Se.join(" ")+"]"}}fe("<<");for(var Ye=0;Ye<k.length;Ye++)fe("/"+k[Ye].key+" "+k[Ye].value);fe(">>"),h.data.length!==0&&(fe("stream"),fe(ft(h.data)),fe("endstream"))},Ne=d.__private__.putPage=function(A){var H=A.number,ce=A.data,ve=A.objId,Ee=A.contentsObjId;q(ve,!0),fe("<</Type /Page"),fe("/Parent "+A.rootDictionaryObjId+" 0 R"),fe("/Resources "+A.resourceDictionaryObjId+" 0 R"),fe("/MediaBox ["+parseFloat(w(A.mediaBox.bottomLeftX))+" "+parseFloat(w(A.mediaBox.bottomLeftY))+" "+w(A.mediaBox.topRightX)+" "+w(A.mediaBox.topRightY)+"]"),A.cropBox!==null&&fe("/CropBox ["+w(A.cropBox.bottomLeftX)+" "+w(A.cropBox.bottomLeftY)+" "+w(A.cropBox.topRightX)+" "+w(A.cropBox.topRightY)+"]"),A.bleedBox!==null&&fe("/BleedBox ["+w(A.bleedBox.bottomLeftX)+" "+w(A.bleedBox.bottomLeftY)+" "+w(A.bleedBox.topRightX)+" "+w(A.bleedBox.topRightY)+"]"),A.trimBox!==null&&fe("/TrimBox ["+w(A.trimBox.bottomLeftX)+" "+w(A.trimBox.bottomLeftY)+" "+w(A.trimBox.topRightX)+" "+w(A.trimBox.topRightY)+"]"),A.artBox!==null&&fe("/ArtBox ["+w(A.artBox.bottomLeftX)+" "+w(A.artBox.bottomLeftY)+" "+w(A.artBox.topRightX)+" "+w(A.artBox.topRightY)+"]"),typeof A.userUnit=="number"&&A.userUnit!==1&&fe("/UserUnit "+A.userUnit),Qt.publish("putPage",{objId:ve,pageContext:Tt[H],pageNumber:H,page:ce}),fe("/Contents "+Ee+" 0 R"),fe(">>"),fe("endobj");var Oe=ce.join(`
`);return E===x.ADVANCED&&(Oe+=`
Q`),q(Ee,!0),Fe({data:Oe,filters:be(),objectId:Ee}),fe("endobj"),ve},Ce=d.__private__.putPages=function(){var A,H,ce=[];for(A=1;A<=or;A++)Tt[A].objId=zr(),Tt[A].contentsObjId=zr();for(A=1;A<=or;A++)ce.push(Ne({number:A,data:Me[A],objId:Tt[A].objId,contentsObjId:Tt[A].contentsObjId,mediaBox:Tt[A].mediaBox,cropBox:Tt[A].cropBox,bleedBox:Tt[A].bleedBox,trimBox:Tt[A].trimBox,artBox:Tt[A].artBox,userUnit:Tt[A].userUnit,rootDictionaryObjId:ne,resourceDictionaryObjId:ie}));q(ne,!0),fe("<</Type /Pages");var ve="/Kids [";for(H=0;H<or;H++)ve+=ce[H]+" 0 R ";fe(ve+"]"),fe("/Count "+or),fe(">>"),fe("endobj"),Qt.publish("postPutPages")},Le=function(A){Qt.publish("putFont",{font:A,out:fe,newObject:Wr,putStream:Fe}),A.isAlreadyPutted!==!0&&(A.objectNumber=Wr(),fe("<<"),fe("/Type /Font"),fe("/BaseFont /"+wc(A.postScriptName)),fe("/Subtype /Type1"),typeof A.encoding=="string"&&fe("/Encoding /"+A.encoding),fe("/FirstChar 32"),fe("/LastChar 255"),fe(">>"),fe("endobj"))},Ke=function(){for(var A in Jt)Jt.hasOwnProperty(A)&&(p===!1||p===!0&&m.hasOwnProperty(A))&&Le(Jt[A])},nt=function(A){A.objectNumber=Wr();var H=[];H.push({key:"Type",value:"/XObject"}),H.push({key:"Subtype",value:"/Form"}),H.push({key:"BBox",value:"["+[w(A.x),w(A.y),w(A.x+A.width),w(A.y+A.height)].join(" ")+"]"}),H.push({key:"Matrix",value:"["+A.matrix.toString()+"]"});var ce=A.pages[1].join(`
`);Fe({data:ce,additionalKeyValues:H,objectId:A.objectNumber}),fe("endobj")},dt=function(){for(var A in Xr)Xr.hasOwnProperty(A)&&nt(Xr[A])},Ze=function(A,H){var ce,ve=[],Ee=1/(H-1);for(ce=0;ce<1;ce+=Ee)ve.push(ce);if(ve.push(1),A[0].offset!=0){var Oe={offset:0,color:A[0].color};A.unshift(Oe)}if(A[A.length-1].offset!=1){var Xe={offset:1,color:A[A.length-1].color};A.push(Xe)}for(var ft="",h=0,k=0;k<ve.length;k++){for(ce=ve[k];ce>A[h+1].offset;)h++;var M=A[h].offset,Q=(ce-M)/(A[h+1].offset-M),Se=A[h].color,ke=A[h+1].color;ft+=U(Math.round((1-Q)*Se[0]+Q*ke[0]).toString(16))+U(Math.round((1-Q)*Se[1]+Q*ke[1]).toString(16))+U(Math.round((1-Q)*Se[2]+Q*ke[2]).toString(16))}return ft.trim()},ut=function(A,H){H||(H=21);var ce=Wr(),ve=Ze(A.colors,H),Ee=[];Ee.push({key:"FunctionType",value:"0"}),Ee.push({key:"Domain",value:"[0.0 1.0]"}),Ee.push({key:"Size",value:"["+H+"]"}),Ee.push({key:"BitsPerSample",value:"8"}),Ee.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Ee.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe({data:ve,additionalKeyValues:Ee,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:ce}),fe("endobj"),A.objectNumber=Wr(),fe("<< /ShadingType "+A.type),fe("/ColorSpace /DeviceRGB");var Oe="/Coords ["+w(parseFloat(A.coords[0]))+" "+w(parseFloat(A.coords[1]))+" ";A.type===2?Oe+=w(parseFloat(A.coords[2]))+" "+w(parseFloat(A.coords[3])):Oe+=w(parseFloat(A.coords[2]))+" "+w(parseFloat(A.coords[3]))+" "+w(parseFloat(A.coords[4]))+" "+w(parseFloat(A.coords[5])),fe(Oe+="]"),A.matrix&&fe("/Matrix ["+A.matrix.toString()+"]"),fe("/Function "+ce+" 0 R"),fe("/Extend [true true]"),fe(">>"),fe("endobj")},kt=function(A,H){var ce=zr(),ve=Wr();H.push({resourcesOid:ce,objectOid:ve}),A.objectNumber=ve;var Ee=[];Ee.push({key:"Type",value:"/Pattern"}),Ee.push({key:"PatternType",value:"1"}),Ee.push({key:"PaintType",value:"1"}),Ee.push({key:"TilingType",value:"1"}),Ee.push({key:"BBox",value:"["+A.boundingBox.map(w).join(" ")+"]"}),Ee.push({key:"XStep",value:w(A.xStep)}),Ee.push({key:"YStep",value:w(A.yStep)}),Ee.push({key:"Resources",value:ce+" 0 R"}),A.matrix&&Ee.push({key:"Matrix",value:"["+A.matrix.toString()+"]"}),Fe({data:A.stream,additionalKeyValues:Ee,objectId:A.objectNumber}),fe("endobj")},Zt=function(A){var H;for(H in Gt)Gt.hasOwnProperty(H)&&(Gt[H]instanceof nl?ut(Gt[H]):Gt[H]instanceof hu&&kt(Gt[H],A))},er=function(A){for(var H in A.objectNumber=Wr(),fe("<<"),A)switch(H){case"opacity":fe("/ca "+F(A[H]));break;case"stroke-opacity":fe("/CA "+F(A[H]))}fe(">>"),fe("endobj")},Ar=function(){var A;for(A in Er)Er.hasOwnProperty(A)&&er(Er[A])},Ei=function(){for(var A in fe("/XObject <<"),Xr)Xr.hasOwnProperty(A)&&Xr[A].objectNumber>=0&&fe("/"+A+" "+Xr[A].objectNumber+" 0 R");Qt.publish("putXobjectDict"),fe(">>")},Vs=function(){Dr.oid=Wr(),fe("<<"),fe("/Filter /Standard"),fe("/V "+Dr.v),fe("/R "+Dr.r),fe("/U <"+Dr.toHexString(Dr.U)+">"),fe("/O <"+Dr.toHexString(Dr.O)+">"),fe("/P "+Dr.P),fe(">>"),fe("endobj")},es=function(){for(var A in fe("/Font <<"),Jt)Jt.hasOwnProperty(A)&&(p===!1||p===!0&&m.hasOwnProperty(A))&&fe("/"+A+" "+Jt[A].objectNumber+" 0 R");fe(">>")},Mi=function(){if(Object.keys(Gt).length>0){for(var A in fe("/Shading <<"),Gt)Gt.hasOwnProperty(A)&&Gt[A]instanceof nl&&Gt[A].objectNumber>=0&&fe("/"+A+" "+Gt[A].objectNumber+" 0 R");Qt.publish("putShadingPatternDict"),fe(">>")}},ts=function(A){if(Object.keys(Gt).length>0){for(var H in fe("/Pattern <<"),Gt)Gt.hasOwnProperty(H)&&Gt[H]instanceof d.TilingPattern&&Gt[H].objectNumber>=0&&Gt[H].objectNumber<A&&fe("/"+H+" "+Gt[H].objectNumber+" 0 R");Qt.publish("putTilingPatternDict"),fe(">>")}},Un=function(){if(Object.keys(Er).length>0){var A;for(A in fe("/ExtGState <<"),Er)Er.hasOwnProperty(A)&&Er[A].objectNumber>=0&&fe("/"+A+" "+Er[A].objectNumber+" 0 R");Qt.publish("putGStateDict"),fe(">>")}},Rr=function(A){q(A.resourcesOid,!0),fe("<<"),fe("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),es(),Mi(),ts(A.objectOid),Un(),Ei(),fe(">>"),fe("endobj")},Bl=function(){var A=[];Ke(),Ar(),dt(),Zt(A),Qt.publish("putResources"),A.forEach(Rr),Rr({resourcesOid:ie,objectOid:Number.MAX_SAFE_INTEGER}),Qt.publish("postPutResources")},Vl=function(){Qt.publish("putAdditionalObjects");for(var A=0;A<Te.length;A++){var H=Te[A];q(H.objId,!0),fe(H.content),fe("endobj")}Qt.publish("postPutAdditionalObjects")},Wu=function(A){Sr[A.fontName]=Sr[A.fontName]||{},Sr[A.fontName][A.fontStyle]=A.id},Ul=function(A,H,ce,ve,Ee){var Oe={id:"F"+(Object.keys(Jt).length+1).toString(10),postScriptName:A,fontName:H,fontStyle:ce,encoding:ve,isStandardFont:Ee||!1,metadata:{}};return Qt.publish("addFont",{font:Oe,instance:this}),Jt[Oe.id]=Oe,Wu(Oe),Oe.id},qu=function(A){for(var H=0,ce=Ge.length;H<ce;H++){var ve=Ul.call(this,A[H][0],A[H][1],A[H][2],Ge[H][3],!0);p===!1&&(m[ve]=!0);var Ee=A[H][0].split("-");Wu({id:ve,fontName:Ee[0],fontStyle:Ee[1]||""})}Qt.publish("addFonts",{fonts:Jt,dictionary:Sr})},ji=function(A){return A.foo=function(){try{return A.apply(this,arguments)}catch(ve){var H=ve.stack||"";~H.indexOf(" at ")&&(H=H.split(" at ")[1]);var ce="Error in function "+H.split(`
`)[0].split("<")[0]+": "+ve.message;if(!Ft.console)throw new Error(ce);Ft.console.error(ce,ve),Ft.alert&&alert(ce)}},A.foo.bar=A,A.foo},So=function(A,H){var ce,ve,Ee,Oe,Xe,ft,h,k,M;if(Ee=(H=H||{}).sourceEncoding||"Unicode",Xe=H.outputEncoding,(H.autoencode||Xe)&&Jt[Ut].metadata&&Jt[Ut].metadata[Ee]&&Jt[Ut].metadata[Ee].encoding&&(Oe=Jt[Ut].metadata[Ee].encoding,!Xe&&Jt[Ut].encoding&&(Xe=Jt[Ut].encoding),!Xe&&Oe.codePages&&(Xe=Oe.codePages[0]),typeof Xe=="string"&&(Xe=Oe[Xe]),Xe)){for(h=!1,ft=[],ce=0,ve=A.length;ce<ve;ce++)(k=Xe[A.charCodeAt(ce)])?ft.push(String.fromCharCode(k)):ft.push(A[ce]),ft[ce].charCodeAt(0)>>8&&(h=!0);A=ft.join("")}for(ce=A.length;h===void 0&&ce!==0;)A.charCodeAt(ce-1)>>8&&(h=!0),ce--;if(!h)return A;for(ft=H.noBOM?[]:[254,255],ce=0,ve=A.length;ce<ve;ce++){if((M=(k=A.charCodeAt(ce))>>8)>>8)throw new Error("Character at position "+ce+" of string '"+A+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");ft.push(M),ft.push(k-(M<<8))}return String.fromCharCode.apply(void 0,ft)},Qr=d.__private__.pdfEscape=d.pdfEscape=function(A,H){return So(A,H).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},Ai=d.__private__.beginPage=function(A){Me[++or]=[],Tt[or]={objId:0,contentsObjId:0,userUnit:Number(o),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(A[0]),topRightY:Number(A[1])}},zl(or),Re(Me[B])},Ba=function(A,H){var ce,ve,Ee;switch(r=H||r,typeof A=="string"&&(ce=_(A.toLowerCase()),Array.isArray(ce)&&(ve=ce[0],Ee=ce[1])),Array.isArray(A)&&(ve=A[0]*ht,Ee=A[1]*ht),isNaN(ve)&&(ve=i[0],Ee=i[1]),(ve>14400||Ee>14400)&&(Ir.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),ve=Math.min(14400,ve),Ee=Math.min(14400,Ee)),i=[ve,Ee],r.substr(0,1)){case"l":Ee>ve&&(i=[Ee,ve]);break;case"p":ve>Ee&&(i=[Ee,ve])}Ai(i),$l(Gl),fe(zn),Yl!==0&&fe(Yl+" J"),Fo!==0&&fe(Fo+" j"),Qt.publish("addPage",{pageNumber:or})},Eo=function(A){A>0&&A<=or&&(Me.splice(A,1),Tt.splice(A,1),or--,B>or&&(B=or),this.setPage(B))},zl=function(A){A>0&&A<=or&&(B=A)},hr=d.__private__.getNumberOfPages=d.getNumberOfPages=function(){return Me.length-1},Va=function(A,H,ce){var ve,Ee=void 0;return ce=ce||{},A=A!==void 0?A:Jt[Ut].fontName,H=H!==void 0?H:Jt[Ut].fontStyle,ve=A.toLowerCase(),Sr[ve]!==void 0&&Sr[ve][H]!==void 0?Ee=Sr[ve][H]:Sr[A]!==void 0&&Sr[A][H]!==void 0?Ee=Sr[A][H]:ce.disableWarning===!1&&Ir.warn("Unable to look up font label for font '"+A+"', '"+H+"'. Refer to getFontList() for available fonts."),Ee||ce.noFallback||(Ee=Sr.times[H])==null&&(Ee=Sr.times.normal),Ee},Ua=d.__private__.putInfo=function(){var A=Wr(),H=function(ve){return ve};for(var ce in c!==null&&(H=Dr.encryptor(A,0)),fe("<<"),fe("/Producer ("+Qr(H("jsPDF "+Ct.version))+")"),It)It.hasOwnProperty(ce)&&It[ce]&&fe("/"+ce.substr(0,1).toUpperCase()+ce.substr(1)+" ("+Qr(H(It[ce]))+")");fe("/CreationDate ("+Qr(H(de))+")"),fe(">>"),fe("endobj")},Us=d.__private__.putCatalog=function(A){var H=(A=A||{}).rootDictionaryObjId||ne;switch(Wr(),fe("<<"),fe("/Type /Catalog"),fe("/Pages "+H+" 0 R"),ot||(ot="fullwidth"),ot){case"fullwidth":fe("/OpenAction [3 0 R /FitH null]");break;case"fullheight":fe("/OpenAction [3 0 R /FitV null]");break;case"fullpage":fe("/OpenAction [3 0 R /Fit]");break;case"original":fe("/OpenAction [3 0 R /XYZ null null 1]");break;default:var ce=""+ot;ce.substr(ce.length-1)==="%"&&(ot=parseInt(ot)/100),typeof ot=="number"&&fe("/OpenAction [3 0 R /XYZ null null "+F(ot)+"]")}switch(At||(At="continuous"),At){case"continuous":fe("/PageLayout /OneColumn");break;case"single":fe("/PageLayout /SinglePage");break;case"two":case"twoleft":fe("/PageLayout /TwoColumnLeft");break;case"tworight":fe("/PageLayout /TwoColumnRight")}Et&&fe("/PageMode /"+Et),Qt.publish("putCatalog"),fe(">>"),fe("endobj")},bf=d.__private__.putTrailer=function(){fe("trailer"),fe("<<"),fe("/Size "+(Y+1)),fe("/Root "+Y+" 0 R"),fe("/Info "+(Y-1)+" 0 R"),c!==null&&fe("/Encrypt "+Dr.oid+" 0 R"),fe("/ID [ <"+se+"> <"+se+"> ]"),fe(">>")},Gu=d.__private__.putHeader=function(){fe("%PDF-"+y),fe("%ºß¬à")},Nf=d.__private__.putXRef=function(){var A="0000000000";fe("xref"),fe("0 "+(Y+1)),fe("0000000000 65535 f ");for(var H=1;H<=Y;H++)typeof pe[H]=="function"?fe((A+pe[H]()).slice(-10)+" 00000 n "):pe[H]!==void 0?fe((A+pe[H]).slice(-10)+" 00000 n "):fe("0000000000 00000 n ")},zs=d.__private__.buildDocument=function(){st(),Re(me),Qt.publish("buildDocument"),Gu(),Ce(),Vl(),Bl(),c!==null&&Vs(),Ua(),Us();var A=ge;return Nf(),bf(),fe("startxref"),fe(""+A),fe("%%EOF"),Re(Me[B]),me.join(`
`)},Ao=d.__private__.getBlob=function(A){return new Blob([mt(A)],{type:"application/pdf"})},To=d.output=d.__private__.output=ji(function(A,H){switch(typeof(H=H||{})=="string"?H={filename:H}:H.filename=H.filename||"generated.pdf",A){case void 0:return zs();case"save":d.save(H.filename);break;case"arraybuffer":return mt(zs());case"blob":return Ao(zs());case"bloburi":case"bloburl":if(Ft.URL!==void 0&&typeof Ft.URL.createObjectURL=="function")return Ft.URL&&Ft.URL.createObjectURL(Ao(zs()))||void 0;Ir.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var ce="",ve=zs();try{ce=F2(ve)}catch{ce=F2(unescape(encodeURIComponent(ve)))}return"data:application/pdf;filename="+H.filename+";base64,"+ce;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var Ee="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Oe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';H.pdfObjectUrl&&(Ee=H.pdfObjectUrl,Oe="");var Xe='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Ee+'"'+Oe+'><\/script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(H)+");<\/script></body></html>",ft=Ft.open();return ft!==null&&ft.document.write(Xe),ft}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Ft)==="[object Window]"){var h='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(H.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+H.filename+'" width="500px" height="400px" /></body></html>',k=Ft.open();if(k!==null){k.document.write(h);var M=this;k.document.documentElement.querySelector("#pdfViewer").onload=function(){k.document.title=H.filename,k.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(M.output("bloburl"))}}return k}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Ft)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Q='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",H)+'"></iframe></body></html>',Se=Ft.open();if(Se!==null&&(Se.document.write(Q),Se.document.title=H.filename),Se||typeof safari>"u")return Se;break;case"datauri":case"dataurl":return Ft.document.location.href=this.output("datauristring",H);default:return null}}),ma=function(A){return Array.isArray(Oi)===!0&&Oi.indexOf(A)>-1};switch(n){case"pt":ht=1;break;case"mm":ht=72/25.4;break;case"cm":ht=72/2.54;break;case"in":ht=72;break;case"px":ht=ma("px_scaling")==1?.75:96/72;break;case"pc":case"em":ht=12;break;case"ex":ht=6;break;default:if(typeof n!="number")throw new Error("Invalid unit: "+n);ht=n}var Dr=null;we(),X();var $u=function(A){return c!==null?Dr.encryptor(A,0):function(H){return H}},Hl=d.__private__.getPageInfo=d.getPageInfo=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:Tt[A].objId,pageNumber:A,pageContext:Tt[A]}},Rt=d.__private__.getPageInfoByObjId=function(A){if(isNaN(A)||A%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var H in Tt)if(Tt[H].objId===A)break;return Hl(H)},ga=d.__private__.getCurrentPageInfo=d.getCurrentPageInfo=function(){return{objId:Tt[B].objId,pageNumber:B,pageContext:Tt[B]}};d.addPage=function(){return Ba.apply(this,arguments),this},d.setPage=function(){return zl.apply(this,arguments),Re.call(this,Me[B]),this},d.insertPage=function(A){return this.addPage(),this.movePage(B,A),this},d.movePage=function(A,H){var ce,ve;if(A>H){ce=Me[A],ve=Tt[A];for(var Ee=A;Ee>H;Ee--)Me[Ee]=Me[Ee-1],Tt[Ee]=Tt[Ee-1];Me[H]=ce,Tt[H]=ve,this.setPage(H)}else if(A<H){ce=Me[A],ve=Tt[A];for(var Oe=A;Oe<H;Oe++)Me[Oe]=Me[Oe+1],Tt[Oe]=Tt[Oe+1];Me[H]=ce,Tt[H]=ve,this.setPage(H)}return this},d.deletePage=function(){return Eo.apply(this,arguments),this},d.__private__.text=d.text=function(A,H,ce,ve,Ee){var Oe,Xe,ft,h,k,M,Q,Se,ke,Ye=(ve=ve||{}).scope||this;if(typeof A=="number"&&typeof H=="number"&&(typeof ce=="string"||Array.isArray(ce))){var Ot=ce;ce=H,H=A,A=Ot}if(arguments[3]instanceof vt?(S("The transform parameter of text() with a Matrix value"),ke=Ee):(ft=arguments[4],h=arguments[5],vr(Q=arguments[3])==="object"&&Q!==null||(typeof ft=="string"&&(h=ft,ft=null),typeof Q=="string"&&(h=Q,Q=null),typeof Q=="number"&&(ft=Q,Q=null),ve={flags:Q,angle:ft,align:h})),isNaN(H)||isNaN(ce)||A==null)throw new Error("Invalid arguments passed to jsPDF.text");if(A.length===0)return Ye;var Kt="",Mt=!1,fr=typeof ve.lineHeightFactor=="number"?ve.lineHeightFactor:cr,Nr=Ye.internal.scaleFactor;function $s(Pr){return Pr=Pr.split("	").join(Array(ve.TabLen||9).join(" ")),Qr(Pr,Q)}function Hn(Pr){for(var kr,sn=Pr.concat(),An=[],Xa=sn.length;Xa--;)typeof(kr=sn.shift())=="string"?An.push(kr):Array.isArray(Pr)&&(kr.length===1||kr[1]===void 0&&kr[2]===void 0)?An.push(kr[0]):An.push([kr[0],kr[1],kr[2]]);return An}function _a(Pr,kr){var sn;if(typeof Pr=="string")sn=kr(Pr)[0];else if(Array.isArray(Pr)){for(var An,Xa,Of=Pr.concat(),ac=[],V0=Of.length;V0--;)typeof(An=Of.shift())=="string"?ac.push(kr(An)[0]):Array.isArray(An)&&typeof An[0]=="string"&&(Xa=kr(An[0],An[1],An[2]),ac.push([Xa[0],Xa[1],Xa[2]]));sn=ac}return sn}var wa=!1,If=!0;if(typeof A=="string")wa=!0;else if(Array.isArray(A)){var Pf=A.concat();Xe=[];for(var Ju,Wn=Pf.length;Wn--;)(typeof(Ju=Pf.shift())!="string"||Array.isArray(Ju)&&typeof Ju[0]!="string")&&(If=!1);wa=If}if(wa===!1)throw new Error('Type of text must be string or Array. "'+A+'" is not recognized.');typeof A=="string"&&(A=A.match(/[\r?\n]/)?A.split(/\r\n|\r|\n/g):[A]);var Zu=tt/Ye.internal.scaleFactor,ec=Zu*(fr-1);switch(ve.baseline){case"bottom":ce-=ec;break;case"top":ce+=Zu-ec;break;case"hanging":ce+=Zu-2*ec;break;case"middle":ce+=Zu/2-ec}if((M=ve.maxWidth||0)>0&&(typeof A=="string"?A=Ye.splitTextToSize(A,M):Object.prototype.toString.call(A)==="[object Array]"&&(A=A.reduce(function(Pr,kr){return Pr.concat(Ye.splitTextToSize(kr,M))},[]))),Oe={text:A,x:H,y:ce,options:ve,mutex:{pdfEscape:Qr,activeFontKey:Ut,fonts:Jt,activeFontSize:tt}},Qt.publish("preProcessText",Oe),A=Oe.text,ft=(ve=Oe.options).angle,!(ke instanceof vt)&&ft&&typeof ft=="number"){ft*=Math.PI/180,ve.rotationDirection===0&&(ft=-ft),E===x.ADVANCED&&(ft=-ft);var tc=Math.cos(ft),kf=Math.sin(ft);ke=new vt(tc,kf,-kf,tc,0,0)}else ft&&ft instanceof vt&&(ke=ft);E!==x.ADVANCED||ke||(ke=fn),(k=ve.charSpace||Ha)!==void 0&&(Kt+=w(b(k))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Se=ve.horizontalScale)!==void 0&&(Kt+=w(100*Se)+` Tz
`),ve.lang;var Bi=-1,K1=ve.renderingMode!==void 0?ve.renderingMode:ve.stroke,Lf=Ye.internal.getCurrentPageInfo().pageContext;switch(K1){case 0:case!1:case"fill":Bi=0;break;case 1:case!0:case"stroke":Bi=1;break;case 2:case"fillThenStroke":Bi=2;break;case 3:case"invisible":Bi=3;break;case 4:case"fillAndAddForClipping":Bi=4;break;case 5:case"strokeAndAddPathForClipping":Bi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Bi=6;break;case 7:case"addToPathForClipping":Bi=7}var O0=Lf.usedRenderingMode!==void 0?Lf.usedRenderingMode:-1;Bi!==-1?Kt+=Bi+` Tr
`:O0!==-1&&(Kt+=`0 Tr
`),Bi!==-1&&(Lf.usedRenderingMode=Bi),h=ve.align||"left";var As,rc=tt*fr,M0=Ye.internal.pageSize.getWidth(),j0=Jt[Ut];k=ve.charSpace||Ha,M=ve.maxWidth||0,Q=Object.assign({autoencode:!0,noBOM:!0},ve.flags);var jo=[],Ql=function(Pr){return Ye.getStringUnitWidth(Pr,{font:j0,charSpace:k,fontSize:tt,doKerning:!1})*tt/Nr};if(Object.prototype.toString.call(A)==="[object Array]"){var Vi;Xe=Hn(A),h!=="left"&&(As=Xe.map(Ql));var Ti,Bo=0;if(h==="right"){H-=As[0],A=[],Wn=Xe.length;for(var Ga=0;Ga<Wn;Ga++)Ga===0?(Ti=is(H),Vi=En(ce)):(Ti=b(Bo-As[Ga]),Vi=-rc),A.push([Xe[Ga],Ti,Vi]),Bo=As[Ga]}else if(h==="center"){H-=As[0]/2,A=[],Wn=Xe.length;for(var $a=0;$a<Wn;$a++)$a===0?(Ti=is(H),Vi=En(ce)):(Ti=b((Bo-As[$a])/2),Vi=-rc),A.push([Xe[$a],Ti,Vi]),Bo=As[$a]}else if(h==="left"){A=[],Wn=Xe.length;for(var nc=0;nc<Wn;nc++)A.push(Xe[nc])}else if(h==="justify"&&j0.encoding==="Identity-H"){A=[],Wn=Xe.length,M=M!==0?M:M0;for(var Ka=0,nn=0;nn<Wn;nn++)if(Vi=nn===0?En(ce):-rc,Ti=nn===0?is(H):Ka,nn<Wn-1){var Ff=b((M-As[nn])/(Xe[nn].split(" ").length-1)),bi=Xe[nn].split(" ");A.push([bi[0]+" ",Ti,Vi]),Ka=0;for(var Ts=1;Ts<bi.length;Ts++){var ic=(Ql(bi[Ts-1]+" "+bi[Ts])-Ql(bi[Ts]))*Nr+Ff;Ts==bi.length-1?A.push([bi[Ts],ic,0]):A.push([bi[Ts]+" ",ic,0]),Ka-=ic}}else A.push([Xe[nn],Ti,Vi]);A.push(["",Ka,0])}else{if(h!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');for(A=[],Wn=Xe.length,M=M!==0?M:M0,nn=0;nn<Wn;nn++)Vi=nn===0?En(ce):-rc,Ti=nn===0?is(H):0,nn<Wn-1?jo.push(w(b((M-As[nn])/(Xe[nn].split(" ").length-1)))):jo.push(0),A.push([Xe[nn],Ti,Vi])}}var B0=typeof ve.R2L=="boolean"?ve.R2L:wt;B0===!0&&(A=_a(A,function(Pr,kr,sn){return[Pr.split("").reverse().join(""),kr,sn]})),Oe={text:A,x:H,y:ce,options:ve,mutex:{pdfEscape:Qr,activeFontKey:Ut,fonts:Jt,activeFontSize:tt}},Qt.publish("postProcessText",Oe),A=Oe.text,Mt=Oe.mutex.isHex||!1;var Rf=Jt[Ut].encoding;Rf!=="WinAnsiEncoding"&&Rf!=="StandardEncoding"||(A=_a(A,function(Pr,kr,sn){return[$s(Pr),kr,sn]})),Xe=Hn(A),A=[];for(var Jl,Zl,Vo,eu=0,sc=1,tu=Array.isArray(Xe[0])?sc:eu,Uo="",Df=function(Pr,kr,sn){var An="";return sn instanceof vt?(sn=typeof ve.angle=="number"?si(sn,new vt(1,0,0,1,Pr,kr)):si(new vt(1,0,0,1,Pr,kr),sn),E===x.ADVANCED&&(sn=si(new vt(1,0,0,-1,0,0),sn)),An=sn.join(" ")+` Tm
`):An=w(Pr)+" "+w(kr)+` Td
`,An},bs=0;bs<Xe.length;bs++){switch(Uo="",tu){case sc:Vo=(Mt?"<":"(")+Xe[bs][0]+(Mt?">":")"),Jl=parseFloat(Xe[bs][1]),Zl=parseFloat(Xe[bs][2]);break;case eu:Vo=(Mt?"<":"(")+Xe[bs]+(Mt?">":")"),Jl=is(H),Zl=En(ce)}jo!==void 0&&jo[bs]!==void 0&&(Uo=jo[bs]+` Tw
`),bs===0?A.push(Uo+Df(Jl,Zl,ke)+Vo):tu===eu?A.push(Uo+Vo):tu===sc&&A.push(Uo+Df(Jl,Zl,ke)+Vo)}A=tu===eu?A.join(` Tj
T* `):A.join(` Tj
`),A+=` Tj
`;var Ns=`BT
/`;return Ns+=Ut+" "+tt+` Tf
`,Ns+=w(tt*fr)+` TL
`,Ns+=qs+`
`,Ns+=Kt,Ns+=A,fe(Ns+="ET"),m[Ut]=!0,Ye};var Cf=d.__private__.clip=d.clip=function(A){return fe(A==="evenodd"?"W*":"W"),this};d.clipEvenOdd=function(){return Cf("evenodd")},d.__private__.discardPath=d.discardPath=function(){return fe("n"),this};var Es=d.__private__.isValidStyle=function(A){var H=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(A)!==-1&&(H=!0),H};d.__private__.setDefaultPathOperation=d.setDefaultPathOperation=function(A){return Es(A)&&(u=A),this};var Ku=d.__private__.getStyle=d.getStyle=function(A){var H=u;switch(A){case"D":case"S":H="S";break;case"F":H="f";break;case"FD":case"DF":H="B";break;case"f":case"f*":case"B":case"B*":H=A}return H},rs=d.close=function(){return fe("h"),this};d.stroke=function(){return fe("S"),this},d.fill=function(A){return bo("f",A),this},d.fillEvenOdd=function(A){return bo("f*",A),this},d.fillStroke=function(A){return bo("B",A),this},d.fillStrokeEvenOdd=function(A){return bo("B*",A),this};var bo=function(A,H){vr(H)==="object"?Co(H,A):fe(A)},Wl=function(A){A===null||E===x.ADVANCED&&A===void 0||(A=Ku(A),fe(A))};function No(A,H,ce,ve,Ee){var Oe=new hu(H||this.boundingBox,ce||this.xStep,ve||this.yStep,this.gState,Ee||this.matrix);Oe.stream=this.stream;var Xe=A+"$$"+this.cloneIndex+++"$$";return Yr(Xe,Oe),Oe}var Co=function(A,H){var ce=Zi[A.key],ve=Gt[ce];if(ve instanceof nl)fe("q"),fe(Xu(H)),ve.gState&&d.setGState(ve.gState),fe(A.matrix.toString()+" cm"),fe("/"+ce+" sh"),fe("Q");else if(ve instanceof hu){var Ee=new vt(1,0,0,-1,0,ai());A.matrix&&(Ee=Ee.multiply(A.matrix||fn),ce=No.call(ve,A.key,A.boundingBox,A.xStep,A.yStep,Ee).id),fe("q"),fe("/Pattern cs"),fe("/"+ce+" scn"),ve.gState&&d.setGState(ve.gState),fe(H),fe("Q")}},Xu=function(A){switch(A){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},Hs=d.moveTo=function(A,H){return fe(w(b(A))+" "+w(Z(H))+" m"),this},ns=d.lineTo=function(A,H){return fe(w(b(A))+" "+w(Z(H))+" l"),this},Ws=d.curveTo=function(A,H,ce,ve,Ee,Oe){return fe([w(b(A)),w(Z(H)),w(b(ce)),w(Z(ve)),w(b(Ee)),w(Z(Oe)),"c"].join(" ")),this};d.__private__.line=d.line=function(A,H,ce,ve,Ee){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(ve)||!Es(Ee))throw new Error("Invalid arguments passed to jsPDF.line");return E===x.COMPAT?this.lines([[ce-A,ve-H]],A,H,[1,1],Ee||"S"):this.lines([[ce-A,ve-H]],A,H,[1,1]).stroke()},d.__private__.lines=d.lines=function(A,H,ce,ve,Ee,Oe){var Xe,ft,h,k,M,Q,Se,ke,Ye,Ot,Kt,Mt;if(typeof A=="number"&&(Mt=ce,ce=H,H=A,A=Mt),ve=ve||[1,1],Oe=Oe||!1,isNaN(H)||isNaN(ce)||!Array.isArray(A)||!Array.isArray(ve)||!Es(Ee)||typeof Oe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(Hs(H,ce),Xe=ve[0],ft=ve[1],k=A.length,Ot=H,Kt=ce,h=0;h<k;h++)(M=A[h]).length===2?(Ot=M[0]*Xe+Ot,Kt=M[1]*ft+Kt,ns(Ot,Kt)):(Q=M[0]*Xe+Ot,Se=M[1]*ft+Kt,ke=M[2]*Xe+Ot,Ye=M[3]*ft+Kt,Ot=M[4]*Xe+Ot,Kt=M[5]*ft+Kt,Ws(Q,Se,ke,Ye,Ot,Kt));return Oe&&rs(),Wl(Ee),this},d.path=function(A){for(var H=0;H<A.length;H++){var ce=A[H],ve=ce.c;switch(ce.op){case"m":Hs(ve[0],ve[1]);break;case"l":ns(ve[0],ve[1]);break;case"c":Ws.apply(this,ve);break;case"h":rs()}}return this},d.__private__.rect=d.rect=function(A,H,ce,ve,Ee){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(ve)||!Es(Ee))throw new Error("Invalid arguments passed to jsPDF.rect");return E===x.COMPAT&&(ve=-ve),fe([w(b(A)),w(Z(H)),w(b(ce)),w(b(ve)),"re"].join(" ")),Wl(Ee),this},d.__private__.triangle=d.triangle=function(A,H,ce,ve,Ee,Oe,Xe){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(ve)||isNaN(Ee)||isNaN(Oe)||!Es(Xe))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[ce-A,ve-H],[Ee-ce,Oe-ve],[A-Ee,H-Oe]],A,H,[1,1],Xe,!0),this},d.__private__.roundedRect=d.roundedRect=function(A,H,ce,ve,Ee,Oe,Xe){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(ve)||isNaN(Ee)||isNaN(Oe)||!Es(Xe))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var ft=4/3*(Math.SQRT2-1);return Ee=Math.min(Ee,.5*ce),Oe=Math.min(Oe,.5*ve),this.lines([[ce-2*Ee,0],[Ee*ft,0,Ee,Oe-Oe*ft,Ee,Oe],[0,ve-2*Oe],[0,Oe*ft,-Ee*ft,Oe,-Ee,Oe],[2*Ee-ce,0],[-Ee*ft,0,-Ee,-Oe*ft,-Ee,-Oe],[0,2*Oe-ve],[0,-Oe*ft,Ee*ft,-Oe,Ee,-Oe]],A+Ee,H,[1,1],Xe,!0),this},d.__private__.ellipse=d.ellipse=function(A,H,ce,ve,Ee){if(isNaN(A)||isNaN(H)||isNaN(ce)||isNaN(ve)||!Es(Ee))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Oe=4/3*(Math.SQRT2-1)*ce,Xe=4/3*(Math.SQRT2-1)*ve;return Hs(A+ce,H),Ws(A+ce,H-Xe,A+Oe,H-ve,A,H-ve),Ws(A-Oe,H-ve,A-ce,H-Xe,A-ce,H),Ws(A-ce,H+Xe,A-Oe,H+ve,A,H+ve),Ws(A+Oe,H+ve,A+ce,H+Xe,A+ce,H),Wl(Ee),this},d.__private__.circle=d.circle=function(A,H,ce,ve){if(isNaN(A)||isNaN(H)||isNaN(ce)||!Es(ve))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(A,H,ce,ce,ve)},d.setFont=function(A,H,ce){return ce&&(H=z(H,ce)),Ut=Va(A,H,{disableWarning:!1}),this};var ql=d.__private__.getFont=d.getFont=function(){return Jt[Va.apply(d,arguments)]};d.__private__.getFontList=d.getFontList=function(){var A,H,ce={};for(A in Sr)if(Sr.hasOwnProperty(A))for(H in ce[A]=[],Sr[A])Sr[A].hasOwnProperty(H)&&ce[A].push(H);return ce},d.addFont=function(A,H,ce,ve,Ee){var Oe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Oe.indexOf(arguments[3])!==-1?Ee=arguments[3]:arguments[3]&&Oe.indexOf(arguments[3])==-1&&(ce=z(ce,ve)),Ee=Ee||"Identity-H",Ul.call(this,A,H,ce,Ee)};var cr,Gl=t.lineWidth||.200025,Io=d.__private__.getLineWidth=d.getLineWidth=function(){return Gl},$l=d.__private__.setLineWidth=d.setLineWidth=function(A){return Gl=A,fe(w(b(A))+" w"),this};d.__private__.setLineDash=Ct.API.setLineDash=Ct.API.setLineDashPattern=function(A,H){if(A=A||[],H=H||0,isNaN(H)||!Array.isArray(A))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return A=A.map(function(ce){return w(b(ce))}).join(" "),H=w(b(H)),fe("["+A+"] "+H+" d"),this};var Kl=d.__private__.getLineHeight=d.getLineHeight=function(){return tt*cr};d.__private__.getLineHeight=d.getLineHeight=function(){return tt*cr};var Xl=d.__private__.setLineHeightFactor=d.setLineHeightFactor=function(A){return typeof(A=A||1.15)=="number"&&(cr=A),this},za=d.__private__.getLineHeightFactor=d.getLineHeightFactor=function(){return cr};Xl(t.lineHeight);var is=d.__private__.getHorizontalCoordinate=function(A){return b(A)},En=d.__private__.getVerticalCoordinate=function(A){return E===x.ADVANCED?A:Tt[B].mediaBox.topRightY-Tt[B].mediaBox.bottomLeftY-b(A)},Yu=d.__private__.getHorizontalCoordinateString=d.getHorizontalCoordinateString=function(A){return w(is(A))},va=d.__private__.getVerticalCoordinateString=d.getVerticalCoordinateString=function(A){return w(En(A))},zn=t.strokeColor||"0 G";d.__private__.getStrokeColor=d.getDrawColor=function(){return oe(zn)},d.__private__.setStrokeColor=d.setDrawColor=function(A,H,ce,ve){return zn=ue({ch1:A,ch2:H,ch3:ce,ch4:ve,pdfColorType:"draw",precision:2}),fe(zn),this};var Po=t.fillColor||"0 g";d.__private__.getFillColor=d.getFillColor=function(){return oe(Po)},d.__private__.setFillColor=d.setFillColor=function(A,H,ce,ve){return Po=ue({ch1:A,ch2:H,ch3:ce,ch4:ve,pdfColorType:"fill",precision:2}),fe(Po),this};var qs=t.textColor||"0 g",ko=d.__private__.getTextColor=d.getTextColor=function(){return oe(qs)};d.__private__.setTextColor=d.setTextColor=function(A,H,ce,ve){return qs=ue({ch1:A,ch2:H,ch3:ce,ch4:ve,pdfColorType:"text",precision:3}),this};var Ha=t.charSpace,Lo=d.__private__.getCharSpace=d.getCharSpace=function(){return parseFloat(Ha||0)};d.__private__.setCharSpace=d.setCharSpace=function(A){if(isNaN(A))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ha=A,this};var Yl=0;d.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},d.__private__.setLineCap=d.setLineCap=function(A){var H=d.CapJoinStyles[A];if(H===void 0)throw new Error("Line cap style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Yl=H,fe(H+" J"),this};var Fo=0;d.__private__.setLineJoin=d.setLineJoin=function(A){var H=d.CapJoinStyles[A];if(H===void 0)throw new Error("Line join style of '"+A+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return Fo=H,fe(H+" j"),this},d.__private__.setLineMiterLimit=d.__private__.setMiterLimit=d.setLineMiterLimit=d.setMiterLimit=function(A){if(A=A||0,isNaN(A))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return fe(w(b(A))+" M"),this},d.GState=l0,d.setGState=function(A){(A=typeof A=="string"?Er[Sn[A]]:ya(null,A)).equals(wi)||(fe("/"+A.id+" gs"),wi=A)};var ya=function(A,H){if(!A||!Sn[A]){var ce=!1;for(var ve in Er)if(Er.hasOwnProperty(ve)&&Er[ve].equals(H)){ce=!0;break}if(ce)H=Er[ve];else{var Ee="GS"+(Object.keys(Er).length+1).toString(10);Er[Ee]=H,H.id=Ee}return A&&(Sn[A]=H.id),Qt.publish("addGState",H),H}};d.addGState=function(A,H){return ya(A,H),this},d.saveGraphicsState=function(){return fe("q"),Di.push({key:Ut,size:tt,color:qs}),this},d.restoreGraphicsState=function(){fe("Q");var A=Di.pop();return Ut=A.key,tt=A.size,qs=A.color,wi=null,this},d.setCurrentTransformationMatrix=function(A){return fe(A.toString()+" cm"),this},d.comment=function(A){return fe("#"+A),this};var Wa=function(A,H){var ce=A||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return ce},set:function(Oe){isNaN(Oe)||(ce=parseFloat(Oe))}});var ve=H||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ve},set:function(Oe){isNaN(Oe)||(ve=parseFloat(Oe))}});var Ee="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Ee},set:function(Oe){Ee=Oe.toString()}}),this},Ro=function(A,H,ce,ve){Wa.call(this,A,H),this.type="rect";var Ee=ce||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Ee},set:function(Xe){isNaN(Xe)||(Ee=parseFloat(Xe))}});var Oe=ve||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return Oe},set:function(Xe){isNaN(Xe)||(Oe=parseFloat(Xe))}}),this},qa=function(){this.page=or,this.currentPage=B,this.pages=Me.slice(0),this.pagesContext=Tt.slice(0),this.x=Fr,this.y=qt,this.matrix=Vn,this.width=xa(B),this.height=ai(B),this.outputDestination=Je,this.id="",this.objectNumber=-1};qa.prototype.restore=function(){or=this.page,B=this.currentPage,Tt=this.pagesContext,Me=this.pages,Fr=this.x,qt=this.y,Vn=this.matrix,Oo(B,this.width),Mo(B,this.height),Je=this.outputDestination};var Do=function(A,H,ce,ve,Ee){Si.push(new qa),or=B=0,Me=[],Fr=A,qt=H,Vn=Ee,Ai([ce,ve])},Qu=function(A){if(kn[A])Si.pop().restore();else{var H=new qa,ce="Xo"+(Object.keys(Xr).length+1).toString(10);H.id=ce,kn[A]=ce,Xr[ce]=H,Qt.publish("addFormObject",H),Si.pop().restore()}};for(var Gs in d.beginFormObject=function(A,H,ce,ve,Ee){return Do(A,H,ce,ve,Ee),this},d.endFormObject=function(A){return Qu(A),this},d.doFormObject=function(A,H){var ce=Xr[kn[A]];return fe("q"),fe(H.toString()+" cm"),fe("/"+ce.id+" Do"),fe("Q"),this},d.getFormObject=function(A){var H=Xr[kn[A]];return{x:H.x,y:H.y,width:H.width,height:H.height,matrix:H.matrix}},d.save=function(A,H){return A=A||"generated.pdf",(H=H||{}).returnPromise=H.returnPromise||!1,H.returnPromise===!1?(au(Ao(zs()),A),typeof au.unload=="function"&&Ft.setTimeout&&setTimeout(au.unload,911),this):new Promise(function(ce,ve){try{var Ee=au(Ao(zs()),A);typeof au.unload=="function"&&Ft.setTimeout&&setTimeout(au.unload,911),ce(Ee)}catch(Oe){ve(Oe.message)}})},Ct.API)Ct.API.hasOwnProperty(Gs)&&(Gs==="events"&&Ct.API.events.length?function(A,H){var ce,ve,Ee;for(Ee=H.length-1;Ee!==-1;Ee--)ce=H[Ee][0],ve=H[Ee][1],A.subscribe.apply(A,[ce].concat(typeof ve=="function"?[ve]:ve))}(Qt,Ct.API.events):d[Gs]=Ct.API[Gs]);var xa=d.getPageWidth=function(A){return(Tt[A=A||B].mediaBox.topRightX-Tt[A].mediaBox.bottomLeftX)/ht},Oo=d.setPageWidth=function(A,H){Tt[A].mediaBox.topRightX=H*ht+Tt[A].mediaBox.bottomLeftX},ai=d.getPageHeight=function(A){return(Tt[A=A||B].mediaBox.topRightY-Tt[A].mediaBox.bottomLeftY)/ht},Mo=d.setPageHeight=function(A,H){Tt[A].mediaBox.topRightY=H*ht+Tt[A].mediaBox.bottomLeftY};return d.internal={pdfEscape:Qr,getStyle:Ku,getFont:ql,getFontSize:lt,getCharSpace:Lo,getTextColor:ko,getLineHeight:Kl,getLineHeightFactor:za,getLineWidth:Io,write:He,getHorizontalCoordinate:is,getVerticalCoordinate:En,getCoordinateString:Yu,getVerticalCoordinateString:va,collections:{},newObject:Wr,newAdditionalObject:le,newObjectDeferred:zr,newObjectDeferredBegin:q,getFilters:be,putStream:Fe,events:Qt,scaleFactor:ht,pageSize:{getWidth:function(){return xa(B)},setWidth:function(A){Oo(B,A)},getHeight:function(){return ai(B)},setHeight:function(A){Mo(B,A)}},encryptionOptions:c,encryption:Dr,getEncryptor:$u,output:To,getNumberOfPages:hr,pages:Me,out:fe,f2:F,f3:N,getPageInfo:Hl,getPageInfoByObjId:Rt,getCurrentPageInfo:ga,getPDFVersion:v,Point:Wa,Rectangle:Ro,Matrix:vt,hasHotfix:ma},Object.defineProperty(d.internal.pageSize,"width",{get:function(){return xa(B)},set:function(A){Oo(B,A)},enumerable:!0,configurable:!0}),Object.defineProperty(d.internal.pageSize,"height",{get:function(){return ai(B)},set:function(A){Mo(B,A)},enumerable:!0,configurable:!0}),qu.call(d,Ge),Ut="F1",Ba(i,r),Qt.publish("initialized"),d}_c.prototype.lsbFirstWord=function(t){return String.fromCharCode(t>>0&255,t>>8&255,t>>16&255,t>>24&255)},_c.prototype.toHexString=function(t){return t.split("").map(function(e){return("0"+(255&e.charCodeAt(0)).toString(16)).slice(-2)}).join("")},_c.prototype.hexToBytes=function(t){for(var e=[],r=0;r<t.length;r+=2)e.push(String.fromCharCode(parseInt(t.substr(r,2),16)));return e.join("")},_c.prototype.processOwnerPassword=function(t,e){return D2(R2(e).substr(0,5),t)},_c.prototype.encryptor=function(t,e){var r=R2(this.encryptionKey+String.fromCharCode(255&t,t>>8&255,t>>16&255,255&e,e>>8&255)).substr(0,10);return function(n){return D2(r,n)}},l0.prototype.equals=function(t){var e,r="id,objectNumber,equals";if(!t||vr(t)!==vr(this))return!1;var n=0;for(e in this)if(!(r.indexOf(e)>=0)){if(this.hasOwnProperty(e)&&!t.hasOwnProperty(e)||this[e]!==t[e])return!1;n++}for(e in t)t.hasOwnProperty(e)&&r.indexOf(e)<0&&n--;return n===0},Ct.API={events:[]},Ct.version="2.5.2";var Zr=Ct.API,A5=1,ju=function(t){return t.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},hc=function(t){return t.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},jt=function(t){return t.toFixed(2)},Qo=function(t){return t.toFixed(5)};Zr.__acroform__={};var Ji=function(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t},M_=function(t){return t*A5},Aa=function(t){var e=new VE,r=_t.internal.getHeight(t)||0,n=_t.internal.getWidth(t)||0;return e.BBox=[0,0,Number(jt(n)),Number(jt(r))],e},wL=Zr.__acroform__.setBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return t|=1<<e},SL=Zr.__acroform__.clearBit=function(t,e){if(t=t||0,e=e||0,isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return t&=~(1<<e)},EL=Zr.__acroform__.getBit=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return t&1<<e?1:0},ln=Zr.__acroform__.getBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return EL(t,e-1)},un=Zr.__acroform__.setBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return wL(t,e-1)},cn=Zr.__acroform__.clearBitForPdf=function(t,e){if(isNaN(t)||isNaN(e))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return SL(t,e-1)},AL=Zr.__acroform__.calculateCoordinates=function(t,e){var r=e.internal.getHorizontalCoordinate,n=e.internal.getVerticalCoordinate,i=t[0],s=t[1],a=t[2],o=t[3],l={};return l.lowerLeft_X=r(i)||0,l.lowerLeft_Y=n(s+o)||0,l.upperRight_X=r(i+a)||0,l.upperRight_Y=n(s)||0,[Number(jt(l.lowerLeft_X)),Number(jt(l.lowerLeft_Y)),Number(jt(l.upperRight_X)),Number(jt(l.upperRight_Y))]},TL=function(t){if(t.appearanceStreamContent)return t.appearanceStreamContent;if(t.V||t.DV){var e=[],r=t._V||t.DV,n=O2(t,r),i=t.scope.internal.getFont(t.fontName,t.fontStyle).id;e.push("/Tx BMC"),e.push("q"),e.push("BT"),e.push(t.scope.__private__.encodeColorString(t.color)),e.push("/"+i+" "+jt(n.fontSize)+" Tf"),e.push("1 0 0 1 0 0 Tm"),e.push(n.text),e.push("ET"),e.push("Q"),e.push("EMC");var s=Aa(t);return s.scope=t.scope,s.stream=e.join(`
`),s}},O2=function(t,e){var r=t.fontSize===0?t.maxFontSize:t.fontSize,n={text:"",fontSize:""},i=(e=(e=e.substr(0,1)=="("?e.substr(1):e).substr(e.length-1)==")"?e.substr(0,e.length-1):e).split(" ");i=t.multiline?i.map(function(N){return N.split(`
`)}):i.map(function(N){return[N]});var s=r,a=_t.internal.getHeight(t)||0;a=a<0?-a:a;var o=_t.internal.getWidth(t)||0;o=o<0?-o:o;var l=function(N,b,D){if(N+1<i.length){var Z=b+" "+i[N+1][0];return kd(Z,t,D).width<=o-4}return!1};s++;e:for(;s>0;){e="",s--;var u,c,p=kd("3",t,s).height,m=t.multiline?a-s:(a-p)/2,d=m+=2,y=0,v=0,T=0;if(s<=0){e=`(...) Tj
`,e+="% Width of Text: "+kd(e,t,s=12).width+", FieldWidth:"+o+`
`;break}for(var _="",x=0,E=0;E<i.length;E++)if(i.hasOwnProperty(E)){var L=!1;if(i[E].length!==1&&T!==i[E].length-1){if((p+2)*(x+2)+2>a)continue e;_+=i[E][T],L=!0,v=E,E--}else{_=(_+=i[E][T]+" ").substr(_.length-1)==" "?_.substr(0,_.length-1):_;var j=parseInt(E),z=l(j,_,s),w=E>=i.length-1;if(z&&!w){_+=" ",T=0;continue}if(z||w){if(w)v=j;else if(t.multiline&&(p+2)*(x+2)+2>a)continue e}else{if(!t.multiline||(p+2)*(x+2)+2>a)continue e;v=j}}for(var S="",I=y;I<=v;I++){var F=i[I];if(t.multiline){if(I===v){S+=F[T]+" ",T=(T+1)%F.length;continue}if(I===y){S+=F[F.length-1]+" ";continue}}S+=F[0]+" "}switch(S=S.substr(S.length-1)==" "?S.substr(0,S.length-1):S,c=kd(S,t,s).width,t.textAlign){case"right":u=o-c-2;break;case"center":u=(o-c)/2;break;case"left":default:u=2}e+=jt(u)+" "+jt(d)+` Td
`,e+="("+ju(S)+`) Tj
`,e+=-jt(u)+` 0 Td
`,d=-(s+2),c=0,y=L?v:v+1,x++,_=""}break}return n.text=e,n.fontSize=s,n},kd=function(t,e,r){var n=e.scope.internal.getFont(e.fontName,e.fontStyle),i=e.scope.getStringUnitWidth(t,{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r);return{height:e.scope.getStringUnitWidth("3",{font:n,fontSize:parseFloat(r),charSpace:0})*parseFloat(r)*1.5,width:i}},bL={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},NL=function(t,e){var r={type:"reference",object:t};e.internal.getPageInfo(t.page).pageContext.annotations.find(function(n){return n.type===r.type&&n.object===r.object})===void 0&&e.internal.getPageInfo(t.page).pageContext.annotations.push(r)},CL=function(t,e){for(var r in t)if(t.hasOwnProperty(r)){var n=r,i=t[r];e.internal.newObjectDeferredBegin(i.objId,!0),vr(i)==="object"&&typeof i.putStream=="function"&&i.putStream(),delete t[n]}},IL=function(t,e){if(e.scope=t,t.internal!==void 0&&(t.internal.acroformPlugin===void 0||t.internal.acroformPlugin.isInitialized===!1)){if(da.FieldNum=0,t.internal.acroformPlugin=JSON.parse(JSON.stringify(bL)),t.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");A5=t.internal.scaleFactor,t.internal.acroformPlugin.acroFormDictionaryRoot=new UE,t.internal.acroformPlugin.acroFormDictionaryRoot.scope=t,t.internal.acroformPlugin.acroFormDictionaryRoot._eventID=t.internal.events.subscribe("postPutResources",function(){(function(r){r.internal.events.unsubscribe(r.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete r.internal.acroformPlugin.acroFormDictionaryRoot._eventID,r.internal.acroformPlugin.printedOut=!0})(t)}),t.internal.events.subscribe("buildDocument",function(){(function(r){r.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var n=r.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var i in n)if(n.hasOwnProperty(i)){var s=n[i];s.objId=void 0,s.hasAnnotation&&NL(s,r)}})(t)}),t.internal.events.subscribe("putCatalog",function(){(function(r){if(r.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");r.internal.write("/AcroForm "+r.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(t)}),t.internal.events.subscribe("postPutPages",function(r){(function(n,i){var s=!n;for(var a in n||(i.internal.newObjectDeferredBegin(i.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),i.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),n=n||i.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(n.hasOwnProperty(a)){var o=n[a],l=[],u=o.Rect;if(o.Rect&&(o.Rect=AL(o.Rect,i)),i.internal.newObjectDeferredBegin(o.objId,!0),o.DA=_t.createDefaultAppearanceStream(o),vr(o)==="object"&&typeof o.getKeyValueListForStream=="function"&&(l=o.getKeyValueListForStream()),o.Rect=u,o.hasAppearanceStream&&!o.appearanceStreamContent){var c=TL(o);l.push({key:"AP",value:"<</N "+c+">>"}),i.internal.acroformPlugin.xForms.push(c)}if(o.appearanceStreamContent){var p="";for(var m in o.appearanceStreamContent)if(o.appearanceStreamContent.hasOwnProperty(m)){var d=o.appearanceStreamContent[m];if(p+="/"+m+" ",p+="<<",Object.keys(d).length>=1||Array.isArray(d)){for(var a in d)if(d.hasOwnProperty(a)){var y=d[a];typeof y=="function"&&(y=y.call(i,o)),p+="/"+a+" "+y+" ",i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y)}}else typeof(y=d)=="function"&&(y=y.call(i,o)),p+="/"+a+" "+y,i.internal.acroformPlugin.xForms.indexOf(y)>=0||i.internal.acroformPlugin.xForms.push(y);p+=">>"}l.push({key:"AP",value:`<<
`+p+">>"})}i.internal.putStream({additionalKeyValues:l,objectId:o.objId}),i.internal.out("endobj")}s&&CL(i.internal.acroformPlugin.xForms,i)})(r,t)}),t.internal.acroformPlugin.isInitialized=!0}},BE=Zr.__acroform__.arrayToPdfArray=function(t,e,r){var n=function(a){return a};if(Array.isArray(t)){for(var i="[",s=0;s<t.length;s++)switch(s!==0&&(i+=" "),vr(t[s])){case"boolean":case"number":case"object":i+=t[s].toString();break;case"string":t[s].substr(0,1)!=="/"?(e!==void 0&&r&&(n=r.internal.getEncryptor(e)),i+="("+ju(n(t[s].toString()))+")"):i+=t[s].toString()}return i+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},eg=function(t,e,r){var n=function(i){return i};return e!==void 0&&r&&(n=r.internal.getEncryptor(e)),(t=t||"").toString(),t="("+ju(n(t))+")"},Ia=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(t){this._objId=t}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Ia.prototype.toString=function(){return this.objId+" 0 R"},Ia.prototype.putStream=function(){var t=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:t,objectId:this.objId}),this.scope.internal.out("endobj")},Ia.prototype.getKeyValueListForStream=function(){var t=[],e=Object.getOwnPropertyNames(this).filter(function(s){return s!="content"&&s!="appearanceStreamContent"&&s!="scope"&&s!="objId"&&s.substring(0,1)!="_"});for(var r in e)if(Object.getOwnPropertyDescriptor(this,e[r]).configurable===!1){var n=e[r],i=this[n];i&&(Array.isArray(i)?t.push({key:n,value:BE(i,this.objId,this.scope)}):i instanceof Ia?(i.scope=this.scope,t.push({key:n,value:i.objId+" 0 R"})):typeof i!="function"&&t.push({key:n,value:i}))}return t};var VE=function(){Ia.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var t,e=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return e},set:function(r){e=r}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(r){t=r.trim()},get:function(){return t||null}})};Ji(VE,Ia);var UE=function(){Ia.call(this);var t,e=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return e.length>0?e:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return e}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(t){var r=function(n){return n};return this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),"("+ju(r(t))+")"}},set:function(r){t=r}})};Ji(UE,Ia);var da=function t(){Ia.call(this);var e=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return e},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute F supplied.');e=_}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return!!ln(e,3)},set:function(_){_?this.F=un(e,3):this.F=cn(e,3)}});var r=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return r},set:function(_){if(isNaN(_))throw new Error('Invalid value "'+_+'" for attribute Ff supplied.');r=_}});var n=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(n.length!==0)return n},set:function(_){n=_!==void 0?_:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[0])?0:n[0]},set:function(_){n[0]=_}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[1])?0:n[1]},set:function(_){n[1]=_}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[2])?0:n[2]},set:function(_){n[2]=_}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!n||isNaN(n[3])?0:n[3]},set:function(_){n[3]=_}});var i="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return i},set:function(_){switch(_){case"/Btn":case"/Tx":case"/Ch":case"/Sig":i=_;break;default:throw new Error('Invalid value "'+_+'" for attribute FT supplied.')}}});var s=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!s||s.length<1){if(this instanceof Gp)return;s="FieldObject"+t.FieldNum++}var _=function(x){return x};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+ju(_(s))+")"},set:function(_){s=_.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return s},set:function(_){s=_}});var a="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return a},set:function(_){a=_}});var o="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return o},set:function(_){o=_}});var l=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return l},set:function(_){l=_}});var u=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return u===void 0?50/A5:u},set:function(_){u=_}});var c="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return c},set:function(_){c=_}});var p="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!p||this instanceof Gp||this instanceof Sl))return eg(p,this.objId,this.scope)},set:function(_){_=_.toString(),p=_}});var m=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(m)return this instanceof Cn?m:eg(m,this.objId,this.scope)},set:function(_){_=_.toString(),m=this instanceof Cn?_:_.substr(0,1)==="("?hc(_.substr(1,_.length-2)):hc(_)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cn?hc(m.substr(1,m.length-1)):m},set:function(_){_=_.toString(),m=this instanceof Cn?"/"+_:_}});var d=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(d)return d},set:function(_){this.V=_}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(d)return this instanceof Cn?d:eg(d,this.objId,this.scope)},set:function(_){_=_.toString(),d=this instanceof Cn?_:_.substr(0,1)==="("?hc(_.substr(1,_.length-2)):hc(_)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Cn?hc(d.substr(1,d.length-1)):d},set:function(_){_=_.toString(),d=this instanceof Cn?"/"+_:_}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var y,v=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return v},set:function(_){_=!!_,v=_}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(y)return y},set:function(_){y=_}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,1)},set:function(_){_?this.Ff=un(this.Ff,1):this.Ff=cn(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,2)},set:function(_){_?this.Ff=un(this.Ff,2):this.Ff=cn(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,3)},set:function(_){_?this.Ff=un(this.Ff,3):this.Ff=cn(this.Ff,3)}});var T=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(T!==null)return T},set:function(_){if([0,1,2].indexOf(_)===-1)throw new Error('Invalid value "'+_+'" for attribute Q supplied.');T=_}}),Object.defineProperty(this,"textAlign",{get:function(){var _;switch(T){case 0:default:_="left";break;case 1:_="center";break;case 2:_="right"}return _},configurable:!0,enumerable:!0,set:function(_){switch(_){case"right":case 2:T=2;break;case"center":case 1:T=1;break;case"left":case 0:default:T=0}}})};Ji(da,Ia);var gu=function(){da.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var t=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return t},set:function(r){t=r}});var e=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return BE(e,this.objId,this.scope)},set:function(r){var n,i;i=[],typeof(n=r)=="string"&&(i=function(s,a,o){o||(o=1);for(var l,u=[];l=a.exec(s);)u.push(l[o]);return u}(n,/\((.*?)\)/g)),e=i}}),this.getOptions=function(){return e},this.setOptions=function(r){e=r,this.sort&&e.sort()},this.addOption=function(r){r=(r=r||"").toString(),e.push(r),this.sort&&e.sort()},this.removeOption=function(r,n){for(n=n||!1,r=(r=r||"").toString();e.indexOf(r)!==-1&&(e.splice(e.indexOf(r),1),n!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,18)},set:function(r){r?this.Ff=un(this.Ff,18):this.Ff=cn(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,19)},set:function(r){this.combo===!0&&(r?this.Ff=un(this.Ff,19):this.Ff=cn(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,20)},set:function(r){r?(this.Ff=un(this.Ff,20),e.sort()):this.Ff=cn(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,22)},set:function(r){r?this.Ff=un(this.Ff,22):this.Ff=cn(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,23)},set:function(r){r?this.Ff=un(this.Ff,23):this.Ff=cn(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,27)},set:function(r){r?this.Ff=un(this.Ff,27):this.Ff=cn(this.Ff,27)}}),this.hasAppearanceStream=!1};Ji(gu,da);var vu=function(){gu.call(this),this.fontName="helvetica",this.combo=!1};Ji(vu,gu);var yu=function(){vu.call(this),this.combo=!0};Ji(yu,vu);var Eh=function(){yu.call(this),this.edit=!0};Ji(Eh,yu);var Cn=function(){da.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,15)},set:function(r){r?this.Ff=un(this.Ff,15):this.Ff=cn(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,16)},set:function(r){r?this.Ff=un(this.Ff,16):this.Ff=cn(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,17)},set:function(r){r?this.Ff=un(this.Ff,17):this.Ff=cn(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,26)},set:function(r){r?this.Ff=un(this.Ff,26):this.Ff=cn(this.Ff,26)}});var t,e={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var r=function(s){return s};if(this.scope&&(r=this.scope.internal.getEncryptor(this.objId)),Object.keys(e).length!==0){var n,i=[];for(n in i.push("<<"),e)i.push("/"+n+" ("+ju(r(e[n]))+")");return i.push(">>"),i.join(`
`)}},set:function(r){vr(r)==="object"&&(e=r)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return e.CA||""},set:function(r){typeof r=="string"&&(e.CA=r)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return t},set:function(r){t=r}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return t.substr(1,t.length-1)},set:function(r){t="/"+r}})};Ji(Cn,da);var Ah=function(){Cn.call(this),this.pushButton=!0};Ji(Ah,Cn);var xu=function(){Cn.call(this),this.radio=!0,this.pushButton=!1;var t=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e!==void 0?e:[]}})};Ji(xu,Cn);var Gp=function(){var t,e;da.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return t},set:function(i){t=i}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return e},set:function(i){e=i}});var r,n={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var i=function(o){return o};this.scope&&(i=this.scope.internal.getEncryptor(this.objId));var s,a=[];for(s in a.push("<<"),n)a.push("/"+s+" ("+ju(i(n[s]))+")");return a.push(">>"),a.join(`
`)},set:function(i){vr(i)==="object"&&(n=i)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return n.CA||""},set:function(i){typeof i=="string"&&(n.CA=i)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return r},set:function(i){r=i}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return r.substr(1,r.length-1)},set:function(i){r="/"+i}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=_t.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Ji(Gp,da),xu.prototype.setAppearance=function(t){if(!("createAppearanceStream"in t)||!("getCA"in t))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var e in this.Kids)if(this.Kids.hasOwnProperty(e)){var r=this.Kids[e];r.appearanceStreamContent=t.createAppearanceStream(r.optionName),r.caption=t.getCA()}},xu.prototype.createOption=function(t){var e=new Gp;return e.Parent=this,e.optionName=t,this.Kids.push(e),PL.call(this.scope,e),e};var Th=function(){Cn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=_t.CheckBox.createAppearanceStream()};Ji(Th,Cn);var Sl=function(){da.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,13)},set:function(e){e?this.Ff=un(this.Ff,13):this.Ff=cn(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,21)},set:function(e){e?this.Ff=un(this.Ff,21):this.Ff=cn(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,23)},set:function(e){e?this.Ff=un(this.Ff,23):this.Ff=cn(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,24)},set:function(e){e?this.Ff=un(this.Ff,24):this.Ff=cn(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,25)},set:function(e){e?this.Ff=un(this.Ff,25):this.Ff=cn(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,26)},set:function(e){e?this.Ff=un(this.Ff,26):this.Ff=cn(this.Ff,26)}});var t=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return t},set:function(e){t=e}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return t},set:function(e){Number.isInteger(e)&&(t=e)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Ji(Sl,da);var bh=function(){Sl.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return!!ln(this.Ff,14)},set:function(t){t?this.Ff=un(this.Ff,14):this.Ff=cn(this.Ff,14)}}),this.password=!0};Ji(bh,Sl);var _t={CheckBox:{createAppearanceStream:function(){return{N:{On:_t.CheckBox.YesNormal},D:{On:_t.CheckBox.YesPushDown,Off:_t.CheckBox.OffPushDown}}},YesPushDown:function(t){var e=Aa(t);e.scope=t.scope;var r=[],n=t.scope.internal.getFont(t.fontName,t.fontStyle).id,i=t.scope.__private__.encodeColorString(t.color),s=O2(t,t.caption);return r.push("0.749023 g"),r.push("0 0 "+jt(_t.internal.getWidth(t))+" "+jt(_t.internal.getHeight(t))+" re"),r.push("f"),r.push("BMC"),r.push("q"),r.push("0 0 1 rg"),r.push("/"+n+" "+jt(s.fontSize)+" Tf "+i),r.push("BT"),r.push(s.text),r.push("ET"),r.push("Q"),r.push("EMC"),e.stream=r.join(`
`),e},YesNormal:function(t){var e=Aa(t);e.scope=t.scope;var r=t.scope.internal.getFont(t.fontName,t.fontStyle).id,n=t.scope.__private__.encodeColorString(t.color),i=[],s=_t.internal.getHeight(t),a=_t.internal.getWidth(t),o=O2(t,t.caption);return i.push("1 g"),i.push("0 0 "+jt(a)+" "+jt(s)+" re"),i.push("f"),i.push("q"),i.push("0 0 1 rg"),i.push("0 0 "+jt(a-1)+" "+jt(s-1)+" re"),i.push("W"),i.push("n"),i.push("0 g"),i.push("BT"),i.push("/"+r+" "+jt(o.fontSize)+" Tf "+n),i.push(o.text),i.push("ET"),i.push("Q"),e.stream=i.join(`
`),e},OffPushDown:function(t){var e=Aa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(_t.internal.getWidth(t))+" "+jt(_t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}},RadioButton:{Circle:{createAppearanceStream:function(t){var e={D:{Off:_t.RadioButton.Circle.OffPushDown},N:{}};return e.N[t]=_t.RadioButton.Circle.YesNormal,e.D[t]=_t.RadioButton.Circle.YesPushDown,e},getCA:function(){return"l"},YesNormal:function(t){var e=Aa(t);e.scope=t.scope;var r=[],n=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=_t.internal.Bezier_C,s=Number((n*i).toFixed(5));return r.push("q"),r.push("1 0 0 1 "+Qo(_t.internal.getWidth(t)/2)+" "+Qo(_t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+s+" "+s+" "+n+" 0 "+n+" c"),r.push("-"+s+" "+n+" -"+n+" "+s+" -"+n+" 0 c"),r.push("-"+n+" -"+s+" -"+s+" -"+n+" 0 -"+n+" c"),r.push(s+" -"+n+" "+n+" -"+s+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Aa(t);e.scope=t.scope;var r=[],n=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*_t.internal.Bezier_C).toFixed(5)),a=Number((n*_t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qo(_t.internal.getWidth(t)/2)+" "+Qo(_t.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),r.push("0 g"),r.push("q"),r.push("1 0 0 1 "+Qo(_t.internal.getWidth(t)/2)+" "+Qo(_t.internal.getHeight(t)/2)+" cm"),r.push(n+" 0 m"),r.push(n+" "+a+" "+a+" "+n+" 0 "+n+" c"),r.push("-"+a+" "+n+" -"+n+" "+a+" -"+n+" 0 c"),r.push("-"+n+" -"+a+" -"+a+" -"+n+" 0 -"+n+" c"),r.push(a+" -"+n+" "+n+" -"+a+" "+n+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e},OffPushDown:function(t){var e=Aa(t);e.scope=t.scope;var r=[],n=_t.internal.getWidth(t)<=_t.internal.getHeight(t)?_t.internal.getWidth(t)/4:_t.internal.getHeight(t)/4;n=Number((.9*n).toFixed(5));var i=Number((2*n).toFixed(5)),s=Number((i*_t.internal.Bezier_C).toFixed(5));return r.push("0.749023 g"),r.push("q"),r.push("1 0 0 1 "+Qo(_t.internal.getWidth(t)/2)+" "+Qo(_t.internal.getHeight(t)/2)+" cm"),r.push(i+" 0 m"),r.push(i+" "+s+" "+s+" "+i+" 0 "+i+" c"),r.push("-"+s+" "+i+" -"+i+" "+s+" -"+i+" 0 c"),r.push("-"+i+" -"+s+" -"+s+" -"+i+" 0 -"+i+" c"),r.push(s+" -"+i+" "+i+" -"+s+" "+i+" 0 c"),r.push("f"),r.push("Q"),e.stream=r.join(`
`),e}},Cross:{createAppearanceStream:function(t){var e={D:{Off:_t.RadioButton.Cross.OffPushDown},N:{}};return e.N[t]=_t.RadioButton.Cross.YesNormal,e.D[t]=_t.RadioButton.Cross.YesPushDown,e},getCA:function(){return"8"},YesNormal:function(t){var e=Aa(t);e.scope=t.scope;var r=[],n=_t.internal.calculateCross(t);return r.push("q"),r.push("1 1 "+jt(_t.internal.getWidth(t)-2)+" "+jt(_t.internal.getHeight(t)-2)+" re"),r.push("W"),r.push("n"),r.push(jt(n.x1.x)+" "+jt(n.x1.y)+" m"),r.push(jt(n.x2.x)+" "+jt(n.x2.y)+" l"),r.push(jt(n.x4.x)+" "+jt(n.x4.y)+" m"),r.push(jt(n.x3.x)+" "+jt(n.x3.y)+" l"),r.push("s"),r.push("Q"),e.stream=r.join(`
`),e},YesPushDown:function(t){var e=Aa(t);e.scope=t.scope;var r=_t.internal.calculateCross(t),n=[];return n.push("0.749023 g"),n.push("0 0 "+jt(_t.internal.getWidth(t))+" "+jt(_t.internal.getHeight(t))+" re"),n.push("f"),n.push("q"),n.push("1 1 "+jt(_t.internal.getWidth(t)-2)+" "+jt(_t.internal.getHeight(t)-2)+" re"),n.push("W"),n.push("n"),n.push(jt(r.x1.x)+" "+jt(r.x1.y)+" m"),n.push(jt(r.x2.x)+" "+jt(r.x2.y)+" l"),n.push(jt(r.x4.x)+" "+jt(r.x4.y)+" m"),n.push(jt(r.x3.x)+" "+jt(r.x3.y)+" l"),n.push("s"),n.push("Q"),e.stream=n.join(`
`),e},OffPushDown:function(t){var e=Aa(t);e.scope=t.scope;var r=[];return r.push("0.749023 g"),r.push("0 0 "+jt(_t.internal.getWidth(t))+" "+jt(_t.internal.getHeight(t))+" re"),r.push("f"),e.stream=r.join(`
`),e}}},createDefaultAppearanceStream:function(t){var e=t.scope.internal.getFont(t.fontName,t.fontStyle).id,r=t.scope.__private__.encodeColorString(t.color);return"/"+e+" "+t.fontSize+" Tf "+r}};_t.internal={Bezier_C:.551915024494,calculateCross:function(t){var e=_t.internal.getWidth(t),r=_t.internal.getHeight(t),n=Math.min(e,r);return{x1:{x:(e-n)/2,y:(r-n)/2+n},x2:{x:(e-n)/2+n,y:(r-n)/2},x3:{x:(e-n)/2,y:(r-n)/2},x4:{x:(e-n)/2+n,y:(r-n)/2+n}}}},_t.internal.getWidth=function(t){var e=0;return vr(t)==="object"&&(e=M_(t.Rect[2])),e},_t.internal.getHeight=function(t){var e=0;return vr(t)==="object"&&(e=M_(t.Rect[3])),e};var PL=Zr.addField=function(t){if(IL(this,t),!(t instanceof da))throw new Error("Invalid argument passed to jsPDF.addField.");var e;return(e=t).scope.internal.acroformPlugin.printedOut&&(e.scope.internal.acroformPlugin.printedOut=!1,e.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),e.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(e),t.page=t.scope.internal.getCurrentPageInfo().pageNumber,this};Zr.AcroFormChoiceField=gu,Zr.AcroFormListBox=vu,Zr.AcroFormComboBox=yu,Zr.AcroFormEditBox=Eh,Zr.AcroFormButton=Cn,Zr.AcroFormPushButton=Ah,Zr.AcroFormRadioButton=xu,Zr.AcroFormCheckBox=Th,Zr.AcroFormTextField=Sl,Zr.AcroFormPasswordField=bh,Zr.AcroFormAppearance=_t,Zr.AcroForm={ChoiceField:gu,ListBox:vu,ComboBox:yu,EditBox:Eh,Button:Cn,PushButton:Ah,RadioButton:xu,CheckBox:Th,TextField:Sl,PasswordField:bh,Appearance:_t},Ct.AcroForm={ChoiceField:gu,ListBox:vu,ComboBox:yu,EditBox:Eh,Button:Cn,PushButton:Ah,RadioButton:xu,CheckBox:Th,TextField:Sl,PasswordField:bh,Appearance:_t};var kL=Ct.AcroForm;function zE(t){return t.reduce(function(e,r,n){return e[r]=n,e},{})}(function(t){t.__addimage__={};var e="UNKNOWN",r={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},n=t.__addimage__.getImageFileTypeByImageData=function(N,b){var D,Z,de,se,re,X=e;if((b=b||e)==="RGBA"||N.data!==void 0&&N.data instanceof Uint8ClampedArray&&"height"in N&&"width"in N)return"RGBA";if(z(N))for(re in r)for(de=r[re],D=0;D<de.length;D+=1){for(se=!0,Z=0;Z<de[D].length;Z+=1)if(de[D][Z]!==void 0&&de[D][Z]!==N[Z]){se=!1;break}if(se===!0){X=re;break}}else for(re in r)for(de=r[re],D=0;D<de.length;D+=1){for(se=!0,Z=0;Z<de[D].length;Z+=1)if(de[D][Z]!==void 0&&de[D][Z]!==N.charCodeAt(Z)){se=!1;break}if(se===!0){X=re;break}}return X===e&&b!==e&&(X=b),X},i=function N(b){for(var D=this.internal.write,Z=this.internal.putStream,de=(0,this.internal.getFilters)();de.indexOf("FlateEncode")!==-1;)de.splice(de.indexOf("FlateEncode"),1);b.objectId=this.internal.newObject();var se=[];if(se.push({key:"Type",value:"/XObject"}),se.push({key:"Subtype",value:"/Image"}),se.push({key:"Width",value:b.width}),se.push({key:"Height",value:b.height}),b.colorSpace===T.INDEXED?se.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(b.palette.length/3-1)+" "+("sMask"in b&&b.sMask!==void 0?b.objectId+2:b.objectId+1)+" 0 R]"}):(se.push({key:"ColorSpace",value:"/"+b.colorSpace}),b.colorSpace===T.DEVICE_CMYK&&se.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),se.push({key:"BitsPerComponent",value:b.bitsPerComponent}),"decodeParameters"in b&&b.decodeParameters!==void 0&&se.push({key:"DecodeParms",value:"<<"+b.decodeParameters+">>"}),"transparency"in b&&Array.isArray(b.transparency)){for(var re="",X=0,ee=b.transparency.length;X<ee;X++)re+=b.transparency[X]+" "+b.transparency[X]+" ";se.push({key:"Mask",value:"["+re+"]"})}b.sMask!==void 0&&se.push({key:"SMask",value:b.objectId+1+" 0 R"});var he=b.filter!==void 0?["/"+b.filter]:void 0;if(Z({data:b.data,additionalKeyValues:se,alreadyAppliedFilters:he,objectId:b.objectId}),D("endobj"),"sMask"in b&&b.sMask!==void 0){var we="/Predictor "+b.predictor+" /Colors 1 /BitsPerComponent "+b.bitsPerComponent+" /Columns "+b.width,P={width:b.width,height:b.height,colorSpace:"DeviceGray",bitsPerComponent:b.bitsPerComponent,decodeParameters:we,data:b.sMask};"filter"in b&&(P.filter=b.filter),N.call(this,P)}if(b.colorSpace===T.INDEXED){var B=this.internal.newObject();Z({data:S(new Uint8Array(b.palette)),objectId:B}),D("endobj")}},s=function(){var N=this.internal.collections.addImage_images;for(var b in N)i.call(this,N[b])},a=function(){var N,b=this.internal.collections.addImage_images,D=this.internal.write;for(var Z in b)D("/I"+(N=b[Z]).index,N.objectId,"0","R")},o=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",s),this.internal.events.subscribe("putXobjectDict",a))},l=function(){var N=this.internal.collections.addImage_images;return o.call(this),N},u=function(){return Object.keys(this.internal.collections.addImage_images).length},c=function(N){return typeof t["process"+N.toUpperCase()]=="function"},p=function(N){return vr(N)==="object"&&N.nodeType===1},m=function(N,b){if(N.nodeName==="IMG"&&N.hasAttribute("src")){var D=""+N.getAttribute("src");if(D.indexOf("data:image/")===0)return Sh(unescape(D).split("base64,").pop());var Z=t.loadFile(D,!0);if(Z!==void 0)return Z}if(N.nodeName==="CANVAS"){if(N.width===0||N.height===0)throw new Error("Given canvas must have data. Canvas width: "+N.width+", height: "+N.height);var de;switch(b){case"PNG":de="image/png";break;case"WEBP":de="image/webp";break;case"JPEG":case"JPG":default:de="image/jpeg"}return Sh(N.toDataURL(de,1).split("base64,").pop())}},d=function(N){var b=this.internal.collections.addImage_images;if(b){for(var D in b)if(N===b[D].alias)return b[D]}},y=function(N,b,D){return N||b||(N=-96,b=-96),N<0&&(N=-1*D.width*72/N/this.internal.scaleFactor),b<0&&(b=-1*D.height*72/b/this.internal.scaleFactor),N===0&&(N=b*D.width/D.height),b===0&&(b=N*D.height/D.width),[N,b]},v=function(N,b,D,Z,de,se){var re=y.call(this,D,Z,de),X=this.internal.getCoordinateString,ee=this.internal.getVerticalCoordinateString,he=l.call(this);if(D=re[0],Z=re[1],he[de.index]=de,se){se*=Math.PI/180;var we=Math.cos(se),P=Math.sin(se),B=function(U){return U.toFixed(4)},V=[B(we),B(P),B(-1*P),B(we),0,0,"cm"]}this.internal.write("q"),se?(this.internal.write([1,"0","0",1,X(N),ee(b+Z),"cm"].join(" ")),this.internal.write(V.join(" ")),this.internal.write([X(D),"0","0",X(Z),"0","0","cm"].join(" "))):this.internal.write([X(D),"0","0",X(Z),X(N),ee(b+Z),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+de.index+" Do"),this.internal.write("Q")},T=t.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};t.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var _=t.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},x=t.__addimage__.sHashCode=function(N){var b,D,Z=0;if(typeof N=="string")for(D=N.length,b=0;b<D;b++)Z=(Z<<5)-Z+N.charCodeAt(b),Z|=0;else if(z(N))for(D=N.byteLength/2,b=0;b<D;b++)Z=(Z<<5)-Z+N[b],Z|=0;return Z},E=t.__addimage__.validateStringAsBase64=function(N){(N=N||"").toString().trim();var b=!0;return N.length===0&&(b=!1),N.length%4!=0&&(b=!1),/^[A-Za-z0-9+/]+$/.test(N.substr(0,N.length-2))===!1&&(b=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(N.substr(-2))===!1&&(b=!1),b},L=t.__addimage__.extractImageFromDataUrl=function(N){var b=(N=N||"").split("base64,"),D=null;if(b.length===2){var Z=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(b[0]);Array.isArray(Z)&&(D={mimeType:Z[1],charset:Z[2],data:b[1]})}return D},j=t.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer<"u"&&typeof Uint8Array<"u"};t.__addimage__.isArrayBuffer=function(N){return j()&&N instanceof ArrayBuffer};var z=t.__addimage__.isArrayBufferView=function(N){return j()&&typeof Uint32Array<"u"&&(N instanceof Int8Array||N instanceof Uint8Array||typeof Uint8ClampedArray<"u"&&N instanceof Uint8ClampedArray||N instanceof Int16Array||N instanceof Uint16Array||N instanceof Int32Array||N instanceof Uint32Array||N instanceof Float32Array||N instanceof Float64Array)},w=t.__addimage__.binaryStringToUint8Array=function(N){for(var b=N.length,D=new Uint8Array(b),Z=0;Z<b;Z++)D[Z]=N.charCodeAt(Z);return D},S=t.__addimage__.arrayBufferToBinaryString=function(N){for(var b="",D=z(N)?N:new Uint8Array(N),Z=0;Z<D.length;Z+=8192)b+=String.fromCharCode.apply(null,D.subarray(Z,Z+8192));return b};t.addImage=function(){var N,b,D,Z,de,se,re,X,ee;if(typeof arguments[1]=="number"?(b=e,D=arguments[1],Z=arguments[2],de=arguments[3],se=arguments[4],re=arguments[5],X=arguments[6],ee=arguments[7]):(b=arguments[1],D=arguments[2],Z=arguments[3],de=arguments[4],se=arguments[5],re=arguments[6],X=arguments[7],ee=arguments[8]),vr(N=arguments[0])==="object"&&!p(N)&&"imageData"in N){var he=N;N=he.imageData,b=he.format||b||e,D=he.x||D||0,Z=he.y||Z||0,de=he.w||he.width||de,se=he.h||he.height||se,re=he.alias||re,X=he.compression||X,ee=he.rotation||he.angle||ee}var we=this.internal.getFilters();if(X===void 0&&we.indexOf("FlateEncode")!==-1&&(X="SLOW"),isNaN(D)||isNaN(Z))throw new Error("Invalid coordinates passed to jsPDF.addImage");o.call(this);var P=I.call(this,N,b,re,X);return v.call(this,D,Z,de,se,P,ee),this};var I=function(N,b,D,Z){var de,se,re;if(typeof N=="string"&&n(N)===e){N=unescape(N);var X=F(N,!1);(X!==""||(X=t.loadFile(N,!0))!==void 0)&&(N=X)}if(p(N)&&(N=m(N,b)),b=n(N,b),!c(b))throw new Error("addImage does not support files of type '"+b+"', please ensure that a plugin for '"+b+"' support is added.");if(((re=D)==null||re.length===0)&&(D=function(ee){return typeof ee=="string"||z(ee)?x(ee):z(ee.data)?x(ee.data):null}(N)),(de=d.call(this,D))||(j()&&(N instanceof Uint8Array||b==="RGBA"||(se=N,N=w(N))),de=this["process"+b.toUpperCase()](N,u.call(this),D,function(ee){return ee&&typeof ee=="string"&&(ee=ee.toUpperCase()),ee in t.image_compression?ee:_.NONE}(Z),se)),!de)throw new Error("An unknown error occurred whilst processing the image.");return de},F=t.__addimage__.convertBase64ToBinaryString=function(N,b){var D;b=typeof b!="boolean"||b;var Z,de="";if(typeof N=="string"){Z=(D=L(N))!==null?D.data:N;try{de=Sh(Z)}catch(se){if(b)throw E(Z)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+se.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return de};t.getImageProperties=function(N){var b,D,Z="";if(p(N)&&(N=m(N)),typeof N=="string"&&n(N)===e&&((Z=F(N,!1))===""&&(Z=t.loadFile(N)||""),N=Z),D=n(N),!c(D))throw new Error("addImage does not support files of type '"+D+"', please ensure that a plugin for '"+D+"' support is added.");if(!j()||N instanceof Uint8Array||(N=w(N)),!(b=this["process"+D.toUpperCase()](N)))throw new Error("An unknown error occurred whilst processing the image");return b.fileType=D,b}})(Ct.API),function(t){var e=function(r){if(r!==void 0&&r!="")return!0};Ct.API.events.push(["addPage",function(r){this.internal.getPageInfo(r.pageNumber).pageContext.annotations=[]}]),t.events.push(["putPage",function(r){for(var n,i,s,a=this.internal.getCoordinateString,o=this.internal.getVerticalCoordinateString,l=this.internal.getPageInfoByObjId(r.objId),u=r.pageContext.annotations,c=!1,p=0;p<u.length&&!c;p++)switch((n=u[p]).type){case"link":(e(n.options.url)||e(n.options.pageNumber))&&(c=!0);break;case"reference":case"text":case"freetext":c=!0}if(c!=0){this.internal.write("/Annots [");for(var m=0;m<u.length;m++){n=u[m];var d=this.internal.pdfEscape,y=this.internal.getEncryptor(r.objId);switch(n.type){case"reference":this.internal.write(" "+n.object.objId+" 0 R ");break;case"text":var v=this.internal.newAdditionalObject(),T=this.internal.newAdditionalObject(),_=this.internal.getEncryptor(v.objId),x=n.title||"Note";s="<</Type /Annot /Subtype /Text "+(i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y)+"] ")+"/Contents ("+d(_(n.contents))+")",s+=" /Popup "+T.objId+" 0 R",s+=" /P "+l.objId+" 0 R",s+=" /T ("+d(_(x))+") >>",v.content=s;var E=v.objId+" 0 R";s="<</Type /Annot /Subtype /Popup "+(i="/Rect ["+a(n.bounds.x+30)+" "+o(n.bounds.y+n.bounds.h)+" "+a(n.bounds.x+n.bounds.w+30)+" "+o(n.bounds.y)+"] ")+" /Parent "+E,n.open&&(s+=" /Open true"),s+=" >>",T.content=s,this.internal.write(v.objId,"0 R",T.objId,"0 R");break;case"freetext":i="/Rect ["+a(n.bounds.x)+" "+o(n.bounds.y)+" "+a(n.bounds.x+n.bounds.w)+" "+o(n.bounds.y+n.bounds.h)+"] ";var L=n.color||"#000000";s="<</Type /Annot /Subtype /FreeText "+i+"/Contents ("+d(y(n.contents))+")",s+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+L+")",s+=" /Border [0 0 0]",s+=" >>",this.internal.write(s);break;case"link":if(n.options.name){var j=this.annotations._nameMap[n.options.name];n.options.pageNumber=j.page,n.options.top=j.y}else n.options.top||(n.options.top=0);if(i="/Rect ["+n.finalBounds.x+" "+n.finalBounds.y+" "+n.finalBounds.w+" "+n.finalBounds.h+"] ",s="",n.options.url)s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /A <</S /URI /URI ("+d(y(n.options.url))+") >>";else if(n.options.pageNumber)switch(s="<</Type /Annot /Subtype /Link "+i+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(n.options.pageNumber).objId+" 0 R",n.options.magFactor=n.options.magFactor||"XYZ",n.options.magFactor){case"Fit":s+=" /Fit]";break;case"FitH":s+=" /FitH "+n.options.top+"]";break;case"FitV":n.options.left=n.options.left||0,s+=" /FitV "+n.options.left+"]";break;case"XYZ":default:var z=o(n.options.top);n.options.left=n.options.left||0,n.options.zoom===void 0&&(n.options.zoom=0),s+=" /XYZ "+n.options.left+" "+z+" "+n.options.zoom+"]"}s!=""&&(s+=" >>",this.internal.write(s))}}this.internal.write("]")}}]),t.createAnnotation=function(r){var n=this.internal.getCurrentPageInfo();switch(r.type){case"link":this.link(r.bounds.x,r.bounds.y,r.bounds.w,r.bounds.h,r);break;case"text":case"freetext":n.pageContext.annotations.push(r)}},t.link=function(r,n,i,s,a){var o=this.internal.getCurrentPageInfo(),l=this.internal.getCoordinateString,u=this.internal.getVerticalCoordinateString;o.pageContext.annotations.push({finalBounds:{x:l(r),y:u(n),w:l(r+i),h:u(n+s)},options:a,type:"link"})},t.textWithLink=function(r,n,i,s){var a,o,l=this.getTextWidth(r),u=this.internal.getLineHeight()/this.internal.scaleFactor;if(s.maxWidth!==void 0){o=s.maxWidth;var c=this.splitTextToSize(r,o).length;a=Math.ceil(u*c)}else o=l,a=u;return this.text(r,n,i,s),i+=.2*u,s.align==="center"&&(n-=l/2),s.align==="right"&&(n-=l),this.link(n,i-u,o,a,s),l},t.getTextWidth=function(r){var n=this.internal.getFontSize();return this.getStringUnitWidth(r)*n/this.internal.scaleFactor}}(Ct.API),function(t){var e={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},r={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},n={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},i=[1570,1571,1573,1575];t.__arabicParser__={};var s=t.__arabicParser__.isInArabicSubstitutionA=function(v){return e[v.charCodeAt(0)]!==void 0},a=t.__arabicParser__.isArabicLetter=function(v){return typeof v=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(v)},o=t.__arabicParser__.isArabicEndLetter=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length<=2},l=t.__arabicParser__.isArabicAlfLetter=function(v){return a(v)&&i.indexOf(v.charCodeAt(0))>=0};t.__arabicParser__.arabicLetterHasIsolatedForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=1};var u=t.__arabicParser__.arabicLetterHasFinalForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=2};t.__arabicParser__.arabicLetterHasInitialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length>=3};var c=t.__arabicParser__.arabicLetterHasMedialForm=function(v){return a(v)&&s(v)&&e[v.charCodeAt(0)].length==4},p=t.__arabicParser__.resolveLigatures=function(v){var T=0,_=r,x="",E=0;for(T=0;T<v.length;T+=1)_[v.charCodeAt(T)]!==void 0?(E++,typeof(_=_[v.charCodeAt(T)])=="number"&&(x+=String.fromCharCode(_),_=r,E=0),T===v.length-1&&(_=r,x+=v.charAt(T-(E-1)),T-=E-1,E=0)):(_=r,x+=v.charAt(T-E),T-=E,E=0);return x};t.__arabicParser__.isArabicDiacritic=function(v){return v!==void 0&&n[v.charCodeAt(0)]!==void 0};var m=t.__arabicParser__.getCorrectForm=function(v,T,_){return a(v)?s(v)===!1?-1:!u(v)||!a(T)&&!a(_)||!a(_)&&o(T)||o(v)&&!a(T)||o(v)&&l(T)||o(v)&&o(T)?0:c(v)&&a(T)&&!o(T)&&a(_)&&u(_)?3:o(v)||!a(_)?1:2:-1},d=function(v){var T=0,_=0,x=0,E="",L="",j="",z=(v=v||"").split("\\s+"),w=[];for(T=0;T<z.length;T+=1){for(w.push(""),_=0;_<z[T].length;_+=1)E=z[T][_],L=z[T][_-1],j=z[T][_+1],a(E)?(x=m(E,L,j),w[T]+=x!==-1?String.fromCharCode(e[E.charCodeAt(0)][x]):E):w[T]+=E;w[T]=p(w[T])}return w.join(" ")},y=t.__arabicParser__.processArabic=t.processArabic=function(){var v,T=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,_=[];if(Array.isArray(T)){var x=0;for(_=[],x=0;x<T.length;x+=1)Array.isArray(T[x])?_.push([d(T[x][0]),T[x][1],T[x][2]]):_.push([d(T[x])]);v=_}else v=d(T);return typeof arguments[0]=="string"?v:(arguments[0].text=v,arguments[0])};t.events.push(["preProcessText",y])}(Ct.API),Ct.API.autoPrint=function(t){var e;switch((t=t||{}).variant=t.variant||"non-conform",t.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){e=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+e+" 0 R")})}return this},function(t){var e=function(){var r=void 0;Object.defineProperty(this,"pdf",{get:function(){return r},set:function(o){r=o}});var n=150;Object.defineProperty(this,"width",{get:function(){return n},set:function(o){n=isNaN(o)||Number.isInteger(o)===!1||o<0?150:o,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=n+1)}});var i=300;Object.defineProperty(this,"height",{get:function(){return i},set:function(o){i=isNaN(o)||Number.isInteger(o)===!1||o<0?300:o,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=i+1)}});var s=[];Object.defineProperty(this,"childNodes",{get:function(){return s},set:function(o){s=o}});var a={};Object.defineProperty(this,"style",{get:function(){return a},set:function(o){a=o}}),Object.defineProperty(this,"parentNode",{})};e.prototype.getContext=function(r,n){var i;if((r=r||"2d")!=="2d")return null;for(i in n)this.pdf.context2d.hasOwnProperty(i)&&(this.pdf.context2d[i]=n[i]);return this.pdf.context2d._canvas=this,this.pdf.context2d},e.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},t.events.push(["initialized",function(){this.canvas=new e,this.canvas.pdf=this}])}(Ct.API),function(t){var e={left:0,top:0,bottom:0,right:0},r=!1,n=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},e),this.internal.__cell__.margins.width=this.getPageWidth(),i.call(this))},i=function(){this.internal.__cell__.lastCell=new s,this.internal.__cell__.pages=1},s=function(){var l=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return l},set:function(v){l=v}});var u=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return u},set:function(v){u=v}});var c=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return c},set:function(v){c=v}});var p=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return p},set:function(v){p=v}});var m=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return m},set:function(v){m=v}});var d=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return d},set:function(v){d=v}});var y=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return y},set:function(v){y=v}}),this};s.prototype.clone=function(){return new s(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},s.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},t.setHeaderFunction=function(l){return n.call(this),this.internal.__cell__.headerFunction=typeof l=="function"?l:void 0,this},t.getTextDimensions=function(l,u){n.call(this);var c=(u=u||{}).fontSize||this.getFontSize(),p=u.font||this.getFont(),m=u.scaleFactor||this.internal.scaleFactor,d=0,y=0,v=0,T=this;if(!Array.isArray(l)&&typeof l!="string"){if(typeof l!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");l=String(l)}var _=u.maxWidth;_>0?typeof l=="string"?l=this.splitTextToSize(l,_):Object.prototype.toString.call(l)==="[object Array]"&&(l=l.reduce(function(E,L){return E.concat(T.splitTextToSize(L,_))},[])):l=Array.isArray(l)?l:[l];for(var x=0;x<l.length;x++)d<(v=this.getStringUnitWidth(l[x],{font:p})*c)&&(d=v);return d!==0&&(y=l.length),{w:d/=m,h:Math.max((y*c*this.getLineHeightFactor()-c*(this.getLineHeightFactor()-1))/m,0)}},t.cellAddPage=function(){n.call(this),this.addPage();var l=this.internal.__cell__.margins||e;return this.internal.__cell__.lastCell=new s(l.left,l.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var a=t.cell=function(){var l;l=arguments[0]instanceof s?arguments[0]:new s(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),n.call(this);var u=this.internal.__cell__.lastCell,c=this.internal.__cell__.padding,p=this.internal.__cell__.margins||e,m=this.internal.__cell__.tableHeaderRow,d=this.internal.__cell__.printHeaders;return u.lineNumber!==void 0&&(u.lineNumber===l.lineNumber?(l.x=(u.x||0)+(u.width||0),l.y=u.y||0):u.y+u.height+l.height+p.bottom>this.getPageHeight()?(this.cellAddPage(),l.y=p.top,d&&m&&(this.printHeaderRow(l.lineNumber,!0),l.y+=m[0].height)):l.y=u.y+u.height||l.y),l.text[0]!==void 0&&(this.rect(l.x,l.y,l.width,l.height,r===!0?"FD":void 0),l.align==="right"?this.text(l.text,l.x+l.width-c,l.y+c,{align:"right",baseline:"top"}):l.align==="center"?this.text(l.text,l.x+l.width/2,l.y+c,{align:"center",baseline:"top",maxWidth:l.width-c-c}):this.text(l.text,l.x+c,l.y+c,{align:"left",baseline:"top",maxWidth:l.width-c-c})),this.internal.__cell__.lastCell=l,this};t.table=function(l,u,c,p,m){if(n.call(this),!c)throw new Error("No data for PDF table.");var d,y,v,T,_=[],x=[],E=[],L={},j={},z=[],w=[],S=(m=m||{}).autoSize||!1,I=m.printHeaders!==!1,F=m.css&&m.css["font-size"]!==void 0?16*m.css["font-size"]:m.fontSize||12,N=m.margins||Object.assign({width:this.getPageWidth()},e),b=typeof m.padding=="number"?m.padding:3,D=m.headerBackgroundColor||"#c8c8c8",Z=m.headerTextColor||"#000";if(i.call(this),this.internal.__cell__.printHeaders=I,this.internal.__cell__.margins=N,this.internal.__cell__.table_font_size=F,this.internal.__cell__.padding=b,this.internal.__cell__.headerBackgroundColor=D,this.internal.__cell__.headerTextColor=Z,this.setFontSize(F),p==null)x=_=Object.keys(c[0]),E=_.map(function(){return"left"});else if(Array.isArray(p)&&vr(p[0])==="object")for(_=p.map(function(he){return he.name}),x=p.map(function(he){return he.prompt||he.name||""}),E=p.map(function(he){return he.align||"left"}),d=0;d<p.length;d+=1)j[p[d].name]=p[d].width*(19.049976/25.4);else Array.isArray(p)&&typeof p[0]=="string"&&(x=_=p,E=_.map(function(){return"left"}));if(S||Array.isArray(p)&&typeof p[0]=="string")for(d=0;d<_.length;d+=1){for(L[T=_[d]]=c.map(function(he){return he[T]}),this.setFont(void 0,"bold"),z.push(this.getTextDimensions(x[d],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),y=L[T],this.setFont(void 0,"normal"),v=0;v<y.length;v+=1)z.push(this.getTextDimensions(y[v],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);j[T]=Math.max.apply(null,z)+b+b,z=[]}if(I){var de={};for(d=0;d<_.length;d+=1)de[_[d]]={},de[_[d]].text=x[d],de[_[d]].align=E[d];var se=o.call(this,de,j);w=_.map(function(he){return new s(l,u,j[he],se,de[he].text,void 0,de[he].align)}),this.setTableHeaderRow(w),this.printHeaderRow(1,!1)}var re=p.reduce(function(he,we){return he[we.name]=we.align,he},{});for(d=0;d<c.length;d+=1){"rowStart"in m&&m.rowStart instanceof Function&&m.rowStart({row:d,data:c[d]},this);var X=o.call(this,c[d],j);for(v=0;v<_.length;v+=1){var ee=c[d][_[v]];"cellStart"in m&&m.cellStart instanceof Function&&m.cellStart({row:d,col:v,data:ee},this),a.call(this,new s(l,u,j[_[v]],X,ee,d+2,re[_[v]]))}}return this.internal.__cell__.table_x=l,this.internal.__cell__.table_y=u,this};var o=function(l,u){var c=this.internal.__cell__.padding,p=this.internal.__cell__.table_font_size,m=this.internal.scaleFactor;return Object.keys(l).map(function(d){var y=l[d];return this.splitTextToSize(y.hasOwnProperty("text")?y.text:y,u[d]-c-c)},this).map(function(d){return this.getLineHeightFactor()*d.length*p/m+c+c},this).reduce(function(d,y){return Math.max(d,y)},0)};t.setTableHeaderRow=function(l){n.call(this),this.internal.__cell__.tableHeaderRow=l},t.printHeaderRow=function(l,u){if(n.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var c;if(r=!0,typeof this.internal.__cell__.headerFunction=="function"){var p=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new s(p[0],p[1],p[2],p[3],void 0,-1)}this.setFont(void 0,"bold");for(var m=[],d=0;d<this.internal.__cell__.tableHeaderRow.length;d+=1){c=this.internal.__cell__.tableHeaderRow[d].clone(),u&&(c.y=this.internal.__cell__.margins.top||0,m.push(c)),c.lineNumber=l;var y=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),a.call(this,c),this.setTextColor(y)}m.length>0&&this.setTableHeaderRow(m),this.setFont(void 0,"normal"),r=!1}}(Ct.API);var HE={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},WE=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],M2=zE(WE),qE=[100,200,300,400,500,600,700,800,900],LL=zE(qE);function j2(t){var e=t.family.replace(/"|'/g,"").toLowerCase(),r=function(s){return HE[s=s||"normal"]?s:"normal"}(t.style),n=function(s){if(!s)return 400;if(typeof s=="number")return s>=100&&s<=900&&s%100==0?s:400;if(/^\d00$/.test(s))return parseInt(s);switch(s){case"bold":return 700;case"normal":default:return 400}}(t.weight),i=function(s){return typeof M2[s=s||"normal"]=="number"?s:"normal"}(t.stretch);return{family:e,style:r,weight:n,stretch:i,src:t.src||[],ref:t.ref||{name:e,style:[i,r,n].join(" ")}}}function j_(t,e,r,n){var i;for(i=r;i>=0&&i<e.length;i+=n)if(t[e[i]])return t[e[i]];for(i=r;i>=0&&i<e.length;i-=n)if(t[e[i]])return t[e[i]]}var FL={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},B_={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function V_(t){return[t.stretch,t.style,t.weight,t.family].join(" ")}function RL(t,e,r){for(var n=(r=r||{}).defaultFontFamily||"times",i=Object.assign({},FL,r.genericFontFamilies||{}),s=null,a=null,o=0;o<e.length;++o)if(i[(s=j2(e[o])).family]&&(s.family=i[s.family]),t.hasOwnProperty(s.family)){a=t[s.family];break}if(!(a=a||t[n]))throw new Error("Could not find a font-family for the rule '"+V_(s)+"' and default family '"+n+"'.");if(a=function(l,u){if(u[l])return u[l];var c=M2[l],p=c<=M2.normal?-1:1,m=j_(u,WE,c,p);if(!m)throw new Error("Could not find a matching font-stretch value for "+l);return m}(s.stretch,a),a=function(l,u){if(u[l])return u[l];for(var c=HE[l],p=0;p<c.length;++p)if(u[c[p]])return u[c[p]];throw new Error("Could not find a matching font-style for "+l)}(s.style,a),!(a=function(l,u){if(u[l])return u[l];if(l===400&&u[500])return u[500];if(l===500&&u[400])return u[400];var c=LL[l],p=j_(u,qE,c,l<400?-1:1);if(!p)throw new Error("Could not find a matching font-weight for value "+l);return p}(s.weight,a)))throw new Error("Failed to resolve a font for the rule '"+V_(s)+"'.");return a}function U_(t){return t.trimLeft()}function DL(t,e){for(var r=0;r<t.length;){if(t.charAt(r)===e)return[t.substring(0,r),t.substring(r+1)];r+=1}return null}function OL(t){var e=t.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return e===null?null:[e[0],t.substring(e[0].length)]}var Ld,z_,H_,tg=["times"];(function(t){var e,r,n,i,s,a,o,l,u,c=function(P){return P=P||{},this.isStrokeTransparent=P.isStrokeTransparent||!1,this.strokeOpacity=P.strokeOpacity||1,this.strokeStyle=P.strokeStyle||"#000000",this.fillStyle=P.fillStyle||"#000000",this.isFillTransparent=P.isFillTransparent||!1,this.fillOpacity=P.fillOpacity||1,this.font=P.font||"10px sans-serif",this.textBaseline=P.textBaseline||"alphabetic",this.textAlign=P.textAlign||"left",this.lineWidth=P.lineWidth||1,this.lineJoin=P.lineJoin||"miter",this.lineCap=P.lineCap||"butt",this.path=P.path||[],this.transform=P.transform!==void 0?P.transform.clone():new l,this.globalCompositeOperation=P.globalCompositeOperation||"normal",this.globalAlpha=P.globalAlpha||1,this.clip_path=P.clip_path||[],this.currentPoint=P.currentPoint||new a,this.miterLimit=P.miterLimit||10,this.lastPoint=P.lastPoint||new a,this.lineDashOffset=P.lineDashOffset||0,this.lineDash=P.lineDash||[],this.margin=P.margin||[0,0,0,0],this.prevPageLastElemOffset=P.prevPageLastElemOffset||0,this.ignoreClearRect=typeof P.ignoreClearRect!="boolean"||P.ignoreClearRect,this};t.events.push(["initialized",function(){this.context2d=new p(this),e=this.internal.f2,r=this.internal.getCoordinateString,n=this.internal.getVerticalCoordinateString,i=this.internal.getHorizontalCoordinate,s=this.internal.getVerticalCoordinate,a=this.internal.Point,o=this.internal.Rectangle,l=this.internal.Matrix,u=new c}]);var p=function(P){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var B=P;Object.defineProperty(this,"pdf",{get:function(){return B}});var V=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return V},set:function(Re){V=!!Re}});var U=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return U},set:function(Re){U=!!Re}});var Y=0;Object.defineProperty(this,"posX",{get:function(){return Y},set:function(Re){isNaN(Re)||(Y=Re)}});var pe=0;Object.defineProperty(this,"posY",{get:function(){return pe},set:function(Re){isNaN(Re)||(pe=Re)}}),Object.defineProperty(this,"margin",{get:function(){return u.margin},set:function(Re){var fe;typeof Re=="number"?fe=[Re,Re,Re,Re]:((fe=new Array(4))[0]=Re[0],fe[1]=Re.length>=2?Re[1]:fe[0],fe[2]=Re.length>=3?Re[2]:fe[0],fe[3]=Re.length>=4?Re[3]:fe[1]),u.margin=fe}});var me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return me},set:function(Re){me=Re}});var ge=0;Object.defineProperty(this,"lastBreak",{get:function(){return ge},set:function(Re){ge=Re}});var Te=[];Object.defineProperty(this,"pageBreaks",{get:function(){return Te},set:function(Re){Te=Re}}),Object.defineProperty(this,"ctx",{get:function(){return u},set:function(Re){Re instanceof c&&(u=Re)}}),Object.defineProperty(this,"path",{get:function(){return u.path},set:function(Re){u.path=Re}});var Me=[];Object.defineProperty(this,"ctxStack",{get:function(){return Me},set:function(Re){Me=Re}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Re){var fe;fe=m(Re),this.ctx.fillStyle=fe.style,this.ctx.isFillTransparent=fe.a===0,this.ctx.fillOpacity=fe.a,this.pdf.setFillColor(fe.r,fe.g,fe.b,{a:fe.a}),this.pdf.setTextColor(fe.r,fe.g,fe.b,{a:fe.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Re){var fe=m(Re);this.ctx.strokeStyle=fe.style,this.ctx.isStrokeTransparent=fe.a===0,this.ctx.strokeOpacity=fe.a,fe.a===0?this.pdf.setDrawColor(255,255,255):(fe.a,this.pdf.setDrawColor(fe.r,fe.g,fe.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Re){["butt","round","square"].indexOf(Re)!==-1&&(this.ctx.lineCap=Re,this.pdf.setLineCap(Re))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Re){isNaN(Re)||(this.ctx.lineWidth=Re,this.pdf.setLineWidth(Re))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Re){["bevel","round","miter"].indexOf(Re)!==-1&&(this.ctx.lineJoin=Re,this.pdf.setLineJoin(Re))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Re){isNaN(Re)||(this.ctx.miterLimit=Re,this.pdf.setMiterLimit(Re))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Re){this.ctx.textBaseline=Re}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Re){["right","end","center","left","start"].indexOf(Re)!==-1&&(this.ctx.textAlign=Re)}});var Ve=null;function Je(Re,fe){if(Ve===null){var He=function(mt){var Ge=[];return Object.keys(mt).forEach(function(tt){mt[tt].forEach(function(ot){var lt=null;switch(ot){case"bold":lt={family:tt,weight:"bold"};break;case"italic":lt={family:tt,style:"italic"};break;case"bolditalic":lt={family:tt,weight:"bold",style:"italic"};break;case"":case"normal":lt={family:tt}}lt!==null&&(lt.ref={name:tt,style:ot},Ge.push(lt))})}),Ge}(Re.getFontList());Ve=function(mt){for(var Ge={},tt=0;tt<mt.length;++tt){var ot=j2(mt[tt]),lt=ot.family,wt=ot.stretch,Et=ot.style,Lt=ot.weight;Ge[lt]=Ge[lt]||{},Ge[lt][wt]=Ge[lt][wt]||{},Ge[lt][wt][Et]=Ge[lt][wt][Et]||{},Ge[lt][wt][Et][Lt]=ot}return Ge}(He.concat(fe))}return Ve}var st=null;Object.defineProperty(this,"fontFaces",{get:function(){return st},set:function(Re){Ve=null,st=Re}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Re){var fe;if(this.ctx.font=Re,(fe=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Re))!==null){var He=fe[1],mt=(fe[2],fe[3]),Ge=fe[4],tt=(fe[5],fe[6]),ot=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Ge)[2];Ge=Math.floor(ot==="px"?parseFloat(Ge)*this.pdf.internal.scaleFactor:ot==="em"?parseFloat(Ge)*this.pdf.getFontSize():parseFloat(Ge)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Ge);var lt=function(It){var Ut,ht,Fr=[],qt=It.trim();if(qt==="")return tg;if(qt in B_)return[B_[qt]];for(;qt!=="";){switch(ht=null,Ut=(qt=U_(qt)).charAt(0)){case'"':case"'":ht=DL(qt.substring(1),Ut);break;default:ht=OL(qt)}if(ht===null||(Fr.push(ht[0]),(qt=U_(ht[1]))!==""&&qt.charAt(0)!==","))return tg;qt=qt.replace(/^,/,"")}return Fr}(tt);if(this.fontFaces){var wt=RL(Je(this.pdf,this.fontFaces),lt.map(function(It){return{family:It,stretch:"normal",weight:mt,style:He}}));this.pdf.setFont(wt.ref.name,wt.ref.style)}else{var Et="";(mt==="bold"||parseInt(mt,10)>=700||He==="bold")&&(Et="bold"),He==="italic"&&(Et+="italic"),Et.length===0&&(Et="normal");for(var Lt="",At={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Nt=0;Nt<lt.length;Nt++){if(this.pdf.internal.getFont(lt[Nt],Et,{noFallback:!0,disableWarning:!0})!==void 0){Lt=lt[Nt];break}if(Et==="bolditalic"&&this.pdf.internal.getFont(lt[Nt],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Lt=lt[Nt],Et="bold";else if(this.pdf.internal.getFont(lt[Nt],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Lt=lt[Nt],Et="normal";break}}if(Lt===""){for(var Ht=0;Ht<lt.length;Ht++)if(At[lt[Ht]]){Lt=At[lt[Ht]];break}}Lt=Lt===""?"Times":Lt,this.pdf.setFont(Lt,Et)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Re){this.ctx.globalCompositeOperation=Re}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Re){this.ctx.globalAlpha=Re}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Re){this.ctx.lineDashOffset=Re,we.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Re){this.ctx.lineDash=Re,we.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Re){this.ctx.ignoreClearRect=!!Re}})};p.prototype.setLineDash=function(P){this.lineDash=P},p.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},p.prototype.fill=function(){L.call(this,"fill",!1)},p.prototype.stroke=function(){L.call(this,"stroke",!1)},p.prototype.beginPath=function(){this.path=[{type:"begin"}]},p.prototype.moveTo=function(P,B){if(isNaN(P)||isNaN(B))throw Ir.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var V=this.ctx.transform.applyToPoint(new a(P,B));this.path.push({type:"mt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(P,B)},p.prototype.closePath=function(){var P=new a(0,0),B=0;for(B=this.path.length-1;B!==-1;B--)if(this.path[B].type==="begin"&&vr(this.path[B+1])==="object"&&typeof this.path[B+1].x=="number"){P=new a(this.path[B+1].x,this.path[B+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new a(P.x,P.y)},p.prototype.lineTo=function(P,B){if(isNaN(P)||isNaN(B))throw Ir.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var V=this.ctx.transform.applyToPoint(new a(P,B));this.path.push({type:"lt",x:V.x,y:V.y}),this.ctx.lastPoint=new a(V.x,V.y)},p.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),L.call(this,null,!0)},p.prototype.quadraticCurveTo=function(P,B,V,U){if(isNaN(V)||isNaN(U)||isNaN(P)||isNaN(B))throw Ir.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Y=this.ctx.transform.applyToPoint(new a(V,U)),pe=this.ctx.transform.applyToPoint(new a(P,B));this.path.push({type:"qct",x1:pe.x,y1:pe.y,x:Y.x,y:Y.y}),this.ctx.lastPoint=new a(Y.x,Y.y)},p.prototype.bezierCurveTo=function(P,B,V,U,Y,pe){if(isNaN(Y)||isNaN(pe)||isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U))throw Ir.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var me=this.ctx.transform.applyToPoint(new a(Y,pe)),ge=this.ctx.transform.applyToPoint(new a(P,B)),Te=this.ctx.transform.applyToPoint(new a(V,U));this.path.push({type:"bct",x1:ge.x,y1:ge.y,x2:Te.x,y2:Te.y,x:me.x,y:me.y}),this.ctx.lastPoint=new a(me.x,me.y)},p.prototype.arc=function(P,B,V,U,Y,pe){if(isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U)||isNaN(Y))throw Ir.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(pe=!!pe,!this.ctx.transform.isIdentity){var me=this.ctx.transform.applyToPoint(new a(P,B));P=me.x,B=me.y;var ge=this.ctx.transform.applyToPoint(new a(0,V)),Te=this.ctx.transform.applyToPoint(new a(0,0));V=Math.sqrt(Math.pow(ge.x-Te.x,2)+Math.pow(ge.y-Te.y,2))}Math.abs(Y-U)>=2*Math.PI&&(U=0,Y=2*Math.PI),this.path.push({type:"arc",x:P,y:B,radius:V,startAngle:U,endAngle:Y,counterclockwise:pe})},p.prototype.arcTo=function(P,B,V,U,Y){throw new Error("arcTo not implemented.")},p.prototype.rect=function(P,B,V,U){if(isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U))throw Ir.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(P,B),this.lineTo(P+V,B),this.lineTo(P+V,B+U),this.lineTo(P,B+U),this.lineTo(P,B),this.lineTo(P+V,B),this.lineTo(P,B)},p.prototype.fillRect=function(P,B,V,U){if(isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U))throw Ir.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!d.call(this)){var Y={};this.lineCap!=="butt"&&(Y.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Y.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(P,B,V,U),this.fill(),Y.hasOwnProperty("lineCap")&&(this.lineCap=Y.lineCap),Y.hasOwnProperty("lineJoin")&&(this.lineJoin=Y.lineJoin)}},p.prototype.strokeRect=function(P,B,V,U){if(isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U))throw Ir.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");y.call(this)||(this.beginPath(),this.rect(P,B,V,U),this.stroke())},p.prototype.clearRect=function(P,B,V,U){if(isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U))throw Ir.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(P,B,V,U))},p.prototype.save=function(P){P=typeof P!="boolean"||P;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("q");if(this.pdf.setPage(B),P){this.ctx.fontSize=this.pdf.internal.getFontSize();var U=new c(this.ctx);this.ctxStack.push(this.ctx),this.ctx=U}},p.prototype.restore=function(P){P=typeof P!="boolean"||P;for(var B=this.pdf.internal.getCurrentPageInfo().pageNumber,V=0;V<this.pdf.internal.getNumberOfPages();V++)this.pdf.setPage(V+1),this.pdf.internal.out("Q");this.pdf.setPage(B),P&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},p.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var m=function(P){var B,V,U,Y;if(P.isCanvasGradient===!0&&(P=P.getColor()),!P)return{r:0,g:0,b:0,a:0,style:P};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(P))B=0,V=0,U=0,Y=0;else{var pe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(P);if(pe!==null)B=parseInt(pe[1]),V=parseInt(pe[2]),U=parseInt(pe[3]),Y=1;else if((pe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(P))!==null)B=parseInt(pe[1]),V=parseInt(pe[2]),U=parseInt(pe[3]),Y=parseFloat(pe[4]);else{if(Y=1,typeof P=="string"&&P.charAt(0)!=="#"){var me=new OE(P);P=me.ok?me.toHex():"#000000"}P.length===4?(B=P.substring(1,2),B+=B,V=P.substring(2,3),V+=V,U=P.substring(3,4),U+=U):(B=P.substring(1,3),V=P.substring(3,5),U=P.substring(5,7)),B=parseInt(B,16),V=parseInt(V,16),U=parseInt(U,16)}}return{r:B,g:V,b:U,a:Y,style:P}},d=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},y=function(){return!!(this.ctx.isStrokeTransparent||this.globalAlpha==0)};p.prototype.fillText=function(P,B,V,U){if(isNaN(B)||isNaN(V)||typeof P!="string")throw Ir.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(U=isNaN(U)?void 0:U,!d.call(this)){var Y=X(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;b.call(this,{text:P,x:B,y:V,scale:pe,angle:Y,align:this.textAlign,maxWidth:U})}},p.prototype.strokeText=function(P,B,V,U){if(isNaN(B)||isNaN(V)||typeof P!="string")throw Ir.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!y.call(this)){U=isNaN(U)?void 0:U;var Y=X(this.ctx.transform.rotation),pe=this.ctx.transform.scaleX;b.call(this,{text:P,x:B,y:V,scale:pe,renderingMode:"stroke",angle:Y,align:this.textAlign,maxWidth:U})}},p.prototype.measureText=function(P){if(typeof P!="string")throw Ir.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var B=this.pdf,V=this.pdf.internal.scaleFactor,U=B.internal.getFontSize(),Y=B.getStringUnitWidth(P)*U/B.internal.scaleFactor,pe=function(me){var ge=(me=me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return ge}}),this};return new pe({width:Y*=Math.round(96*V/72*1e4)/1e4})},p.prototype.scale=function(P,B){if(isNaN(P)||isNaN(B))throw Ir.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var V=new l(P,0,0,B,0,0);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.rotate=function(P){if(isNaN(P))throw Ir.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var B=new l(Math.cos(P),Math.sin(P),-Math.sin(P),Math.cos(P),0,0);this.ctx.transform=this.ctx.transform.multiply(B)},p.prototype.translate=function(P,B){if(isNaN(P)||isNaN(B))throw Ir.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var V=new l(1,0,0,1,P,B);this.ctx.transform=this.ctx.transform.multiply(V)},p.prototype.transform=function(P,B,V,U,Y,pe){if(isNaN(P)||isNaN(B)||isNaN(V)||isNaN(U)||isNaN(Y)||isNaN(pe))throw Ir.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var me=new l(P,B,V,U,Y,pe);this.ctx.transform=this.ctx.transform.multiply(me)},p.prototype.setTransform=function(P,B,V,U,Y,pe){P=isNaN(P)?1:P,B=isNaN(B)?0:B,V=isNaN(V)?0:V,U=isNaN(U)?1:U,Y=isNaN(Y)?0:Y,pe=isNaN(pe)?0:pe,this.ctx.transform=new l(P,B,V,U,Y,pe)};var v=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};p.prototype.drawImage=function(P,B,V,U,Y,pe,me,ge,Te){var Me=this.pdf.getImageProperties(P),Ve=1,Je=1,st=1,Re=1;U!==void 0&&ge!==void 0&&(st=ge/U,Re=Te/Y,Ve=Me.width/U*ge/U,Je=Me.height/Y*Te/Y),pe===void 0&&(pe=B,me=V,B=0,V=0),U!==void 0&&ge===void 0&&(ge=U,Te=Y),U===void 0&&ge===void 0&&(ge=Me.width,Te=Me.height);for(var fe,He=this.ctx.transform.decompose(),mt=X(He.rotate.shx),Ge=new l,tt=(Ge=(Ge=(Ge=Ge.multiply(He.translate)).multiply(He.skew)).multiply(He.scale)).applyToRectangle(new o(pe-B*st,me-V*Re,U*Ve,Y*Je)),ot=T.call(this,tt),lt=[],wt=0;wt<ot.length;wt+=1)lt.indexOf(ot[wt])===-1&&lt.push(ot[wt]);if(E(lt),this.autoPaging)for(var Et=lt[0],Lt=lt[lt.length-1],At=Et;At<Lt+1;At++){this.pdf.setPage(At);var Nt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Ht=At===1?this.posY+this.margin[0]:this.margin[0],It=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Ut=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],ht=At===1?0:It+(At-2)*Ut;if(this.ctx.clip_path.length!==0){var Fr=this.path;fe=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(fe,this.posX+this.margin[3],-ht+Ht+this.ctx.prevPageLastElemOffset),j.call(this,"fill",!0),this.path=Fr}var qt=JSON.parse(JSON.stringify(tt));qt=x([qt],this.posX+this.margin[3],-ht+Ht+this.ctx.prevPageLastElemOffset)[0];var Vn=(At>Et||At<Lt)&&v.call(this);Vn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Nt,Ut,null).clip().discardPath()),this.pdf.addImage(P,"JPEG",qt.x,qt.y,qt.w,qt.h,null,null,mt),Vn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(P,"JPEG",tt.x,tt.y,tt.w,tt.h,null,null,mt)};var T=function(P,B,V){var U=[];B=B||this.pdf.internal.pageSize.width,V=V||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Y=this.posY+this.ctx.prevPageLastElemOffset;switch(P.type){default:case"mt":case"lt":U.push(Math.floor((P.y+Y)/V)+1);break;case"arc":U.push(Math.floor((P.y+Y-P.radius)/V)+1),U.push(Math.floor((P.y+Y+P.radius)/V)+1);break;case"qct":var pe=ee(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x,P.y);U.push(Math.floor((pe.y+Y)/V)+1),U.push(Math.floor((pe.y+pe.h+Y)/V)+1);break;case"bct":var me=he(this.ctx.lastPoint.x,this.ctx.lastPoint.y,P.x1,P.y1,P.x2,P.y2,P.x,P.y);U.push(Math.floor((me.y+Y)/V)+1),U.push(Math.floor((me.y+me.h+Y)/V)+1);break;case"rect":U.push(Math.floor((P.y+Y)/V)+1),U.push(Math.floor((P.y+P.h+Y)/V)+1)}for(var ge=0;ge<U.length;ge+=1)for(;this.pdf.internal.getNumberOfPages()<U[ge];)_.call(this);return U},_=function(){var P=this.fillStyle,B=this.strokeStyle,V=this.font,U=this.lineCap,Y=this.lineWidth,pe=this.lineJoin;this.pdf.addPage(),this.fillStyle=P,this.strokeStyle=B,this.font=V,this.lineCap=U,this.lineWidth=Y,this.lineJoin=pe},x=function(P,B,V){for(var U=0;U<P.length;U++)switch(P[U].type){case"bct":P[U].x2+=B,P[U].y2+=V;case"qct":P[U].x1+=B,P[U].y1+=V;case"mt":case"lt":case"arc":default:P[U].x+=B,P[U].y+=V}return P},E=function(P){return P.sort(function(B,V){return B-V})},L=function(P,B){for(var V,U,Y=this.fillStyle,pe=this.strokeStyle,me=this.lineCap,ge=this.lineWidth,Te=Math.abs(ge*this.ctx.transform.scaleX),Me=this.lineJoin,Ve=JSON.parse(JSON.stringify(this.path)),Je=JSON.parse(JSON.stringify(this.path)),st=[],Re=0;Re<Je.length;Re++)if(Je[Re].x!==void 0)for(var fe=T.call(this,Je[Re]),He=0;He<fe.length;He+=1)st.indexOf(fe[He])===-1&&st.push(fe[He]);for(var mt=0;mt<st.length;mt++)for(;this.pdf.internal.getNumberOfPages()<st[mt];)_.call(this);if(E(st),this.autoPaging)for(var Ge=st[0],tt=st[st.length-1],ot=Ge;ot<tt+1;ot++){this.pdf.setPage(ot),this.fillStyle=Y,this.strokeStyle=pe,this.lineCap=me,this.lineWidth=Te,this.lineJoin=Me;var lt=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],wt=ot===1?this.posY+this.margin[0]:this.margin[0],Et=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Lt=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],At=ot===1?0:Et+(ot-2)*Lt;if(this.ctx.clip_path.length!==0){var Nt=this.path;V=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(V,this.posX+this.margin[3],-At+wt+this.ctx.prevPageLastElemOffset),j.call(this,P,!0),this.path=Nt}if(U=JSON.parse(JSON.stringify(Ve)),this.path=x(U,this.posX+this.margin[3],-At+wt+this.ctx.prevPageLastElemOffset),B===!1||ot===0){var Ht=(ot>Ge||ot<tt)&&v.call(this);Ht&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],lt,Lt,null).clip().discardPath()),j.call(this,P,B),Ht&&this.pdf.restoreGraphicsState()}this.lineWidth=ge}else this.lineWidth=Te,j.call(this,P,B),this.lineWidth=ge;this.path=Ve},j=function(P,B){if((P!=="stroke"||B||!y.call(this))&&(P==="stroke"||B||!d.call(this))){for(var V,U,Y=[],pe=this.path,me=0;me<pe.length;me++){var ge=pe[me];switch(ge.type){case"begin":Y.push({begin:!0});break;case"close":Y.push({close:!0});break;case"mt":Y.push({start:ge,deltas:[],abs:[]});break;case"lt":var Te=Y.length;if(pe[me-1]&&!isNaN(pe[me-1].x)&&(V=[ge.x-pe[me-1].x,ge.y-pe[me-1].y],Te>0)){for(;Te>=0;Te--)if(Y[Te-1].close!==!0&&Y[Te-1].begin!==!0){Y[Te-1].deltas.push(V),Y[Te-1].abs.push(ge);break}}break;case"bct":V=[ge.x1-pe[me-1].x,ge.y1-pe[me-1].y,ge.x2-pe[me-1].x,ge.y2-pe[me-1].y,ge.x-pe[me-1].x,ge.y-pe[me-1].y],Y[Y.length-1].deltas.push(V);break;case"qct":var Me=pe[me-1].x+2/3*(ge.x1-pe[me-1].x),Ve=pe[me-1].y+2/3*(ge.y1-pe[me-1].y),Je=ge.x+2/3*(ge.x1-ge.x),st=ge.y+2/3*(ge.y1-ge.y),Re=ge.x,fe=ge.y;V=[Me-pe[me-1].x,Ve-pe[me-1].y,Je-pe[me-1].x,st-pe[me-1].y,Re-pe[me-1].x,fe-pe[me-1].y],Y[Y.length-1].deltas.push(V);break;case"arc":Y.push({deltas:[],abs:[],arc:!0}),Array.isArray(Y[Y.length-1].abs)&&Y[Y.length-1].abs.push(ge)}}U=B?null:P==="stroke"?"stroke":"fill";for(var He=!1,mt=0;mt<Y.length;mt++)if(Y[mt].arc)for(var Ge=Y[mt].abs,tt=0;tt<Ge.length;tt++){var ot=Ge[tt];ot.type==="arc"?S.call(this,ot.x,ot.y,ot.radius,ot.startAngle,ot.endAngle,ot.counterclockwise,void 0,B,!He):D.call(this,ot.x,ot.y),He=!0}else if(Y[mt].close===!0)this.pdf.internal.out("h"),He=!1;else if(Y[mt].begin!==!0){var lt=Y[mt].start.x,wt=Y[mt].start.y;Z.call(this,Y[mt].deltas,lt,wt),He=!0}U&&I.call(this,U),B&&F.call(this)}},z=function(P){var B=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,V=B*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return P-V;case"top":return P+B-V;case"hanging":return P+B-2*V;case"middle":return P+B/2-V;case"ideographic":return P;case"alphabetic":default:return P}},w=function(P){return P+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};p.prototype.createLinearGradient=function(){var P=function(){};return P.colorStops=[],P.addColorStop=function(B,V){this.colorStops.push([B,V])},P.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},P.isCanvasGradient=!0,P},p.prototype.createPattern=function(){return this.createLinearGradient()},p.prototype.createRadialGradient=function(){return this.createLinearGradient()};var S=function(P,B,V,U,Y,pe,me,ge,Te){for(var Me=se.call(this,V,U,Y,pe),Ve=0;Ve<Me.length;Ve++){var Je=Me[Ve];Ve===0&&(Te?N.call(this,Je.x1+P,Je.y1+B):D.call(this,Je.x1+P,Je.y1+B)),de.call(this,P,B,Je.x2,Je.y2,Je.x3,Je.y3,Je.x4,Je.y4)}ge?F.call(this):I.call(this,me)},I=function(P){switch(P){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},F=function(){this.pdf.clip(),this.pdf.discardPath()},N=function(P,B){this.pdf.internal.out(r(P)+" "+n(B)+" m")},b=function(P){var B;switch(P.align){case"right":case"end":B="right";break;case"center":B="center";break;case"left":case"start":default:B="left"}var V=this.pdf.getTextDimensions(P.text),U=z.call(this,P.y),Y=w.call(this,U)-V.h,pe=this.ctx.transform.applyToPoint(new a(P.x,U)),me=this.ctx.transform.decompose(),ge=new l;ge=(ge=(ge=ge.multiply(me.translate)).multiply(me.skew)).multiply(me.scale);for(var Te,Me,Ve,Je=this.ctx.transform.applyToRectangle(new o(P.x,U,V.w,V.h)),st=ge.applyToRectangle(new o(P.x,Y,V.w,V.h)),Re=T.call(this,st),fe=[],He=0;He<Re.length;He+=1)fe.indexOf(Re[He])===-1&&fe.push(Re[He]);if(E(fe),this.autoPaging)for(var mt=fe[0],Ge=fe[fe.length-1],tt=mt;tt<Ge+1;tt++){this.pdf.setPage(tt);var ot=tt===1?this.posY+this.margin[0]:this.margin[0],lt=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],wt=this.pdf.internal.pageSize.height-this.margin[2],Et=wt-this.margin[0],Lt=this.pdf.internal.pageSize.width-this.margin[1],At=Lt-this.margin[3],Nt=tt===1?0:lt+(tt-2)*Et;if(this.ctx.clip_path.length!==0){var Ht=this.path;Te=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=x(Te,this.posX+this.margin[3],-1*Nt+ot),j.call(this,"fill",!0),this.path=Ht}var It=x([JSON.parse(JSON.stringify(st))],this.posX+this.margin[3],-Nt+ot+this.ctx.prevPageLastElemOffset)[0];P.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*P.scale),Ve=this.lineWidth,this.lineWidth=Ve*P.scale);var Ut=this.autoPaging!=="text";if(Ut||It.y+It.h<=wt){if(Ut||It.y>=ot&&It.x<=Lt){var ht=Ut?P.text:this.pdf.splitTextToSize(P.text,P.maxWidth||Lt-It.x)[0],Fr=x([JSON.parse(JSON.stringify(Je))],this.posX+this.margin[3],-Nt+ot+this.ctx.prevPageLastElemOffset)[0],qt=Ut&&(tt>mt||tt<Ge)&&v.call(this);qt&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],At,Et,null).clip().discardPath()),this.pdf.text(ht,Fr.x,Fr.y,{angle:P.angle,align:B,renderingMode:P.renderingMode}),qt&&this.pdf.restoreGraphicsState()}}else It.y<wt&&(this.ctx.prevPageLastElemOffset+=wt-It.y);P.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Ve)}else P.scale>=.01&&(Me=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Me*P.scale),Ve=this.lineWidth,this.lineWidth=Ve*P.scale),this.pdf.text(P.text,pe.x+this.posX,pe.y+this.posY,{angle:P.angle,align:B,renderingMode:P.renderingMode,maxWidth:P.maxWidth}),P.scale>=.01&&(this.pdf.setFontSize(Me),this.lineWidth=Ve)},D=function(P,B,V,U){V=V||0,U=U||0,this.pdf.internal.out(r(P+V)+" "+n(B+U)+" l")},Z=function(P,B,V){return this.pdf.lines(P,B,V,null,null)},de=function(P,B,V,U,Y,pe,me,ge){this.pdf.internal.out([e(i(V+P)),e(s(U+B)),e(i(Y+P)),e(s(pe+B)),e(i(me+P)),e(s(ge+B)),"c"].join(" "))},se=function(P,B,V,U){for(var Y=2*Math.PI,pe=Math.PI/2;B>V;)B-=Y;var me=Math.abs(V-B);me<Y&&U&&(me=Y-me);for(var ge=[],Te=U?-1:1,Me=B;me>1e-5;){var Ve=Me+Te*Math.min(me,pe);ge.push(re.call(this,P,Me,Ve)),me-=Math.abs(Ve-Me),Me=Ve}return ge},re=function(P,B,V){var U=(V-B)/2,Y=P*Math.cos(U),pe=P*Math.sin(U),me=Y,ge=-pe,Te=me*me+ge*ge,Me=Te+me*Y+ge*pe,Ve=4/3*(Math.sqrt(2*Te*Me)-Me)/(me*pe-ge*Y),Je=me-Ve*ge,st=ge+Ve*me,Re=Je,fe=-st,He=U+B,mt=Math.cos(He),Ge=Math.sin(He);return{x1:P*Math.cos(B),y1:P*Math.sin(B),x2:Je*mt-st*Ge,y2:Je*Ge+st*mt,x3:Re*mt-fe*Ge,y3:Re*Ge+fe*mt,x4:P*Math.cos(V),y4:P*Math.sin(V)}},X=function(P){return 180*P/Math.PI},ee=function(P,B,V,U,Y,pe){var me=P+.5*(V-P),ge=B+.5*(U-B),Te=Y+.5*(V-Y),Me=pe+.5*(U-pe),Ve=Math.min(P,Y,me,Te),Je=Math.max(P,Y,me,Te),st=Math.min(B,pe,ge,Me),Re=Math.max(B,pe,ge,Me);return new o(Ve,st,Je-Ve,Re-st)},he=function(P,B,V,U,Y,pe,me,ge){var Te,Me,Ve,Je,st,Re,fe,He,mt,Ge,tt,ot,lt,wt,Et=V-P,Lt=U-B,At=Y-V,Nt=pe-U,Ht=me-Y,It=ge-pe;for(Me=0;Me<41;Me++)mt=(fe=(Ve=P+(Te=Me/40)*Et)+Te*((st=V+Te*At)-Ve))+Te*(st+Te*(Y+Te*Ht-st)-fe),Ge=(He=(Je=B+Te*Lt)+Te*((Re=U+Te*Nt)-Je))+Te*(Re+Te*(pe+Te*It-Re)-He),Me==0?(tt=mt,ot=Ge,lt=mt,wt=Ge):(tt=Math.min(tt,mt),ot=Math.min(ot,Ge),lt=Math.max(lt,mt),wt=Math.max(wt,Ge));return new o(Math.round(tt),Math.round(ot),Math.round(lt-tt),Math.round(wt-ot))},we=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var P,B,V=(P=this.ctx.lineDash,B=this.ctx.lineDashOffset,JSON.stringify({lineDash:P,lineDashOffset:B}));this.prevLineDash!==V&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=V)}}})(Ct.API),function(t){var e=function(s){var a,o,l,u,c,p,m,d,y,v;for(o=[],l=0,u=(s+=a="\0\0\0\0".slice(s.length%4||4)).length;u>l;l+=4)(c=(s.charCodeAt(l)<<24)+(s.charCodeAt(l+1)<<16)+(s.charCodeAt(l+2)<<8)+s.charCodeAt(l+3))!==0?(p=(c=((c=((c=((c=(c-(v=c%85))/85)-(y=c%85))/85)-(d=c%85))/85)-(m=c%85))/85)%85,o.push(p+33,m+33,d+33,y+33,v+33)):o.push(122);return function(T,_){for(var x=_;x>0;x--)T.pop()}(o,a.length),String.fromCharCode.apply(String,o)+"~>"},r=function(s){var a,o,l,u,c,p=String,m="length",d=255,y="charCodeAt",v="slice",T="replace";for(s[v](-2),s=s[v](0,-2)[T](/\s/g,"")[T]("z","!!!!!"),l=[],u=0,c=(s+=a="uuuuu"[v](s[m]%5||5))[m];c>u;u+=5)o=52200625*(s[y](u)-33)+614125*(s[y](u+1)-33)+7225*(s[y](u+2)-33)+85*(s[y](u+3)-33)+(s[y](u+4)-33),l.push(d&o>>24,d&o>>16,d&o>>8,d&o);return function(_,x){for(var E=x;E>0;E--)_.pop()}(l,a[m]),p.fromCharCode.apply(p,l)},n=function(s){var a=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((s=s.replace(/\s/g,"")).indexOf(">")!==-1&&(s=s.substr(0,s.indexOf(">"))),s.length%2&&(s+="0"),a.test(s)===!1)return"";for(var o="",l=0;l<s.length;l+=2)o+=String.fromCharCode("0x"+(s[l]+s[l+1]));return o},i=function(s){for(var a=new Uint8Array(s.length),o=s.length;o--;)a[o]=s.charCodeAt(o);return s=(a=L2(a)).reduce(function(l,u){return l+String.fromCharCode(u)},"")};t.processDataByFilters=function(s,a){var o=0,l=s||"",u=[];for(typeof(a=a||[])=="string"&&(a=[a]),o=0;o<a.length;o+=1)switch(a[o]){case"ASCII85Decode":case"/ASCII85Decode":l=r(l),u.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":l=e(l),u.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":l=n(l),u.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":l=l.split("").map(function(c){return("0"+c.charCodeAt().toString(16)).slice(-2)}).join("")+">",u.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":l=i(l),u.push("/FlateDecode");break;default:throw new Error('The filter: "'+a[o]+'" is not implemented')}return{data:l,reverseChain:u.reverse().join(" ")}}}(Ct.API),function(t){t.loadFile=function(e,r,n){return function(i,s,a){s=s!==!1,a=typeof a=="function"?a:function(){};var o=void 0;try{o=function(l,u,c){var p=new XMLHttpRequest,m=0,d=function(y){var v=y.length,T=[],_=String.fromCharCode;for(m=0;m<v;m+=1)T.push(_(255&y.charCodeAt(m)));return T.join("")};if(p.open("GET",l,!u),p.overrideMimeType("text/plain; charset=x-user-defined"),u===!1&&(p.onload=function(){p.status===200?c(d(this.responseText)):c(void 0)}),p.send(null),u&&p.status===200)return d(p.responseText)}(i,s,a)}catch{}return o}(e,r,n)},t.loadImageFile=t.loadFile}(Ct.API),function(t){function e(){return(Ft.html2canvas?Promise.resolve(Ft.html2canvas):N2(()=>import("./html2canvas.esm-CBrSDip1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load html2canvas: "+a))}).then(function(a){return a.default?a.default:a})}function r(){return(Ft.DOMPurify?Promise.resolve(Ft.DOMPurify):N2(()=>import("./purify.es-C_uT9hQ1.js"),[])).catch(function(a){return Promise.reject(new Error("Could not load dompurify: "+a))}).then(function(a){return a.default?a.default:a})}var n=function(a){var o=vr(a);return o==="undefined"?"undefined":o==="string"||a instanceof String?"string":o==="number"||a instanceof Number?"number":o==="function"||a instanceof Function?"function":a&&a.constructor===Array?"array":a&&a.nodeType===1?"element":o==="object"?"object":"unknown"},i=function(a,o){var l=document.createElement(a);for(var u in o.className&&(l.className=o.className),o.innerHTML&&o.dompurify&&(l.innerHTML=o.dompurify.sanitize(o.innerHTML)),o.style)l.style[u]=o.style[u];return l},s=function a(o){var l=Object.assign(a.convert(Promise.resolve()),JSON.parse(JSON.stringify(a.template))),u=a.convert(Promise.resolve(),l);return u=(u=u.setProgress(1,a,1,[a])).set(o)};(s.prototype=Object.create(Promise.prototype)).constructor=s,s.convert=function(a,o){return a.__proto__=o||s.prototype,a},s.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},s.prototype.from=function(a,o){return this.then(function(){switch(o=o||function(l){switch(n(l)){case"string":return"string";case"element":return l.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(a)){case"string":return this.then(r).then(function(l){return this.set({src:i("div",{innerHTML:a,dompurify:l})})});case"element":return this.set({src:a});case"canvas":return this.set({canvas:a});case"img":return this.set({img:a});default:return this.error("Unknown source type.")}})},s.prototype.to=function(a){switch(a){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},s.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var a={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},o=function l(u,c){for(var p=u.nodeType===3?document.createTextNode(u.nodeValue):u.cloneNode(!1),m=u.firstChild;m;m=m.nextSibling)c!==!0&&m.nodeType===1&&m.nodeName==="SCRIPT"||p.appendChild(l(m,c));return u.nodeType===1&&(u.nodeName==="CANVAS"?(p.width=u.width,p.height=u.height,p.getContext("2d").drawImage(u,0,0)):u.nodeName!=="TEXTAREA"&&u.nodeName!=="SELECT"||(p.value=u.value),p.addEventListener("load",function(){p.scrollTop=u.scrollTop,p.scrollLeft=u.scrollLeft},!0)),p}(this.prop.src,this.opt.html2canvas.javascriptEnabled);o.tagName==="BODY"&&(a.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=i("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=i("div",{className:"html2pdf__container",style:a}),this.prop.container.appendChild(o),this.prop.container.firstChild.appendChild(i("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},s.prototype.toCanvas=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=Object.assign({},this.opt.html2canvas);return delete l.onrendered,o(this.prop.container,l)}).then(function(o){(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toContext2d=function(){var a=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(a).then(e).then(function(o){var l=this.opt.jsPDF,u=this.opt.fontFaces,c=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,p=Object.assign({async:!0,allowTaint:!0,scale:c,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete p.onrendered,l.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,l.context2d.posX=this.opt.x,l.context2d.posY=this.opt.y,l.context2d.margin=this.opt.margin,l.context2d.fontFaces=u,u)for(var m=0;m<u.length;++m){var d=u[m],y=d.src.find(function(v){return v.format==="truetype"});y&&l.addFont(y.url,d.ref.name,d.ref.style)}return p.windowHeight=p.windowHeight||0,p.windowHeight=p.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):p.windowHeight,l.context2d.save(!0),o(this.prop.container,p)}).then(function(o){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(o),this.prop.canvas=o,document.body.removeChild(this.prop.overlay)})},s.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var a=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=a})},s.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},s.prototype.output=function(a,o,l){return(l=l||"pdf").toLowerCase()==="img"||l.toLowerCase()==="image"?this.outputImg(a,o):this.outputPdf(a,o)},s.prototype.outputPdf=function(a,o){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(a,o)})},s.prototype.outputImg=function(a){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(a){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+a+'" is not supported.'}})},s.prototype.save=function(a){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(a?{filename:a}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},s.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},s.prototype.set=function(a){if(n(a)!=="object")return this;var o=Object.keys(a||{}).map(function(l){if(l in s.template.prop)return function(){this.prop[l]=a[l]};switch(l){case"margin":return this.setMargin.bind(this,a.margin);case"jsPDF":return function(){return this.opt.jsPDF=a.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,a.pageSize);default:return function(){this.opt[l]=a[l]}}},this);return this.then(function(){return this.thenList(o)})},s.prototype.get=function(a,o){return this.then(function(){var l=a in s.template.prop?this.prop[a]:this.opt[a];return o?o(l):l})},s.prototype.setMargin=function(a){return this.then(function(){switch(n(a)){case"number":a=[a,a,a,a];case"array":if(a.length===2&&(a=[a[0],a[1],a[0],a[1]]),a.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=a}).then(this.setPageSize)},s.prototype.setPageSize=function(a){function o(l,u){return Math.floor(l*u/72*96)}return this.then(function(){(a=a||Ct.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(a.inner={width:a.width-this.opt.margin[1]-this.opt.margin[3],height:a.height-this.opt.margin[0]-this.opt.margin[2]},a.inner.px={width:o(a.inner.width,a.k),height:o(a.inner.height,a.k)},a.inner.ratio=a.inner.height/a.inner.width),this.prop.pageSize=a})},s.prototype.setProgress=function(a,o,l,u){return a!=null&&(this.progress.val=a),o!=null&&(this.progress.state=o),l!=null&&(this.progress.n=l),u!=null&&(this.progress.stack=u),this.progress.ratio=this.progress.val/this.progress.state,this},s.prototype.updateProgress=function(a,o,l,u){return this.setProgress(a?this.progress.val+a:null,o||null,l?this.progress.n+l:null,u?this.progress.stack.concat(u):null)},s.prototype.then=function(a,o){var l=this;return this.thenCore(a,o,function(u,c){return l.updateProgress(null,null,1,[u]),Promise.prototype.then.call(this,function(p){return l.updateProgress(null,u),p}).then(u,c).then(function(p){return l.updateProgress(1),p})})},s.prototype.thenCore=function(a,o,l){l=l||Promise.prototype.then,a&&(a=a.bind(this)),o&&(o=o.bind(this));var u=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:s.convert(Object.assign({},this),Promise.prototype),c=l.call(u,a,o);return s.convert(c,this.__proto__)},s.prototype.thenExternal=function(a,o){return Promise.prototype.then.call(this,a,o)},s.prototype.thenList=function(a){var o=this;return a.forEach(function(l){o=o.thenCore(l)}),o},s.prototype.catch=function(a){a&&(a=a.bind(this));var o=Promise.prototype.catch.call(this,a);return s.convert(o,this)},s.prototype.catchExternal=function(a){return Promise.prototype.catch.call(this,a)},s.prototype.error=function(a){return this.then(function(){throw new Error(a)})},s.prototype.using=s.prototype.set,s.prototype.saveAs=s.prototype.save,s.prototype.export=s.prototype.output,s.prototype.run=s.prototype.then,Ct.getPageSize=function(a,o,l){if(vr(a)==="object"){var u=a;a=u.orientation,o=u.unit||o,l=u.format||l}o=o||"mm",l=l||"a4",a=(""+(a||"P")).toLowerCase();var c,p=(""+l).toLowerCase(),m={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(o){case"pt":c=1;break;case"mm":c=72/25.4;break;case"cm":c=72/2.54;break;case"in":c=72;break;case"px":c=.75;break;case"pc":case"em":c=12;break;case"ex":c=6;break;default:throw"Invalid unit: "+o}var d,y=0,v=0;if(m.hasOwnProperty(p))y=m[p][1]/c,v=m[p][0]/c;else try{y=l[1],v=l[0]}catch{throw new Error("Invalid format: "+l)}if(a==="p"||a==="portrait")a="p",v>y&&(d=v,v=y,y=d);else{if(a!=="l"&&a!=="landscape")throw"Invalid orientation: "+a;a="l",y>v&&(d=v,v=y,y=d)}return{width:v,height:y,unit:o,k:c,orientation:a}},t.html=function(a,o){(o=o||{}).callback=o.callback||function(){},o.html2canvas=o.html2canvas||{},o.html2canvas.canvas=o.html2canvas.canvas||this.canvas,o.jsPDF=o.jsPDF||this,o.fontFaces=o.fontFaces?o.fontFaces.map(j2):null;var l=new s(o);return o.worker?l:l.from(a).doCallback()}}(Ct.API),Ct.API.addJS=function(t){return H_=t,this.internal.events.subscribe("postPutResources",function(){Ld=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Ld+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),z_=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+H_+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Ld!==void 0&&z_!==void 0&&this.internal.out("/Names <</JavaScript "+Ld+" 0 R>>")}),this},function(t){var e;t.events.push(["postPutResources",function(){var r=this,n=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var i=r.outline.render().split(/\r\n/),s=0;s<i.length;s++){var a=i[s],o=n.exec(a);if(o!=null){var l=o[1];r.internal.newObjectDeferredBegin(l,!1)}r.internal.write(a)}if(this.outline.createNamedDestinations){var u=this.internal.pages.length,c=[];for(s=0;s<u;s++){var p=r.internal.newObject();c.push(p);var m=r.internal.getPageInfo(s+1);r.internal.write("<< /D["+m.objId+" 0 R /XYZ null null null]>> endobj")}var d=r.internal.newObject();for(r.internal.write("<< /Names [ "),s=0;s<c.length;s++)r.internal.write("(page_"+(s+1)+")"+c[s]+" 0 R");r.internal.write(" ] >>","endobj"),e=r.internal.newObject(),r.internal.write("<< /Dests "+d+" 0 R"),r.internal.write(">>","endobj")}}]),t.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+e+" 0 R"))}]),t.events.push(["initialized",function(){var r=this;r.outline={createNamedDestinations:!1,root:{children:[]}},r.outline.add=function(n,i,s){var a={title:i,options:s,children:[]};return n==null&&(n=this.root),n.children.push(a),a},r.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=r,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},r.outline.genIds_r=function(n){n.id=r.internal.newObjectDeferred();for(var i=0;i<n.children.length;i++)this.genIds_r(n.children[i])},r.outline.renderRoot=function(n){this.objStart(n),this.line("/Type /Outlines"),n.children.length>0&&(this.line("/First "+this.makeRef(n.children[0])),this.line("/Last "+this.makeRef(n.children[n.children.length-1]))),this.line("/Count "+this.count_r({count:0},n)),this.objEnd()},r.outline.renderItems=function(n){for(var i=this.ctx.pdf.internal.getVerticalCoordinateString,s=0;s<n.children.length;s++){var a=n.children[s];this.objStart(a),this.line("/Title "+this.makeString(a.title)),this.line("/Parent "+this.makeRef(n)),s>0&&this.line("/Prev "+this.makeRef(n.children[s-1])),s<n.children.length-1&&this.line("/Next "+this.makeRef(n.children[s+1])),a.children.length>0&&(this.line("/First "+this.makeRef(a.children[0])),this.line("/Last "+this.makeRef(a.children[a.children.length-1])));var o=this.count=this.count_r({count:0},a);if(o>0&&this.line("/Count "+o),a.options&&a.options.pageNumber){var l=r.internal.getPageInfo(a.options.pageNumber);this.line("/Dest ["+l.objId+" 0 R /XYZ 0 "+i(0)+" 0]")}this.objEnd()}for(var u=0;u<n.children.length;u++)this.renderItems(n.children[u])},r.outline.line=function(n){this.ctx.val+=n+`\r
`},r.outline.makeRef=function(n){return n.id+" 0 R"},r.outline.makeString=function(n){return"("+r.internal.pdfEscape(n)+")"},r.outline.objStart=function(n){this.ctx.val+=`\r
`+n.id+` 0 obj\r
<<\r
`},r.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},r.outline.count_r=function(n,i){for(var s=0;s<i.children.length;s++)n.count++,this.count_r(n,i.children[s]);return n.count}}])}(Ct.API),function(t){var e=[192,193,194,195,196,197,198,199];t.processJPEG=function(r,n,i,s,a,o){var l,u=this.decode.DCT_DECODE,c=null;if(typeof r=="string"||this.__addimage__.isArrayBuffer(r)||this.__addimage__.isArrayBufferView(r)){switch(r=a||r,r=this.__addimage__.isArrayBuffer(r)?new Uint8Array(r):r,(l=function(p){for(var m,d=256*p.charCodeAt(4)+p.charCodeAt(5),y=p.length,v={width:0,height:0,numcomponents:1},T=4;T<y;T+=2){if(T+=d,e.indexOf(p.charCodeAt(T+1))!==-1){m=256*p.charCodeAt(T+5)+p.charCodeAt(T+6),v={width:256*p.charCodeAt(T+7)+p.charCodeAt(T+8),height:m,numcomponents:p.charCodeAt(T+9)};break}d=256*p.charCodeAt(T+2)+p.charCodeAt(T+3)}return v}(r=this.__addimage__.isArrayBufferView(r)?this.__addimage__.arrayBufferToBinaryString(r):r)).numcomponents){case 1:o=this.color_spaces.DEVICE_GRAY;break;case 4:o=this.color_spaces.DEVICE_CMYK;break;case 3:o=this.color_spaces.DEVICE_RGB}c={data:r,width:l.width,height:l.height,colorSpace:o,bitsPerComponent:8,filter:u,index:n,alias:i}}return c}}(Ct.API);var dc,Fd,W_,q_,G_,ML=function(){var t,e,r;function n(s){var a,o,l,u,c,p,m,d,y,v,T,_,x,E;for(this.data=s,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},p=null;;){switch(a=this.readUInt32(),y=(function(){var L,j;for(j=[],L=0;L<4;++L)j.push(String.fromCharCode(this.data[this.pos++]));return j}).call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(a);break;case"fcTL":p&&this.animation.frames.push(p),this.pos+=4,p={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},c=this.readUInt16(),u=this.readUInt16()||100,p.delay=1e3*c/u,p.disposeOp=this.data[this.pos++],p.blendOp=this.data[this.pos++],p.data=[];break;case"IDAT":case"fdAT":for(y==="fdAT"&&(this.pos+=4,a-=4),s=(p!=null?p.data:void 0)||this.imgData,_=0;0<=a?_<a:_>a;0<=a?++_:--_)s.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(l=this.palette.length/3,this.transparency.indexed=this.read(a),this.transparency.indexed.length>l)throw new Error("More transparent colors than palette size");if((v=l-this.transparency.indexed.length)>0)for(x=0;0<=v?x<v:x>v;0<=v?++x:--x)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(a)[0];break;case 2:this.transparency.rgb=this.read(a)}break;case"tEXt":m=(T=this.read(a)).indexOf(0),d=String.fromCharCode.apply(String,T.slice(0,m)),this.text[d]=String.fromCharCode.apply(String,T.slice(m+1));break;case"IEND":return p&&this.animation.frames.push(p),this.colors=(function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}).call(this),this.hasAlphaChannel=(E=this.colorType)===4||E===6,o=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*o,this.colorSpace=(function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}).call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=a}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}n.prototype.read=function(s){var a,o;for(o=[],a=0;0<=s?a<s:a>s;0<=s?++a:--a)o.push(this.data[this.pos++]);return o},n.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},n.prototype.decodePixels=function(s){var a=this.pixelBitlength/8,o=new Uint8Array(this.width*this.height*a),l=0,u=this;if(s==null&&(s=this.imgData),s.length===0)return new Uint8Array(0);function c(p,m,d,y){var v,T,_,x,E,L,j,z,w,S,I,F,N,b,D,Z,de,se,re,X,ee,he=Math.ceil((u.width-p)/d),we=Math.ceil((u.height-m)/y),P=u.width==he&&u.height==we;for(b=a*he,F=P?o:new Uint8Array(b*we),L=s.length,N=0,T=0;N<we&&l<L;){switch(s[l++]){case 0:for(x=de=0;de<b;x=de+=1)F[T++]=s[l++];break;case 1:for(x=se=0;se<b;x=se+=1)v=s[l++],E=x<a?0:F[T-a],F[T++]=(v+E)%256;break;case 2:for(x=re=0;re<b;x=re+=1)v=s[l++],_=(x-x%a)/a,D=N&&F[(N-1)*b+_*a+x%a],F[T++]=(D+v)%256;break;case 3:for(x=X=0;X<b;x=X+=1)v=s[l++],_=(x-x%a)/a,E=x<a?0:F[T-a],D=N&&F[(N-1)*b+_*a+x%a],F[T++]=(v+Math.floor((E+D)/2))%256;break;case 4:for(x=ee=0;ee<b;x=ee+=1)v=s[l++],_=(x-x%a)/a,E=x<a?0:F[T-a],N===0?D=Z=0:(D=F[(N-1)*b+_*a+x%a],Z=_&&F[(N-1)*b+(_-1)*a+x%a]),j=E+D-Z,z=Math.abs(j-E),S=Math.abs(j-D),I=Math.abs(j-Z),w=z<=S&&z<=I?E:S<=I?D:Z,F[T++]=(v+w)%256;break;default:throw new Error("Invalid filter algorithm: "+s[l-1])}if(!P){var B=((m+N*y)*u.width+p)*a,V=N*b;for(x=0;x<he;x+=1){for(var U=0;U<a;U+=1)o[B++]=F[V++];B+=(d-1)*a}}N++}}return s=pL(s),u.interlaceMethod==1?(c(0,0,8,8),c(4,0,8,8),c(0,4,4,8),c(2,0,4,4),c(0,2,2,4),c(1,0,2,2),c(0,1,1,2)):c(0,0,1,1),o},n.prototype.decodePalette=function(){var s,a,o,l,u,c,p,m,d;for(o=this.palette,c=this.transparency.indexed||[],u=new Uint8Array((c.length||0)+o.length),l=0,s=0,a=p=0,m=o.length;p<m;a=p+=3)u[l++]=o[a],u[l++]=o[a+1],u[l++]=o[a+2],u[l++]=(d=c[s++])!=null?d:255;return u},n.prototype.copyToImageData=function(s,a){var o,l,u,c,p,m,d,y,v,T,_;if(l=this.colors,v=null,o=this.hasAlphaChannel,this.palette.length&&(v=(_=this._decodedPalette)!=null?_:this._decodedPalette=this.decodePalette(),l=4,o=!0),y=(u=s.data||s).length,p=v||a,c=m=0,l===1)for(;c<y;)d=v?4*a[c/4]:m,T=p[d++],u[c++]=T,u[c++]=T,u[c++]=T,u[c++]=o?p[d++]:255,m=d;else for(;c<y;)d=v?4*a[c/4]:m,u[c++]=p[d++],u[c++]=p[d++],u[c++]=p[d++],u[c++]=o?p[d++]:255,m=d},n.prototype.decode=function(){var s;return s=new Uint8Array(this.width*this.height*4),this.copyToImageData(s,this.decodePixels()),s};var i=function(){if(Object.prototype.toString.call(Ft)==="[object Window]"){try{e=Ft.document.createElement("canvas"),r=e.getContext("2d")}catch{return!1}return!0}return!1};return i(),t=function(s){var a;if(i()===!0)return r.width=s.width,r.height=s.height,r.clearRect(0,0,s.width,s.height),r.putImageData(s,0,0),(a=new Image).src=e.toDataURL(),a;throw new Error("This method requires a Browser with Canvas-capability.")},n.prototype.decodeFrames=function(s){var a,o,l,u,c,p,m,d;if(this.animation){for(d=[],o=c=0,p=(m=this.animation.frames).length;c<p;o=++c)a=m[o],l=s.createImageData(a.width,a.height),u=this.decodePixels(new Uint8Array(a.data)),this.copyToImageData(l,u),a.imageData=l,d.push(a.image=t(l));return d}},n.prototype.renderFrame=function(s,a){var o,l,u;return o=(l=this.animation.frames)[a],u=l[a-1],a===0&&s.clearRect(0,0,this.width,this.height),(u!=null?u.disposeOp:void 0)===1?s.clearRect(u.xOffset,u.yOffset,u.width,u.height):(u!=null?u.disposeOp:void 0)===2&&s.putImageData(u.imageData,u.xOffset,u.yOffset),o.blendOp===0&&s.clearRect(o.xOffset,o.yOffset,o.width,o.height),s.drawImage(o.image,o.xOffset,o.yOffset)},n.prototype.animate=function(s){var a,o,l,u,c,p,m=this;return o=0,p=this.animation,u=p.numFrames,l=p.frames,c=p.numPlays,(a=function(){var d,y;if(d=o++%u,y=l[d],m.renderFrame(s,d),u>1&&o/u<c)return m.animation._timeout=setTimeout(a,y.delay)})()},n.prototype.stopAnimation=function(){var s;return clearTimeout((s=this.animation)!=null?s._timeout:void 0)},n.prototype.render=function(s){var a,o;return s._png&&s._png.stopAnimation(),s._png=this,s.width=this.width,s.height=this.height,a=s.getContext("2d"),this.animation?(this.decodeFrames(a),this.animate(a)):(o=a.createImageData(this.width,this.height),this.copyToImageData(o,this.decodePixels()),a.putImageData(o,0,0))},n}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function jL(t){var e=0;if(t[e++]!==71||t[e++]!==73||t[e++]!==70||t[e++]!==56||(t[e++]+1&253)!=56||t[e++]!==97)throw new Error("Invalid GIF 87a/89a header.");var r=t[e++]|t[e++]<<8,n=t[e++]|t[e++]<<8,i=t[e++],s=i>>7,a=1<<(7&i)+1;t[e++],t[e++];var o=null,l=null;s&&(o=e,l=a,e+=3*a);var u=!0,c=[],p=0,m=null,d=0,y=null;for(this.width=r,this.height=n;u&&e<t.length;)switch(t[e++]){case 33:switch(t[e++]){case 255:if(t[e]!==11||t[e+1]==78&&t[e+2]==69&&t[e+3]==84&&t[e+4]==83&&t[e+5]==67&&t[e+6]==65&&t[e+7]==80&&t[e+8]==69&&t[e+9]==50&&t[e+10]==46&&t[e+11]==48&&t[e+12]==3&&t[e+13]==1&&t[e+16]==0)e+=14,y=t[e++]|t[e++]<<8,e++;else for(e+=12;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;case 249:if(t[e++]!==4||t[e+4]!==0)throw new Error("Invalid graphics extension block.");var v=t[e++];p=t[e++]|t[e++]<<8,m=t[e++],!(1&v)&&(m=null),d=v>>2&7,e++;break;case 254:for(;;){if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}break;default:throw new Error("Unknown graphic control label: 0x"+t[e-1].toString(16))}break;case 44:var T=t[e++]|t[e++]<<8,_=t[e++]|t[e++]<<8,x=t[e++]|t[e++]<<8,E=t[e++]|t[e++]<<8,L=t[e++],j=L>>6&1,z=1<<(7&L)+1,w=o,S=l,I=!1;L>>7&&(I=!0,w=e,S=z,e+=3*z);var F=e;for(e++;;){var N;if(!((N=t[e++])>=0))throw Error("Invalid block size");if(N===0)break;e+=N}c.push({x:T,y:_,width:x,height:E,has_local_palette:I,palette_offset:w,palette_size:S,data_offset:F,data_length:e-F,transparent_index:m,interlaced:!!j,delay:p,disposal:d});break;case 59:u=!1;break;default:throw new Error("Unknown gif block: 0x"+t[e-1].toString(16))}this.numFrames=function(){return c.length},this.loopCount=function(){return y},this.frameInfo=function(b){if(b<0||b>=c.length)throw new Error("Frame index out of range.");return c[b]},this.decodeAndBlitFrameBGRA=function(b,D){var Z=this.frameInfo(b),de=Z.width*Z.height,se=new Uint8Array(de);$_(t,Z.data_offset,se,de);var re=Z.palette_offset,X=Z.transparent_index;X===null&&(X=256);var ee=Z.width,he=r-ee,we=ee,P=4*(Z.y*r+Z.x),B=4*((Z.y+Z.height)*r+Z.x),V=P,U=4*he;Z.interlaced===!0&&(U+=4*r*7);for(var Y=8,pe=0,me=se.length;pe<me;++pe){var ge=se[pe];if(we===0&&(we=ee,(V+=U)>=B&&(U=4*he+4*r*(Y-1),V=P+(ee+he)*(Y<<1),Y>>=1)),ge===X)V+=4;else{var Te=t[re+3*ge],Me=t[re+3*ge+1],Ve=t[re+3*ge+2];D[V++]=Ve,D[V++]=Me,D[V++]=Te,D[V++]=255}--we}},this.decodeAndBlitFrameRGBA=function(b,D){var Z=this.frameInfo(b),de=Z.width*Z.height,se=new Uint8Array(de);$_(t,Z.data_offset,se,de);var re=Z.palette_offset,X=Z.transparent_index;X===null&&(X=256);var ee=Z.width,he=r-ee,we=ee,P=4*(Z.y*r+Z.x),B=4*((Z.y+Z.height)*r+Z.x),V=P,U=4*he;Z.interlaced===!0&&(U+=4*r*7);for(var Y=8,pe=0,me=se.length;pe<me;++pe){var ge=se[pe];if(we===0&&(we=ee,(V+=U)>=B&&(U=4*he+4*r*(Y-1),V=P+(ee+he)*(Y<<1),Y>>=1)),ge===X)V+=4;else{var Te=t[re+3*ge],Me=t[re+3*ge+1],Ve=t[re+3*ge+2];D[V++]=Te,D[V++]=Me,D[V++]=Ve,D[V++]=255}--we}}}function $_(t,e,r,n){for(var i=t[e++],s=1<<i,a=s+1,o=a+1,l=i+1,u=(1<<l)-1,c=0,p=0,m=0,d=t[e++],y=new Int32Array(4096),v=null;;){for(;c<16&&d!==0;)p|=t[e++]<<c,c+=8,d===1?d=t[e++]:--d;if(c<l)break;var T=p&u;if(p>>=l,c-=l,T!==s){if(T===a)break;for(var _=T<o?T:v,x=0,E=_;E>s;)E=y[E]>>8,++x;var L=E;if(m+x+(_!==T?1:0)>n)return void Ir.log("Warning, gif stream longer than expected.");r[m++]=L;var j=m+=x;for(_!==T&&(r[m++]=L),E=_;x--;)E=y[E],r[--j]=255&E,E>>=8;v!==null&&o<4096&&(y[o++]=v<<8|L,o>=u+1&&l<12&&(++l,u=u<<1|1)),v=T}else o=a+1,u=(1<<(l=i+1))-1,v=null}return m!==n&&Ir.log("Warning, gif stream shorter than expected."),r}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function rg(t){var e,r,n,i,s,a=Math.floor,o=new Array(64),l=new Array(64),u=new Array(64),c=new Array(64),p=new Array(65535),m=new Array(65535),d=new Array(64),y=new Array(64),v=[],T=0,_=7,x=new Array(64),E=new Array(64),L=new Array(64),j=new Array(256),z=new Array(2048),w=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],S=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],I=[0,1,2,3,4,5,6,7,8,9,10,11],F=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],N=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],b=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],D=[0,1,2,3,4,5,6,7,8,9,10,11],Z=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],de=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function se(P,B){for(var V=0,U=0,Y=new Array,pe=1;pe<=16;pe++){for(var me=1;me<=P[pe];me++)Y[B[U]]=[],Y[B[U]][0]=V,Y[B[U]][1]=pe,U++,V++;V*=2}return Y}function re(P){for(var B=P[0],V=P[1]-1;V>=0;)B&1<<V&&(T|=1<<_),V--,--_<0&&(T==255?(X(255),X(0)):X(T),_=7,T=0)}function X(P){v.push(P)}function ee(P){X(P>>8&255),X(255&P)}function he(P,B,V,U,Y){for(var pe,me=Y[0],ge=Y[240],Te=function(Ge,tt){var ot,lt,wt,Et,Lt,At,Nt,Ht,It,Ut,ht=0;for(It=0;It<8;++It){ot=Ge[ht],lt=Ge[ht+1],wt=Ge[ht+2],Et=Ge[ht+3],Lt=Ge[ht+4],At=Ge[ht+5],Nt=Ge[ht+6];var Fr=ot+(Ht=Ge[ht+7]),qt=ot-Ht,Vn=lt+Nt,Jt=lt-Nt,Sr=wt+At,Di=wt-At,Gt=Et+Lt,Zi=Et-Lt,Er=Fr+Gt,Sn=Fr-Gt,wi=Vn+Sr,or=Vn-Sr;Ge[ht]=Er+wi,Ge[ht+4]=Er-wi;var Tt=.707106781*(or+Sn);Ge[ht+2]=Sn+Tt,Ge[ht+6]=Sn-Tt;var Qt=.382683433*((Er=Zi+Di)-(or=Jt+qt)),Oi=.5411961*Er+Qt,Xr=1.306562965*or+Qt,kn=.707106781*(wi=Di+Jt),Si=qt+kn,vt=qt-kn;Ge[ht+5]=vt+Oi,Ge[ht+3]=vt-Oi,Ge[ht+1]=Si+Xr,Ge[ht+7]=Si-Xr,ht+=8}for(ht=0,It=0;It<8;++It){ot=Ge[ht],lt=Ge[ht+8],wt=Ge[ht+16],Et=Ge[ht+24],Lt=Ge[ht+32],At=Ge[ht+40],Nt=Ge[ht+48];var si=ot+(Ht=Ge[ht+56]),fn=ot-Ht,Yr=lt+Nt,Wr=lt-Nt,zr=wt+At,q=wt-At,le=Et+Lt,ne=Et-Lt,ie=si+le,oe=si-le,ue=Yr+zr,be=Yr-zr;Ge[ht]=ie+ue,Ge[ht+32]=ie-ue;var Fe=.707106781*(be+oe);Ge[ht+16]=oe+Fe,Ge[ht+48]=oe-Fe;var Ne=.382683433*((ie=ne+q)-(be=Wr+fn)),Ce=.5411961*ie+Ne,Le=1.306562965*be+Ne,Ke=.707106781*(ue=q+Wr),nt=fn+Ke,dt=fn-Ke;Ge[ht+40]=dt+Ce,Ge[ht+24]=dt-Ce,Ge[ht+8]=nt+Le,Ge[ht+56]=nt-Le,ht++}for(It=0;It<64;++It)Ut=Ge[It]*tt[It],d[It]=Ut>0?Ut+.5|0:Ut-.5|0;return d}(P,B),Me=0;Me<64;++Me)y[w[Me]]=Te[Me];var Ve=y[0]-V;V=y[0],Ve==0?re(U[0]):(re(U[m[pe=32767+Ve]]),re(p[pe]));for(var Je=63;Je>0&&y[Je]==0;)Je--;if(Je==0)return re(me),V;for(var st,Re=1;Re<=Je;){for(var fe=Re;y[Re]==0&&Re<=Je;)++Re;var He=Re-fe;if(He>=16){st=He>>4;for(var mt=1;mt<=st;++mt)re(ge);He&=15}pe=32767+y[Re],re(Y[(He<<4)+m[pe]]),re(p[pe]),Re++}return Je!=63&&re(me),V}function we(P){P=Math.min(Math.max(P,1),100),s!=P&&(function(B){for(var V=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],U=0;U<64;U++){var Y=a((V[U]*B+50)/100);Y=Math.min(Math.max(Y,1),255),o[w[U]]=Y}for(var pe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],me=0;me<64;me++){var ge=a((pe[me]*B+50)/100);ge=Math.min(Math.max(ge,1),255),l[w[me]]=ge}for(var Te=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],Me=0,Ve=0;Ve<8;Ve++)for(var Je=0;Je<8;Je++)u[Me]=1/(o[w[Me]]*Te[Ve]*Te[Je]*8),c[Me]=1/(l[w[Me]]*Te[Ve]*Te[Je]*8),Me++}(P<50?Math.floor(5e3/P):Math.floor(200-2*P)),s=P)}this.encode=function(P,B){B&&we(B),v=new Array,T=0,_=7,ee(65496),ee(65504),ee(16),X(74),X(70),X(73),X(70),X(0),X(1),X(1),X(0),ee(1),ee(1),X(0),X(0),function(){ee(65499),ee(132),X(0);for(var lt=0;lt<64;lt++)X(o[lt]);X(1);for(var wt=0;wt<64;wt++)X(l[wt])}(),function(lt,wt){ee(65472),ee(17),X(8),ee(wt),ee(lt),X(3),X(1),X(17),X(0),X(2),X(17),X(1),X(3),X(17),X(1)}(P.width,P.height),function(){ee(65476),ee(418),X(0);for(var lt=0;lt<16;lt++)X(S[lt+1]);for(var wt=0;wt<=11;wt++)X(I[wt]);X(16);for(var Et=0;Et<16;Et++)X(F[Et+1]);for(var Lt=0;Lt<=161;Lt++)X(N[Lt]);X(1);for(var At=0;At<16;At++)X(b[At+1]);for(var Nt=0;Nt<=11;Nt++)X(D[Nt]);X(17);for(var Ht=0;Ht<16;Ht++)X(Z[Ht+1]);for(var It=0;It<=161;It++)X(de[It])}(),ee(65498),ee(12),X(3),X(1),X(0),X(2),X(17),X(3),X(17),X(0),X(63),X(0);var V=0,U=0,Y=0;T=0,_=7,this.encode.displayName="_encode_";for(var pe,me,ge,Te,Me,Ve,Je,st,Re,fe=P.data,He=P.width,mt=P.height,Ge=4*He,tt=0;tt<mt;){for(pe=0;pe<Ge;){for(Me=Ge*tt+pe,Je=-1,st=0,Re=0;Re<64;Re++)Ve=Me+(st=Re>>3)*Ge+(Je=4*(7&Re)),tt+st>=mt&&(Ve-=Ge*(tt+1+st-mt)),pe+Je>=Ge&&(Ve-=pe+Je-Ge+4),me=fe[Ve++],ge=fe[Ve++],Te=fe[Ve++],x[Re]=(z[me]+z[ge+256>>0]+z[Te+512>>0]>>16)-128,E[Re]=(z[me+768>>0]+z[ge+1024>>0]+z[Te+1280>>0]>>16)-128,L[Re]=(z[me+1280>>0]+z[ge+1536>>0]+z[Te+1792>>0]>>16)-128;V=he(x,u,V,e,n),U=he(E,c,U,r,i),Y=he(L,c,Y,r,i),pe+=32}tt+=8}if(_>=0){var ot=[];ot[1]=_+1,ot[0]=(1<<_+1)-1,re(ot)}return ee(65497),new Uint8Array(v)},t=t||50,function(){for(var P=String.fromCharCode,B=0;B<256;B++)j[B]=P(B)}(),e=se(S,I),r=se(b,D),n=se(F,N),i=se(Z,de),function(){for(var P=1,B=2,V=1;V<=15;V++){for(var U=P;U<B;U++)m[32767+U]=V,p[32767+U]=[],p[32767+U][1]=V,p[32767+U][0]=U;for(var Y=-(B-1);Y<=-P;Y++)m[32767+Y]=V,p[32767+Y]=[],p[32767+Y][1]=V,p[32767+Y][0]=B-1+Y;P<<=1,B<<=1}}(),function(){for(var P=0;P<256;P++)z[P]=19595*P,z[P+256>>0]=38470*P,z[P+512>>0]=7471*P+32768,z[P+768>>0]=-11059*P,z[P+1024>>0]=-21709*P,z[P+1280>>0]=32768*P+8421375,z[P+1536>>0]=-27439*P,z[P+1792>>0]=-5329*P}(),we(t)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function Js(t,e){if(this.pos=0,this.buffer=t,this.datav=new DataView(t.buffer),this.is_with_alpha=!!e,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function K_(t){function e(S){if(!S)throw Error("assert :P")}function r(S,I,F){for(var N=0;4>N;N++)if(S[I+N]!=F.charCodeAt(N))return!0;return!1}function n(S,I,F,N,b){for(var D=0;D<b;D++)S[I+D]=F[N+D]}function i(S,I,F,N){for(var b=0;b<N;b++)S[I+b]=F}function s(S){return new Int32Array(S)}function a(S,I){for(var F=[],N=0;N<S;N++)F.push(new I);return F}function o(S,I){var F=[];return function N(b,D,Z){for(var de=Z[D],se=0;se<de&&(b.push(Z.length>D+1?[]:new I),!(Z.length<D+1));se++)N(b[se],D+1,Z)}(F,0,S),F}var l=function(){var S=this;function I(f,g){for(var C=1<<g-1>>>0;f&C;)C>>>=1;return C?(f&C-1)+C:f}function F(f,g,C,O,W){e(!(O%C));do f[g+(O-=C)]=W;while(0<O)}function N(f,g,C,O,W){if(e(2328>=W),512>=W)var G=s(512);else if((G=s(W))==null)return 0;return function(K,J,te,ae,ye,Ie){var Pe,Ae,ze=J,De=1<<te,xe=s(16),_e=s(16);for(e(ye!=0),e(ae!=null),e(K!=null),e(0<te),Ae=0;Ae<ye;++Ae){if(15<ae[Ae])return 0;++xe[ae[Ae]]}if(xe[0]==ye)return 0;for(_e[1]=0,Pe=1;15>Pe;++Pe){if(xe[Pe]>1<<Pe)return 0;_e[Pe+1]=_e[Pe]+xe[Pe]}for(Ae=0;Ae<ye;++Ae)Pe=ae[Ae],0<ae[Ae]&&(Ie[_e[Pe]++]=Ae);if(_e[15]==1)return(ae=new b).g=0,ae.value=Ie[0],F(K,ze,1,De,ae),De;var Be,$e=-1,Ue=De-1,gt=0,ct=1,Pt=1,pt=1<<te;for(Ae=0,Pe=1,ye=2;Pe<=te;++Pe,ye<<=1){if(ct+=Pt<<=1,0>(Pt-=xe[Pe]))return 0;for(;0<xe[Pe];--xe[Pe])(ae=new b).g=Pe,ae.value=Ie[Ae++],F(K,ze+gt,ye,pt,ae),gt=I(gt,Pe)}for(Pe=te+1,ye=2;15>=Pe;++Pe,ye<<=1){if(ct+=Pt<<=1,0>(Pt-=xe[Pe]))return 0;for(;0<xe[Pe];--xe[Pe]){if(ae=new b,(gt&Ue)!=$e){for(ze+=pt,Be=1<<($e=Pe)-te;15>$e&&!(0>=(Be-=xe[$e]));)++$e,Be<<=1;De+=pt=1<<(Be=$e-te),K[J+($e=gt&Ue)].g=Be+te,K[J+$e].value=ze-J-$e}ae.g=Pe-te,ae.value=Ie[Ae++],F(K,ze+(gt>>te),ye,pt,ae),gt=I(gt,Pe)}}return ct!=2*_e[15]-1?0:De}(f,g,C,O,W,G)}function b(){this.value=this.g=0}function D(){this.value=this.g=0}function Z(){this.G=a(5,b),this.H=s(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=a(Wn,D)}function de(f,g,C,O){e(f!=null),e(g!=null),e(2147483648>O),f.Ca=254,f.I=0,f.b=-8,f.Ka=0,f.oa=g,f.pa=C,f.Jd=g,f.Yc=C+O,f.Zc=4<=O?C+O-4+1:C,pe(f)}function se(f,g){for(var C=0;0<g--;)C|=ge(f,128)<<g;return C}function re(f,g){var C=se(f,g);return me(f)?-C:C}function X(f,g,C,O){var W,G=0;for(e(f!=null),e(g!=null),e(4294967288>O),f.Sb=O,f.Ra=0,f.u=0,f.h=0,4<O&&(O=4),W=0;W<O;++W)G+=g[C+W]<<8*W;f.Ra=G,f.bb=O,f.oa=g,f.pa=C}function ee(f){for(;8<=f.u&&f.bb<f.Sb;)f.Ra>>>=8,f.Ra+=f.oa[f.pa+f.bb]<<tc-8>>>0,++f.bb,f.u-=8;V(f)&&(f.h=1,f.u=0)}function he(f,g){if(e(0<=g),!f.h&&g<=ec){var C=B(f)&Zu[g];return f.u+=g,ee(f),C}return f.h=1,f.u=0}function we(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function P(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function B(f){return f.Ra>>>(f.u&tc-1)>>>0}function V(f){return e(f.bb<=f.Sb),f.h||f.bb==f.Sb&&f.u>tc}function U(f,g){f.u=g,f.h=V(f)}function Y(f){f.u>=kf&&(e(f.u>=kf),ee(f))}function pe(f){e(f!=null&&f.oa!=null),f.pa<f.Zc?(f.I=(f.oa[f.pa++]|f.I<<8)>>>0,f.b+=8):(e(f!=null&&f.oa!=null),f.pa<f.Yc?(f.b+=8,f.I=f.oa[f.pa++]|f.I<<8):f.Ka?f.b=0:(f.I<<=8,f.b+=8,f.Ka=1))}function me(f){return se(f,1)}function ge(f,g){var C=f.Ca;0>f.b&&pe(f);var O=f.b,W=C*g>>>8,G=(f.I>>>O>W)+0;for(G?(C-=W,f.I-=W+1<<O>>>0):C=W+1,O=C,W=0;256<=O;)W+=8,O>>=8;return O=7^W+Bi[O],f.b-=O,f.Ca=(C<<O)-1,G}function Te(f,g,C){f[g+0]=C>>24&255,f[g+1]=C>>16&255,f[g+2]=C>>8&255,f[g+3]=C>>0&255}function Me(f,g){return f[g+0]<<0|f[g+1]<<8}function Ve(f,g){return Me(f,g)|f[g+2]<<16}function Je(f,g){return Me(f,g)|Me(f,g+2)<<16}function st(f,g){var C=1<<g;return e(f!=null),e(0<g),f.X=s(C),f.X==null?0:(f.Mb=32-g,f.Xa=g,1)}function Re(f,g){e(f!=null),e(g!=null),e(f.Xa==g.Xa),n(g.X,0,f.X,0,1<<g.Xa)}function fe(){this.X=[],this.Xa=this.Mb=0}function He(f,g,C,O){e(C!=null),e(O!=null);var W=C[0],G=O[0];return W==0&&(W=(f*G+g/2)/g),G==0&&(G=(g*W+f/2)/f),0>=W||0>=G?0:(C[0]=W,O[0]=G,1)}function mt(f,g){return f+(1<<g)-1>>>g}function Ge(f,g){return((4278255360&f)+(4278255360&g)>>>0&4278255360)+((16711935&f)+(16711935&g)>>>0&16711935)>>>0}function tt(f,g){S[g]=function(C,O,W,G,K,J,te){var ae;for(ae=0;ae<K;++ae){var ye=S[f](J[te+ae-1],W,G+ae);J[te+ae]=Ge(C[O+ae],ye)}}}function ot(){this.ud=this.hd=this.jd=0}function lt(f,g){return((4278124286&(f^g))>>>1)+(f&g)>>>0}function wt(f){return 0<=f&&256>f?f:0>f?0:255<f?255:void 0}function Et(f,g){return wt(f+(f-g+.5>>1))}function Lt(f,g,C){return Math.abs(g-C)-Math.abs(f-C)}function At(f,g,C,O,W,G,K){for(O=G[K-1],C=0;C<W;++C)G[K+C]=O=Ge(f[g+C],O)}function Nt(f,g,C,O,W){var G;for(G=0;G<C;++G){var K=f[g+G],J=K>>8&255,te=16711935&(te=(te=16711935&K)+((J<<16)+J));O[W+G]=(4278255360&K)+te>>>0}}function Ht(f,g){g.jd=f>>0&255,g.hd=f>>8&255,g.ud=f>>16&255}function It(f,g,C,O,W,G){var K;for(K=0;K<O;++K){var J=g[C+K],te=J>>>8,ae=J,ye=255&(ye=(ye=J>>>16)+((f.jd<<24>>24)*(te<<24>>24)>>>5));ae=255&(ae=(ae=ae+((f.hd<<24>>24)*(te<<24>>24)>>>5))+((f.ud<<24>>24)*(ye<<24>>24)>>>5)),W[G+K]=(4278255360&J)+(ye<<16)+ae}}function Ut(f,g,C,O,W){S[g]=function(G,K,J,te,ae,ye,Ie,Pe,Ae){for(te=Ie;te<Pe;++te)for(Ie=0;Ie<Ae;++Ie)ae[ye++]=W(J[O(G[K++])])},S[f]=function(G,K,J,te,ae,ye,Ie){var Pe=8>>G.b,Ae=G.Ea,ze=G.K[0],De=G.w;if(8>Pe)for(G=(1<<G.b)-1,De=(1<<Pe)-1;K<J;++K){var xe,_e=0;for(xe=0;xe<Ae;++xe)xe&G||(_e=O(te[ae++])),ye[Ie++]=W(ze[_e&De]),_e>>=Pe}else S["VP8LMapColor"+C](te,ae,ze,De,ye,Ie,K,J,Ae)}}function ht(f,g,C,O,W){for(C=g+C;g<C;){var G=f[g++];O[W++]=G>>16&255,O[W++]=G>>8&255,O[W++]=G>>0&255}}function Fr(f,g,C,O,W){for(C=g+C;g<C;){var G=f[g++];O[W++]=G>>16&255,O[W++]=G>>8&255,O[W++]=G>>0&255,O[W++]=G>>24&255}}function qt(f,g,C,O,W){for(C=g+C;g<C;){var G=(K=f[g++])>>16&240|K>>12&15,K=K>>0&240|K>>28&15;O[W++]=G,O[W++]=K}}function Vn(f,g,C,O,W){for(C=g+C;g<C;){var G=(K=f[g++])>>16&248|K>>13&7,K=K>>5&224|K>>3&31;O[W++]=G,O[W++]=K}}function Jt(f,g,C,O,W){for(C=g+C;g<C;){var G=f[g++];O[W++]=G>>0&255,O[W++]=G>>8&255,O[W++]=G>>16&255}}function Sr(f,g,C,O,W,G){if(G==0)for(C=g+C;g<C;)Te(O,((G=f[g++])[0]>>24|G[1]>>8&65280|G[2]<<8&16711680|G[3]<<24)>>>0),W+=32;else n(O,W,f,g,C)}function Di(f,g){S[g][0]=S[f+"0"],S[g][1]=S[f+"1"],S[g][2]=S[f+"2"],S[g][3]=S[f+"3"],S[g][4]=S[f+"4"],S[g][5]=S[f+"5"],S[g][6]=S[f+"6"],S[g][7]=S[f+"7"],S[g][8]=S[f+"8"],S[g][9]=S[f+"9"],S[g][10]=S[f+"10"],S[g][11]=S[f+"11"],S[g][12]=S[f+"12"],S[g][13]=S[f+"13"],S[g][14]=S[f+"0"],S[g][15]=S[f+"0"]}function Gt(f){return f==Q1||f==J1||f==G0||f==Z1}function Zi(){this.eb=[],this.size=this.A=this.fb=0}function Er(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function Sn(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new Zi,this.f.kb=new Er,this.sd=null}function wi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function or(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Tt(f){return alert("todo:WebPSamplerProcessPlane"),f.T}function Qt(f,g){var C=f.T,O=g.ba.f.RGBA,W=O.eb,G=O.fb+f.ka*O.A,K=Is[g.ba.S],J=f.y,te=f.O,ae=f.f,ye=f.N,Ie=f.ea,Pe=f.W,Ae=g.cc,ze=g.dc,De=g.Mc,xe=g.Nc,_e=f.ka,Be=f.ka+f.T,$e=f.U,Ue=$e+1>>1;for(_e==0?K(J,te,null,null,ae,ye,Ie,Pe,ae,ye,Ie,Pe,W,G,null,null,$e):(K(g.ec,g.fc,J,te,Ae,ze,De,xe,ae,ye,Ie,Pe,W,G-O.A,W,G,$e),++C);_e+2<Be;_e+=2)Ae=ae,ze=ye,De=Ie,xe=Pe,ye+=f.Rc,Pe+=f.Rc,G+=2*O.A,K(J,(te+=2*f.fa)-f.fa,J,te,Ae,ze,De,xe,ae,ye,Ie,Pe,W,G-O.A,W,G,$e);return te+=f.fa,f.j+Be<f.o?(n(g.ec,g.fc,J,te,$e),n(g.cc,g.dc,ae,ye,Ue),n(g.Mc,g.Nc,Ie,Pe,Ue),C--):1&Be||K(J,te,null,null,ae,ye,Ie,Pe,ae,ye,Ie,Pe,W,G+O.A,null,null,$e),C}function Oi(f,g,C){var O=f.F,W=[f.J];if(O!=null){var G=f.U,K=g.ba.S,J=K==q0||K==G0;g=g.ba.f.RGBA;var te=[0],ae=f.ka;te[0]=f.T,f.Kb&&(ae==0?--te[0]:(--ae,W[0]-=f.width),f.j+f.ka+f.T==f.o&&(te[0]=f.o-f.j-ae));var ye=g.eb;ae=g.fb+ae*g.A,f=kr(O,W[0],f.width,G,te,ye,ae+(J?0:3),g.A),e(C==te),f&&Gt(K)&&Ns(ye,ae,J,G,te,g.A)}return 0}function Xr(f){var g=f.ma,C=g.ba.S,O=11>C,W=C==H0||C==W0||C==q0||C==Y1||C==12||Gt(C);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!If(g.Oa,f,W?11:12))return 0;if(W&&Gt(C)&&Xe(),f.da)alert("todo:use_scaling");else{if(O){if(g.Ib=Tt,f.Kb){if(C=f.U+1>>1,g.memory=s(f.U+2*C),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+f.U,g.Mc=g.cc,g.Nc=g.dc+C,g.Ib=Qt,Xe()}}else alert("todo:EmitYUV");W&&(g.Jb=Oi,O&&Ee())}if(O&&!ty){for(f=0;256>f;++f)YT[f]=89858*(f-128)+K0>>$0,ZT[f]=-22014*(f-128)+K0,JT[f]=-45773*(f-128),QT[f]=113618*(f-128)+K0>>$0;for(f=jf;f<rm;++f)g=76283*(f-16)+K0>>$0,e6[f-jf]=fr(g,255),t6[f-jf]=fr(g+8>>4,15);ty=1}return 1}function kn(f){var g=f.ma,C=f.U,O=f.T;return e(!(1&f.ka)),0>=C||0>=O?0:(C=g.Ib(f,g),g.Jb!=null&&g.Jb(f,g,C),g.Dc+=C,1)}function Si(f){f.ma.memory=null}function vt(f,g,C,O){return he(f,8)!=47?0:(g[0]=he(f,14)+1,C[0]=he(f,14)+1,O[0]=he(f,1),he(f,3)!=0?0:!f.h)}function si(f,g){if(4>f)return f+1;var C=f-2>>1;return(2+(1&f)<<C)+he(g,C)+1}function fn(f,g){return 120<g?g-120:1<=(C=((C=OT[g-1])>>4)*f+(8-(15&C)))?C:1;var C}function Yr(f,g,C){var O=B(C),W=f[g+=255&O].g-8;return 0<W&&(U(C,C.u+8),O=B(C),g+=f[g].value,g+=O&(1<<W)-1),U(C,C.u+f[g].g),f[g].value}function Wr(f,g,C){return C.g+=f.g,C.value+=f.value<<g>>>0,e(8>=C.g),f.g}function zr(f,g,C){var O=f.xc;return e((g=O==0?0:f.vc[f.md*(C>>O)+(g>>O)])<f.Wb),f.Ya[g]}function q(f,g,C,O){var W=f.ab,G=f.c*g,K=f.C;g=K+g;var J=C,te=O;for(O=f.Ta,C=f.Ua;0<W--;){var ae=f.gc[W],ye=K,Ie=g,Pe=J,Ae=te,ze=(te=O,J=C,ae.Ea);switch(e(ye<Ie),e(Ie<=ae.nc),ae.hc){case 2:O0(Pe,Ae,(Ie-ye)*ze,te,J);break;case 0:var De=ye,xe=Ie,_e=te,Be=J,$e=(pt=ae).Ea;De==0&&(K1(Pe,Ae,null,null,1,_e,Be),At(Pe,Ae+1,0,0,$e-1,_e,Be+1),Ae+=$e,Be+=$e,++De);for(var Ue=1<<pt.b,gt=Ue-1,ct=mt($e,pt.b),Pt=pt.K,pt=pt.w+(De>>pt.b)*ct;De<xe;){var lr=Pt,dr=pt,rr=1;for(Lf(Pe,Ae,_e,Be-$e,1,_e,Be);rr<$e;){var Xt=(rr&~gt)+Ue;Xt>$e&&(Xt=$e),(0,jo[lr[dr++]>>8&15])(Pe,Ae+ +rr,_e,Be+rr-$e,Xt-rr,_e,Be+rr),rr=Xt}Ae+=$e,Be+=$e,++De&gt||(pt+=ct)}Ie!=ae.nc&&n(te,J-ze,te,J+(Ie-ye-1)*ze,ze);break;case 1:for(ze=Pe,xe=Ae,$e=(Pe=ae.Ea)-(Be=Pe&~(_e=(Ae=1<<ae.b)-1)),De=mt(Pe,ae.b),Ue=ae.K,ae=ae.w+(ye>>ae.b)*De;ye<Ie;){for(gt=Ue,ct=ae,Pt=new ot,pt=xe+Be,lr=xe+Pe;xe<pt;)Ht(gt[ct++],Pt),Ql(Pt,ze,xe,Ae,te,J),xe+=Ae,J+=Ae;xe<lr&&(Ht(gt[ct++],Pt),Ql(Pt,ze,xe,$e,te,J),xe+=$e,J+=$e),++ye&_e||(ae+=De)}break;case 3:if(Pe==te&&Ae==J&&0<ae.b){for(xe=te,Pe=ze=J+(Ie-ye)*ze-(Be=(Ie-ye)*mt(ae.Ea,ae.b)),Ae=te,_e=J,De=[],Be=($e=Be)-1;0<=Be;--Be)De[Be]=Ae[_e+Be];for(Be=$e-1;0<=Be;--Be)xe[Pe+Be]=De[Be];As(ae,ye,Ie,te,ze,te,J)}else As(ae,ye,Ie,Pe,Ae,te,J)}J=O,te=C}te!=C&&n(O,C,J,te,G)}function le(f,g){var C=f.V,O=f.Ba+f.c*f.C,W=g-f.C;if(e(g<=f.l.o),e(16>=W),0<W){var G=f.l,K=f.Ta,J=f.Ua,te=G.width;if(q(f,W,C,O),W=J=[J],e((C=f.C)<(O=g)),e(G.v<G.va),O>G.o&&(O=G.o),C<G.j){var ae=G.j-C;C=G.j,W[0]+=ae*te}if(C>=O?C=0:(W[0]+=4*G.v,G.ka=C-G.j,G.U=G.va-G.v,G.T=O-C,C=1),C){if(J=J[0],11>(C=f.ca).S){var ye=C.f.RGBA,Ie=(O=C.S,W=G.U,G=G.T,ae=ye.eb,ye.A),Pe=G;for(ye=ye.fb+f.Ma*ye.A;0<Pe--;){var Ae=K,ze=J,De=W,xe=ae,_e=ye;switch(O){case z0:Vi(Ae,ze,De,xe,_e);break;case H0:Ti(Ae,ze,De,xe,_e);break;case Q1:Ti(Ae,ze,De,xe,_e),Ns(xe,_e,0,De,1,0);break;case G5:$a(Ae,ze,De,xe,_e);break;case W0:Sr(Ae,ze,De,xe,_e,1);break;case J1:Sr(Ae,ze,De,xe,_e,1),Ns(xe,_e,0,De,1,0);break;case q0:Sr(Ae,ze,De,xe,_e,0);break;case G0:Sr(Ae,ze,De,xe,_e,0),Ns(xe,_e,1,De,1,0);break;case Y1:Bo(Ae,ze,De,xe,_e);break;case Z1:Bo(Ae,ze,De,xe,_e),Pr(xe,_e,De,1,0);break;case $5:Ga(Ae,ze,De,xe,_e);break;default:e(0)}J+=te,ye+=Ie}f.Ma+=G}else alert("todo:EmitRescaledRowsYUVA");e(f.Ma<=C.height)}}f.C=g,e(f.C<=f.i)}function ne(f){var g;if(0<f.ua)return 0;for(g=0;g<f.Wb;++g){var C=f.Ya[g].G,O=f.Ya[g].H;if(0<C[1][O[1]+0].g||0<C[2][O[2]+0].g||0<C[3][O[3]+0].g)return 0}return 1}function ie(f,g,C,O,W,G){if(f.Z!=0){var K=f.qd,J=f.rd;for(e(Ho[f.Z]!=null);g<C;++g)Ho[f.Z](K,J,O,W,O,W,G),K=O,J=W,W+=G;f.qd=K,f.rd=J}}function oe(f,g){var C=f.l.ma,O=C.Z==0||C.Z==1?f.l.j:f.C;if(O=f.C<O?O:f.C,e(g<=f.l.o),g>O){var W=f.l.width,G=C.ca,K=C.tb+W*O,J=f.V,te=f.Ba+f.c*O,ae=f.gc;e(f.ab==1),e(ae[0].hc==3),M0(ae[0],O,g,J,te,G,K),ie(C,O,g,G,K,W)}f.C=f.Ma=g}function ue(f,g,C,O,W,G,K){var J=f.$/O,te=f.$%O,ae=f.m,ye=f.s,Ie=C+f.$,Pe=Ie;W=C+O*W;var Ae=C+O*G,ze=280+ye.ua,De=f.Pb?J:16777216,xe=0<ye.ua?ye.Wa:null,_e=ye.wc,Be=Ie<Ae?zr(ye,te,J):null;e(f.C<G),e(Ae<=W);var $e=!1;e:for(;;){for(;$e||Ie<Ae;){var Ue=0;if(J>=De){var gt=Ie-C;e((De=f).Pb),De.wd=De.m,De.xd=gt,0<De.s.ua&&Re(De.s.Wa,De.s.vb),De=J+jT}if(te&_e||(Be=zr(ye,te,J)),e(Be!=null),Be.Qb&&(g[Ie]=Be.qb,$e=!0),!$e)if(Y(ae),Be.jc){Ue=ae,gt=g;var ct=Ie,Pt=Be.pd[B(Ue)&Wn-1];e(Be.jc),256>Pt.g?(U(Ue,Ue.u+Pt.g),gt[ct]=Pt.value,Ue=0):(U(Ue,Ue.u+Pt.g-256),e(256<=Pt.value),Ue=Pt.value),Ue==0&&($e=!0)}else Ue=Yr(Be.G[0],Be.H[0],ae);if(ae.h)break;if($e||256>Ue){if(!$e)if(Be.nd)g[Ie]=(Be.qb|Ue<<8)>>>0;else{if(Y(ae),$e=Yr(Be.G[1],Be.H[1],ae),Y(ae),gt=Yr(Be.G[2],Be.H[2],ae),ct=Yr(Be.G[3],Be.H[3],ae),ae.h)break;g[Ie]=(ct<<24|$e<<16|Ue<<8|gt)>>>0}if($e=!1,++Ie,++te>=O&&(te=0,++J,K!=null&&J<=G&&!(J%16)&&K(f,J),xe!=null))for(;Pe<Ie;)Ue=g[Pe++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue}else if(280>Ue){if(Ue=si(Ue-256,ae),gt=Yr(Be.G[4],Be.H[4],ae),Y(ae),gt=fn(O,gt=si(gt,ae)),ae.h)break;if(Ie-C<gt||W-Ie<Ue)break e;for(ct=0;ct<Ue;++ct)g[Ie+ct]=g[Ie+ct-gt];for(Ie+=Ue,te+=Ue;te>=O;)te-=O,++J,K!=null&&J<=G&&!(J%16)&&K(f,J);if(e(Ie<=W),te&_e&&(Be=zr(ye,te,J)),xe!=null)for(;Pe<Ie;)Ue=g[Pe++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue}else{if(!(Ue<ze))break e;for($e=Ue-280,e(xe!=null);Pe<Ie;)Ue=g[Pe++],xe.X[(506832829*Ue&4294967295)>>>xe.Mb]=Ue;Ue=Ie,e(!($e>>>(gt=xe).Xa)),g[Ue]=gt.X[$e],$e=!0}$e||e(ae.h==V(ae))}if(f.Pb&&ae.h&&Ie<W)e(f.m.h),f.a=5,f.m=f.wd,f.$=f.xd,0<f.s.ua&&Re(f.s.vb,f.s.Wa);else{if(ae.h)break e;K!=null&&K(f,J>G?G:J),f.a=0,f.$=Ie-C}return 1}return f.a=3,0}function be(f){e(f!=null),f.vc=null,f.yc=null,f.Ya=null;var g=f.Wa;g!=null&&(g.X=null),f.vb=null,e(f!=null)}function Fe(){var f=new Qu;return f==null?null:(f.a=0,f.xb=Y5,Di("Predictor","VP8LPredictors"),Di("Predictor","VP8LPredictors_C"),Di("PredictorAdd","VP8LPredictorsAdd"),Di("PredictorAdd","VP8LPredictorsAdd_C"),O0=Nt,Ql=It,Vi=ht,Ti=Fr,Bo=qt,Ga=Vn,$a=Jt,S.VP8LMapColor32b=rc,S.VP8LMapColor8b=j0,f)}function Ne(f,g,C,O,W){var G=1,K=[f],J=[g],te=O.m,ae=O.s,ye=null,Ie=0;e:for(;;){if(C)for(;G&&he(te,1);){var Pe=K,Ae=J,ze=O,De=1,xe=ze.m,_e=ze.gc[ze.ab],Be=he(xe,2);if(ze.Oc&1<<Be)G=0;else{switch(ze.Oc|=1<<Be,_e.hc=Be,_e.Ea=Pe[0],_e.nc=Ae[0],_e.K=[null],++ze.ab,e(4>=ze.ab),Be){case 0:case 1:_e.b=he(xe,3)+2,De=Ne(mt(_e.Ea,_e.b),mt(_e.nc,_e.b),0,ze,_e.K),_e.K=_e.K[0];break;case 3:var $e,Ue=he(xe,8)+1,gt=16<Ue?0:4<Ue?1:2<Ue?2:3;if(Pe[0]=mt(_e.Ea,gt),_e.b=gt,$e=De=Ne(Ue,1,0,ze,_e.K)){var ct,Pt=Ue,pt=_e,lr=1<<(8>>pt.b),dr=s(lr);if(dr==null)$e=0;else{var rr=pt.K[0],Xt=pt.w;for(dr[0]=pt.K[0][0],ct=1;ct<1*Pt;++ct)dr[ct]=Ge(rr[Xt+ct],dr[ct-1]);for(;ct<4*lr;++ct)dr[ct]=0;pt.K[0]=null,pt.K[0]=dr,$e=1}}De=$e;break;case 2:break;default:e(0)}G=De}}if(K=K[0],J=J[0],G&&he(te,1)&&!(G=1<=(Ie=he(te,4))&&11>=Ie)){O.a=3;break e}var Cr;if(Cr=G)t:{var Tr,zt,hn,Ui=O,dn=K,zi=J,pr=Ie,as=C,os=Ui.m,Ln=Ui.s,qn=[null],Ni=1,Ps=0,Sa=MT[pr];r:for(;;){if(as&&he(os,1)){var Fn=he(os,3)+2,Qa=mt(dn,Fn),ru=mt(zi,Fn),oc=Qa*ru;if(!Ne(Qa,ru,0,Ui,qn))break r;for(qn=qn[0],Ln.xc=Fn,Tr=0;Tr<oc;++Tr){var Wo=qn[Tr]>>8&65535;qn[Tr]=Wo,Wo>=Ni&&(Ni=Wo+1)}}if(os.h)break r;for(zt=0;5>zt;++zt){var Jr=K5[zt];!zt&&0<pr&&(Jr+=1<<pr),Ps<Jr&&(Ps=Jr)}var nm=a(Ni*Sa,b),iy=Ni,sy=a(iy,Z);if(sy==null)var Y0=null;else e(65536>=iy),Y0=sy;var Bf=s(Ps);if(Y0==null||Bf==null||nm==null){Ui.a=1;break r}var Q0=nm;for(Tr=hn=0;Tr<Ni;++Tr){var Xs=Y0[Tr],lc=Xs.G,uc=Xs.H,ay=0,J0=1,oy=0;for(zt=0;5>zt;++zt){Jr=K5[zt],lc[zt]=Q0,uc[zt]=hn,!zt&&0<pr&&(Jr+=1<<pr);i:{var Z0,im=Jr,ed=Ui,Vf=Bf,i6=Q0,s6=hn,sm=0,qo=ed.m,a6=he(qo,1);if(i(Vf,0,0,im),a6){var o6=he(qo,1)+1,l6=he(qo,1),ly=he(qo,l6==0?1:8);Vf[ly]=1,o6==2&&(Vf[ly=he(qo,8)]=1);var td=1}else{var uy=s(19),cy=he(qo,4)+4;if(19<cy){ed.a=3;var rd=0;break i}for(Z0=0;Z0<cy;++Z0)uy[DT[Z0]]=he(qo,3);var am=void 0,Uf=void 0,fy=ed,u6=uy,nd=im,hy=Vf,om=0,Go=fy.m,dy=8,py=a(128,b);n:for(;N(py,0,7,u6,19);){if(he(Go,1)){var c6=2+2*he(Go,3);if((am=2+he(Go,c6))>nd)break n}else am=nd;for(Uf=0;Uf<nd&&am--;){Y(Go);var my=py[0+(127&B(Go))];U(Go,Go.u+my.g);var cc=my.value;if(16>cc)hy[Uf++]=cc,cc!=0&&(dy=cc);else{var f6=cc==16,gy=cc-16,h6=FT[gy],vy=he(Go,LT[gy])+h6;if(Uf+vy>nd)break n;for(var d6=f6?dy:0;0<vy--;)hy[Uf++]=d6}}om=1;break n}om||(fy.a=3),td=om}(td=td&&!qo.h)&&(sm=N(i6,s6,8,Vf,im)),td&&sm!=0?rd=sm:(ed.a=3,rd=0)}if(rd==0)break r;if(J0&&RT[zt]==1&&(J0=Q0[hn].g==0),ay+=Q0[hn].g,hn+=rd,3>=zt){var zf,lm=Bf[0];for(zf=1;zf<Jr;++zf)Bf[zf]>lm&&(lm=Bf[zf]);oy+=lm}}if(Xs.nd=J0,Xs.Qb=0,J0&&(Xs.qb=(lc[3][uc[3]+0].value<<24|lc[1][uc[1]+0].value<<16|lc[2][uc[2]+0].value)>>>0,ay==0&&256>lc[0][uc[0]+0].value&&(Xs.Qb=1,Xs.qb+=lc[0][uc[0]+0].value<<8)),Xs.jc=!Xs.Qb&&6>oy,Xs.jc){var id,Ja=Xs;for(id=0;id<Wn;++id){var $o=id,Ko=Ja.pd[$o],sd=Ja.G[0][Ja.H[0]+$o];256<=sd.value?(Ko.g=sd.g+256,Ko.value=sd.value):(Ko.g=0,Ko.value=0,$o>>=Wr(sd,8,Ko),$o>>=Wr(Ja.G[1][Ja.H[1]+$o],16,Ko),$o>>=Wr(Ja.G[2][Ja.H[2]+$o],0,Ko),Wr(Ja.G[3][Ja.H[3]+$o],24,Ko))}}}Ln.vc=qn,Ln.Wb=Ni,Ln.Ya=Y0,Ln.yc=nm,Cr=1;break t}Cr=0}if(!(G=Cr)){O.a=3;break e}if(0<Ie){if(ae.ua=1<<Ie,!st(ae.Wa,Ie)){O.a=1,G=0;break e}}else ae.ua=0;var um=O,yy=K,p6=J,cm=um.s,fm=cm.xc;if(um.c=yy,um.i=p6,cm.md=mt(yy,fm),cm.wc=fm==0?-1:(1<<fm)-1,C){O.xb=qT;break e}if((ye=s(K*J))==null){O.a=1,G=0;break e}G=(G=ue(O,ye,0,K,J,J,null))&&!te.h;break e}return G?(W!=null?W[0]=ye:(e(ye==null),e(C)),O.$=0,C||be(ae)):be(ae),G}function Ce(f,g){var C=f.c*f.i,O=C+g+16*g;return e(f.c<=g),f.V=s(O),f.V==null?(f.Ta=null,f.Ua=0,f.a=1,0):(f.Ta=f.V,f.Ua=f.Ba+C+g,1)}function Le(f,g){var C=f.C,O=g-C,W=f.V,G=f.Ba+f.c*C;for(e(g<=f.l.o);0<O;){var K=16<O?16:O,J=f.l.ma,te=f.l.width,ae=te*K,ye=J.ca,Ie=J.tb+te*C,Pe=f.Ta,Ae=f.Ua;q(f,K,W,G),sn(Pe,Ae,ye,Ie,ae),ie(J,C,C+K,ye,Ie,te),O-=K,W+=K*f.c,C+=K}e(C==g),f.C=f.Ma=g}function Ke(){this.ub=this.yd=this.td=this.Rb=0}function nt(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function dt(){this.Fb=this.Bb=this.Cb=0,this.Zb=s(4),this.Lb=s(4)}function Ze(){this.Yb=function(){var f=[];return function g(C,O,W){for(var G=W[O],K=0;K<G&&(C.push(W.length>O+1?[]:0),!(W.length<O+1));K++)g(C[K],O+1,W)}(f,0,[3,11]),f}()}function ut(){this.jb=s(3),this.Wc=o([4,8],Ze),this.Xc=o([4,17],Ze)}function kt(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new s(4),this.od=new s(4)}function Zt(){this.ld=this.La=this.dd=this.tc=0}function er(){this.Na=this.la=0}function Ar(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Ei(){this.ad=s(384),this.Za=0,this.Ob=s(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function Vs(){this.uc=this.M=this.Nb=0,this.wa=Array(new Zt),this.Y=0,this.ya=Array(new Ei),this.aa=0,this.l=new ts}function es(){this.y=s(16),this.f=s(8),this.ea=s(8)}function Mi(){this.cb=this.a=0,this.sc="",this.m=new we,this.Od=new Ke,this.Kc=new nt,this.ed=new kt,this.Qa=new dt,this.Ic=this.$c=this.Aa=0,this.D=new Vs,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=a(8,we),this.ia=0,this.pb=a(4,Ar),this.Pa=new ut,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new es),this.Hd=0,this.rb=Array(new er),this.sb=0,this.wa=Array(new Zt),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Ei),this.L=this.aa=0,this.gd=o([4,2],Zt),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function ts(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Un(){var f=new Mi;return f!=null&&(f.a=0,f.sc="OK",f.cb=0,f.Xb=0,Mf||(Mf=Wu)),f}function Rr(f,g,C){return f.a==0&&(f.a=g,f.sc=C,f.cb=0),0}function Bl(f,g,C){return 3<=C&&f[g+0]==157&&f[g+1]==1&&f[g+2]==42}function Vl(f,g){if(f==null)return 0;if(f.a=0,f.sc="OK",g==null)return Rr(f,2,"null VP8Io passed to VP8GetHeaders()");var C=g.data,O=g.w,W=g.ha;if(4>W)return Rr(f,7,"Truncated header.");var G=C[O+0]|C[O+1]<<8|C[O+2]<<16,K=f.Od;if(K.Rb=!(1&G),K.td=G>>1&7,K.yd=G>>4&1,K.ub=G>>5,3<K.td)return Rr(f,3,"Incorrect keyframe parameters.");if(!K.yd)return Rr(f,4,"Frame not displayable.");O+=3,W-=3;var J=f.Kc;if(K.Rb){if(7>W)return Rr(f,7,"cannot parse picture header");if(!Bl(C,O,W))return Rr(f,3,"Bad code word");J.c=16383&(C[O+4]<<8|C[O+3]),J.Td=C[O+4]>>6,J.i=16383&(C[O+6]<<8|C[O+5]),J.Ud=C[O+6]>>6,O+=7,W-=7,f.za=J.c+15>>4,f.Ub=J.i+15>>4,g.width=J.c,g.height=J.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,i((G=f.Pa).jb,0,255,G.jb.length),e((G=f.Qa)!=null),G.Cb=0,G.Bb=0,G.Fb=1,i(G.Zb,0,0,G.Zb.length),i(G.Lb,0,0,G.Lb)}if(K.ub>W)return Rr(f,7,"bad partition length");de(G=f.m,C,O,K.ub),O+=K.ub,W-=K.ub,K.Rb&&(J.Ld=me(G),J.Kd=me(G)),J=f.Qa;var te,ae=f.Pa;if(e(G!=null),e(J!=null),J.Cb=me(G),J.Cb){if(J.Bb=me(G),me(G)){for(J.Fb=me(G),te=0;4>te;++te)J.Zb[te]=me(G)?re(G,7):0;for(te=0;4>te;++te)J.Lb[te]=me(G)?re(G,6):0}if(J.Bb)for(te=0;3>te;++te)ae.jb[te]=me(G)?se(G,8):255}else J.Bb=0;if(G.Ka)return Rr(f,3,"cannot parse segment header");if((J=f.ed).zd=me(G),J.Tb=se(G,6),J.wb=se(G,3),J.Pc=me(G),J.Pc&&me(G)){for(ae=0;4>ae;++ae)me(G)&&(J.vd[ae]=re(G,6));for(ae=0;4>ae;++ae)me(G)&&(J.od[ae]=re(G,6))}if(f.L=J.Tb==0?0:J.zd?1:2,G.Ka)return Rr(f,3,"cannot parse filter header");var ye=W;if(W=te=O,O=te+ye,J=ye,f.Xb=(1<<se(f.m,2))-1,ye<3*(ae=f.Xb))C=7;else{for(te+=3*ae,J-=3*ae,ye=0;ye<ae;++ye){var Ie=C[W+0]|C[W+1]<<8|C[W+2]<<16;Ie>J&&(Ie=J),de(f.Jc[+ye],C,te,Ie),te+=Ie,J-=Ie,W+=3}de(f.Jc[+ae],C,te,J),C=te<O?0:5}if(C!=0)return Rr(f,C,"cannot parse partitions");for(C=se(te=f.m,7),W=me(te)?re(te,4):0,O=me(te)?re(te,4):0,J=me(te)?re(te,4):0,ae=me(te)?re(te,4):0,te=me(te)?re(te,4):0,ye=f.Qa,Ie=0;4>Ie;++Ie){if(ye.Cb){var Pe=ye.Zb[Ie];ye.Fb||(Pe+=C)}else{if(0<Ie){f.pb[Ie]=f.pb[0];continue}Pe=C}var Ae=f.pb[Ie];Ae.Sc[0]=em[fr(Pe+W,127)],Ae.Sc[1]=tm[fr(Pe+0,127)],Ae.Eb[0]=2*em[fr(Pe+O,127)],Ae.Eb[1]=101581*tm[fr(Pe+J,127)]>>16,8>Ae.Eb[1]&&(Ae.Eb[1]=8),Ae.Qc[0]=em[fr(Pe+ae,117)],Ae.Qc[1]=tm[fr(Pe+te,127)],Ae.lc=Pe+te}if(!K.Rb)return Rr(f,4,"Not a key frame.");for(me(G),K=f.Pa,C=0;4>C;++C){for(W=0;8>W;++W)for(O=0;3>O;++O)for(J=0;11>J;++J)ae=ge(G,HT[C][W][O][J])?se(G,8):UT[C][W][O][J],K.Wc[C][W].Yb[O][J]=ae;for(W=0;17>W;++W)K.Xc[C][W]=K.Wc[C][WT[W]]}return f.kc=me(G),f.kc&&(f.Bd=se(G,8)),f.cb=1}function Wu(f,g,C,O,W,G,K){var J=g[W].Yb[C];for(C=0;16>W;++W){if(!ge(f,J[C+0]))return W;for(;!ge(f,J[C+1]);)if(J=g[++W].Yb[0],C=0,W==16)return 16;var te=g[W+1].Yb;if(ge(f,J[C+2])){var ae=f,ye=0;if(ge(ae,(Pe=J)[(Ie=C)+3]))if(ge(ae,Pe[Ie+6])){for(J=0,Ie=2*(ye=ge(ae,Pe[Ie+8]))+(Pe=ge(ae,Pe[Ie+9+ye])),ye=0,Pe=BT[Ie];Pe[J];++J)ye+=ye+ge(ae,Pe[J]);ye+=3+(8<<Ie)}else ge(ae,Pe[Ie+7])?(ye=7+2*ge(ae,165),ye+=ge(ae,145)):ye=5+ge(ae,159);else ye=ge(ae,Pe[Ie+4])?3+ge(ae,Pe[Ie+5]):2;J=te[2]}else ye=1,J=te[1];te=K+VT[W],0>(ae=f).b&&pe(ae);var Ie,Pe=ae.b,Ae=(Ie=ae.Ca>>1)-(ae.I>>Pe)>>31;--ae.b,ae.Ca+=Ae,ae.Ca|=1,ae.I-=(Ie+1&Ae)<<Pe,G[te]=((ye^Ae)-Ae)*O[(0<W)+0]}return 16}function Ul(f){var g=f.rb[f.sb-1];g.la=0,g.Na=0,i(f.zc,0,0,f.zc.length),f.ja=0}function qu(f,g){if(f==null)return 0;if(g==null)return Rr(f,2,"NULL VP8Io parameter in VP8Decode().");if(!f.cb&&!Vl(f,g))return 0;if(e(f.cb),g.ac==null||g.ac(g)){g.ob&&(f.L=0);var C=X0[f.L];if(f.L==2?(f.yb=0,f.zb=0):(f.yb=g.v-C>>4,f.zb=g.j-C>>4,0>f.yb&&(f.yb=0),0>f.zb&&(f.zb=0)),f.Va=g.o+15+C>>4,f.Hb=g.va+15+C>>4,f.Hb>f.za&&(f.Hb=f.za),f.Va>f.Ub&&(f.Va=f.Ub),0<f.L){var O=f.ed;for(C=0;4>C;++C){var W;if(f.Qa.Cb){var G=f.Qa.Lb[C];f.Qa.Fb||(G+=O.Tb)}else G=O.Tb;for(W=0;1>=W;++W){var K=f.gd[C][W],J=G;if(O.Pc&&(J+=O.vd[0],W&&(J+=O.od[0])),0<(J=0>J?0:63<J?63:J)){var te=J;0<O.wb&&(te=4<O.wb?te>>2:te>>1)>9-O.wb&&(te=9-O.wb),1>te&&(te=1),K.dd=te,K.tc=2*J+te,K.ld=40<=J?2:15<=J?1:0}else K.tc=0;K.La=W}}}C=0}else Rr(f,6,"Frame setup failed"),C=f.a;if(C=C==0){if(C){f.$c=0,0<f.Aa||(f.Ic=n6);e:{C=f.Ic,O=4*(te=f.za);var ae=32*te,ye=te+1,Ie=0<f.L?te*(0<f.Aa?2:1):0,Pe=(f.Aa==2?2:1)*te;if((K=O+832+(W=3*(16*C+X0[f.L])/2*ae)+(G=f.Fa!=null&&0<f.Fa.length?f.Kc.c*f.Kc.i:0))!=K)C=0;else{if(K>f.Vb){if(f.Vb=0,f.Ec=s(K),f.Fc=0,f.Ec==null){C=Rr(f,1,"no memory during frame initialization.");break e}f.Vb=K}K=f.Ec,J=f.Fc,f.Ac=K,f.Bc=J,J+=O,f.Gd=a(ae,es),f.Hd=0,f.rb=a(ye+1,er),f.sb=1,f.wa=Ie?a(Ie,Zt):null,f.Y=0,f.D.Nb=0,f.D.wa=f.wa,f.D.Y=f.Y,0<f.Aa&&(f.D.Y+=te),e(!0),f.oc=K,f.pc=J,J+=832,f.ya=a(Pe,Ei),f.aa=0,f.D.ya=f.ya,f.D.aa=f.aa,f.Aa==2&&(f.D.aa+=te),f.R=16*te,f.B=8*te,te=(ae=X0[f.L])*f.R,ae=ae/2*f.B,f.sa=K,f.ta=J+te,f.qa=f.sa,f.ra=f.ta+16*C*f.R+ae,f.Ha=f.qa,f.Ia=f.ra+8*C*f.B+ae,f.$c=0,J+=W,f.mb=G?K:null,f.nb=G?J:null,e(J+G<=f.Fc+f.Vb),Ul(f),i(f.Ac,f.Bc,0,O),C=1}}if(C){if(g.ka=0,g.y=f.sa,g.O=f.ta,g.f=f.qa,g.N=f.ra,g.ea=f.Ha,g.Vd=f.Ia,g.fa=f.R,g.Rc=f.B,g.F=null,g.J=0,!V0){for(C=-255;255>=C;++C)An[255+C]=0>C?-C:C;for(C=-1020;1020>=C;++C)Xa[1020+C]=-128>C?-128:127<C?127:C;for(C=-112;112>=C;++C)Of[112+C]=-16>C?-16:15<C?15:C;for(C=-255;510>=C;++C)ac[255+C]=0>C?0:255<C?255:C;V0=1}nc=Ua,Ka=Eo,Ff=zl,bi=hr,Ts=Va,nn=Ba,ic=Po,B0=qs,Rf=Lo,Jl=Yl,Zl=ko,Vo=Ha,eu=Fo,sc=ya,tu=za,Uo=is,Df=En,bs=Yu,Ks[0]=Es,Ks[1]=bf,Ks[2]=ga,Ks[3]=Cf,Ks[4]=Ku,Ks[5]=bo,Ks[6]=rs,Ks[7]=Wl,Ks[8]=Co,Ks[9]=No,zo[0]=ma,zo[1]=Nf,zo[2]=zs,zo[3]=Ao,zo[4]=Dr,zo[5]=$u,zo[6]=Hl,Ya[0]=Ws,Ya[1]=Gu,Ya[2]=Xu,Ya[3]=Hs,Ya[4]=cr,Ya[5]=ql,Ya[6]=Gl,C=1}else C=0}C&&(C=function(Ae,ze){for(Ae.M=0;Ae.M<Ae.Va;++Ae.M){var De,xe=Ae.Jc[Ae.M&Ae.Xb],_e=Ae.m,Be=Ae;for(De=0;De<Be.za;++De){var $e=_e,Ue=Be,gt=Ue.Ac,ct=Ue.Bc+4*De,Pt=Ue.zc,pt=Ue.ya[Ue.aa+De];if(Ue.Qa.Bb?pt.$b=ge($e,Ue.Pa.jb[0])?2+ge($e,Ue.Pa.jb[2]):ge($e,Ue.Pa.jb[1]):pt.$b=0,Ue.kc&&(pt.Ad=ge($e,Ue.Bd)),pt.Za=!ge($e,145)+0,pt.Za){var lr=pt.Ob,dr=0;for(Ue=0;4>Ue;++Ue){var rr,Xt=Pt[0+Ue];for(rr=0;4>rr;++rr){Xt=zT[gt[ct+rr]][Xt];for(var Cr=X5[ge($e,Xt[0])];0<Cr;)Cr=X5[2*Cr+ge($e,Xt[Cr])];Xt=-Cr,gt[ct+rr]=Xt}n(lr,dr,gt,ct,4),dr+=4,Pt[0+Ue]=Xt}}else Xt=ge($e,156)?ge($e,128)?1:3:ge($e,163)?2:0,pt.Ob[0]=Xt,i(gt,ct,Xt,4),i(Pt,0,Xt,4);pt.Dd=ge($e,142)?ge($e,114)?ge($e,183)?1:3:2:0}if(Be.m.Ka)return Rr(Ae,7,"Premature end-of-partition0 encountered.");for(;Ae.ja<Ae.za;++Ae.ja){if(Be=xe,$e=(_e=Ae).rb[_e.sb-1],gt=_e.rb[_e.sb+_e.ja],De=_e.ya[_e.aa+_e.ja],ct=_e.kc?De.Ad:0)$e.la=gt.la=0,De.Za||($e.Na=gt.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var Tr,zt;if($e=gt,gt=Be,ct=_e.Pa.Xc,Pt=_e.ya[_e.aa+_e.ja],pt=_e.pb[Pt.$b],Ue=Pt.ad,lr=0,dr=_e.rb[_e.sb-1],Xt=rr=0,i(Ue,lr,0,384),Pt.Za)var hn=0,Ui=ct[3];else{Cr=s(16);var dn=$e.Na+dr.Na;if(dn=Mf(gt,ct[1],dn,pt.Eb,0,Cr,0),$e.Na=dr.Na=(0<dn)+0,1<dn)nc(Cr,0,Ue,lr);else{var zi=Cr[0]+3>>3;for(Cr=0;256>Cr;Cr+=16)Ue[lr+Cr]=zi}hn=1,Ui=ct[0]}var pr=15&$e.la,as=15&dr.la;for(Cr=0;4>Cr;++Cr){var os=1&as;for(zi=zt=0;4>zi;++zi)pr=pr>>1|(os=(dn=Mf(gt,Ui,dn=os+(1&pr),pt.Sc,hn,Ue,lr))>hn)<<7,zt=zt<<2|(3<dn?3:1<dn?2:Ue[lr+0]!=0),lr+=16;pr>>=4,as=as>>1|os<<7,rr=(rr<<8|zt)>>>0}for(Ui=pr,hn=as>>4,Tr=0;4>Tr;Tr+=2){for(zt=0,pr=$e.la>>4+Tr,as=dr.la>>4+Tr,Cr=0;2>Cr;++Cr){for(os=1&as,zi=0;2>zi;++zi)dn=os+(1&pr),pr=pr>>1|(os=0<(dn=Mf(gt,ct[2],dn,pt.Qc,0,Ue,lr)))<<3,zt=zt<<2|(3<dn?3:1<dn?2:Ue[lr+0]!=0),lr+=16;pr>>=2,as=as>>1|os<<5}Xt|=zt<<4*Tr,Ui|=pr<<4<<Tr,hn|=(240&as)<<Tr}$e.la=Ui,dr.la=hn,Pt.Hc=rr,Pt.Gc=Xt,Pt.ia=43690&Xt?0:pt.ia,ct=!(rr|Xt)}if(0<_e.L&&(_e.wa[_e.Y+_e.ja]=_e.gd[De.$b][De.Za],_e.wa[_e.Y+_e.ja].La|=!ct),Be.Ka)return Rr(Ae,7,"Premature end-of-file encountered.")}if(Ul(Ae),_e=ze,Be=1,De=(xe=Ae).D,$e=0<xe.L&&xe.M>=xe.zb&&xe.M<=xe.Va,xe.Aa==0)e:{if(De.M=xe.M,De.uc=$e,_a(xe,De),Be=1,De=(zt=xe.D).Nb,$e=(Xt=X0[xe.L])*xe.R,gt=Xt/2*xe.B,Cr=16*De*xe.R,zi=8*De*xe.B,ct=xe.sa,Pt=xe.ta-$e+Cr,pt=xe.qa,Ue=xe.ra-gt+zi,lr=xe.Ha,dr=xe.Ia-gt+zi,as=(pr=zt.M)==0,rr=pr>=xe.Va-1,xe.Aa==2&&_a(xe,zt),zt.uc)for(os=(dn=xe).D.M,e(dn.D.uc),zt=dn.yb;zt<dn.Hb;++zt){hn=zt,Ui=os;var Ln=(qn=(Jr=dn).D).Nb;Tr=Jr.R;var qn=qn.wa[qn.Y+hn],Ni=Jr.sa,Ps=Jr.ta+16*Ln*Tr+16*hn,Sa=qn.dd,Fn=qn.tc;if(Fn!=0)if(e(3<=Fn),Jr.L==1)0<hn&&Uo(Ni,Ps,Tr,Fn+4),qn.La&&bs(Ni,Ps,Tr,Fn),0<Ui&&tu(Ni,Ps,Tr,Fn+4),qn.La&&Df(Ni,Ps,Tr,Fn);else{var Qa=Jr.B,ru=Jr.qa,oc=Jr.ra+8*Ln*Qa+8*hn,Wo=Jr.Ha,Jr=Jr.Ia+8*Ln*Qa+8*hn;Ln=qn.ld,0<hn&&(B0(Ni,Ps,Tr,Fn+4,Sa,Ln),Jl(ru,oc,Wo,Jr,Qa,Fn+4,Sa,Ln)),qn.La&&(Vo(Ni,Ps,Tr,Fn,Sa,Ln),sc(ru,oc,Wo,Jr,Qa,Fn,Sa,Ln)),0<Ui&&(ic(Ni,Ps,Tr,Fn+4,Sa,Ln),Rf(ru,oc,Wo,Jr,Qa,Fn+4,Sa,Ln)),qn.La&&(Zl(Ni,Ps,Tr,Fn,Sa,Ln),eu(ru,oc,Wo,Jr,Qa,Fn,Sa,Ln))}}if(xe.ia&&alert("todo:DitherRow"),_e.put!=null){if(zt=16*pr,pr=16*(pr+1),as?(_e.y=xe.sa,_e.O=xe.ta+Cr,_e.f=xe.qa,_e.N=xe.ra+zi,_e.ea=xe.Ha,_e.W=xe.Ia+zi):(zt-=Xt,_e.y=ct,_e.O=Pt,_e.f=pt,_e.N=Ue,_e.ea=lr,_e.W=dr),rr||(pr-=Xt),pr>_e.o&&(pr=_e.o),_e.F=null,_e.J=null,xe.Fa!=null&&0<xe.Fa.length&&zt<pr&&(_e.J=Mo(xe,_e,zt,pr-zt),_e.F=xe.mb,_e.F==null&&_e.F.length==0)){Be=Rr(xe,3,"Could not decode alpha data.");break e}zt<_e.j&&(Xt=_e.j-zt,zt=_e.j,e(!(1&Xt)),_e.O+=xe.R*Xt,_e.N+=xe.B*(Xt>>1),_e.W+=xe.B*(Xt>>1),_e.F!=null&&(_e.J+=_e.width*Xt)),zt<pr&&(_e.O+=_e.v,_e.N+=_e.v>>1,_e.W+=_e.v>>1,_e.F!=null&&(_e.J+=_e.v),_e.ka=zt-_e.j,_e.U=_e.va-_e.v,_e.T=pr-zt,Be=_e.put(_e))}De+1!=xe.Ic||rr||(n(xe.sa,xe.ta-$e,ct,Pt+16*xe.R,$e),n(xe.qa,xe.ra-gt,pt,Ue+8*xe.B,gt),n(xe.Ha,xe.Ia-gt,lr,dr+8*xe.B,gt))}if(!Be)return Rr(Ae,6,"Output aborted.")}return 1}(f,g)),g.bc!=null&&g.bc(g),C&=1}return C?(f.cb=0,C):0}function ji(f,g,C,O,W){W=f[g+C+32*O]+(W>>3),f[g+C+32*O]=-256&W?0>W?0:255:W}function So(f,g,C,O,W,G){ji(f,g,0,C,O+W),ji(f,g,1,C,O+G),ji(f,g,2,C,O-G),ji(f,g,3,C,O-W)}function Qr(f){return(20091*f>>16)+f}function Ai(f,g,C,O){var W,G=0,K=s(16);for(W=0;4>W;++W){var J=f[g+0]+f[g+8],te=f[g+0]-f[g+8],ae=(35468*f[g+4]>>16)-Qr(f[g+12]),ye=Qr(f[g+4])+(35468*f[g+12]>>16);K[G+0]=J+ye,K[G+1]=te+ae,K[G+2]=te-ae,K[G+3]=J-ye,G+=4,g++}for(W=G=0;4>W;++W)J=(f=K[G+0]+4)+K[G+8],te=f-K[G+8],ae=(35468*K[G+4]>>16)-Qr(K[G+12]),ji(C,O,0,0,J+(ye=Qr(K[G+4])+(35468*K[G+12]>>16))),ji(C,O,1,0,te+ae),ji(C,O,2,0,te-ae),ji(C,O,3,0,J-ye),G++,O+=32}function Ba(f,g,C,O){var W=f[g+0]+4,G=35468*f[g+4]>>16,K=Qr(f[g+4]),J=35468*f[g+1]>>16;So(C,O,0,W+K,f=Qr(f[g+1]),J),So(C,O,1,W+G,f,J),So(C,O,2,W-G,f,J),So(C,O,3,W-K,f,J)}function Eo(f,g,C,O,W){Ai(f,g,C,O),W&&Ai(f,g+16,C,O+4)}function zl(f,g,C,O){Ka(f,g+0,C,O,1),Ka(f,g+32,C,O+128,1)}function hr(f,g,C,O){var W;for(f=f[g+0]+4,W=0;4>W;++W)for(g=0;4>g;++g)ji(C,O,g,W,f)}function Va(f,g,C,O){f[g+0]&&bi(f,g+0,C,O),f[g+16]&&bi(f,g+16,C,O+4),f[g+32]&&bi(f,g+32,C,O+128),f[g+48]&&bi(f,g+48,C,O+128+4)}function Ua(f,g,C,O){var W,G=s(16);for(W=0;4>W;++W){var K=f[g+0+W]+f[g+12+W],J=f[g+4+W]+f[g+8+W],te=f[g+4+W]-f[g+8+W],ae=f[g+0+W]-f[g+12+W];G[0+W]=K+J,G[8+W]=K-J,G[4+W]=ae+te,G[12+W]=ae-te}for(W=0;4>W;++W)K=(f=G[0+4*W]+3)+G[3+4*W],J=G[1+4*W]+G[2+4*W],te=G[1+4*W]-G[2+4*W],ae=f-G[3+4*W],C[O+0]=K+J>>3,C[O+16]=ae+te>>3,C[O+32]=K-J>>3,C[O+48]=ae-te>>3,O+=64}function Us(f,g,C){var O,W=g-32,G=ss,K=255-f[W-1];for(O=0;O<C;++O){var J,te=G,ae=K+f[g-1];for(J=0;J<C;++J)f[g+J]=te[ae+f[W+J]];g+=32}}function bf(f,g){Us(f,g,4)}function Gu(f,g){Us(f,g,8)}function Nf(f,g){Us(f,g,16)}function zs(f,g){var C;for(C=0;16>C;++C)n(f,g+32*C,f,g-32,16)}function Ao(f,g){var C;for(C=16;0<C;--C)i(f,g,f[g-1],16),g+=32}function To(f,g,C){var O;for(O=0;16>O;++O)i(g,C+32*O,f,16)}function ma(f,g){var C,O=16;for(C=0;16>C;++C)O+=f[g-1+32*C]+f[g+C-32];To(O>>5,f,g)}function Dr(f,g){var C,O=8;for(C=0;16>C;++C)O+=f[g-1+32*C];To(O>>4,f,g)}function $u(f,g){var C,O=8;for(C=0;16>C;++C)O+=f[g+C-32];To(O>>4,f,g)}function Hl(f,g){To(128,f,g)}function Rt(f,g,C){return f+2*g+C+2>>2}function ga(f,g){var C,O=g-32;for(O=new Uint8Array([Rt(f[O-1],f[O+0],f[O+1]),Rt(f[O+0],f[O+1],f[O+2]),Rt(f[O+1],f[O+2],f[O+3]),Rt(f[O+2],f[O+3],f[O+4])]),C=0;4>C;++C)n(f,g+32*C,O,0,O.length)}function Cf(f,g){var C=f[g-1],O=f[g-1+32],W=f[g-1+64],G=f[g-1+96];Te(f,g+0,16843009*Rt(f[g-1-32],C,O)),Te(f,g+32,16843009*Rt(C,O,W)),Te(f,g+64,16843009*Rt(O,W,G)),Te(f,g+96,16843009*Rt(W,G,G))}function Es(f,g){var C,O=4;for(C=0;4>C;++C)O+=f[g+C-32]+f[g-1+32*C];for(O>>=3,C=0;4>C;++C)i(f,g+32*C,O,4)}function Ku(f,g){var C=f[g-1+0],O=f[g-1+32],W=f[g-1+64],G=f[g-1-32],K=f[g+0-32],J=f[g+1-32],te=f[g+2-32],ae=f[g+3-32];f[g+0+96]=Rt(O,W,f[g-1+96]),f[g+1+96]=f[g+0+64]=Rt(C,O,W),f[g+2+96]=f[g+1+64]=f[g+0+32]=Rt(G,C,O),f[g+3+96]=f[g+2+64]=f[g+1+32]=f[g+0+0]=Rt(K,G,C),f[g+3+64]=f[g+2+32]=f[g+1+0]=Rt(J,K,G),f[g+3+32]=f[g+2+0]=Rt(te,J,K),f[g+3+0]=Rt(ae,te,J)}function rs(f,g){var C=f[g+1-32],O=f[g+2-32],W=f[g+3-32],G=f[g+4-32],K=f[g+5-32],J=f[g+6-32],te=f[g+7-32];f[g+0+0]=Rt(f[g+0-32],C,O),f[g+1+0]=f[g+0+32]=Rt(C,O,W),f[g+2+0]=f[g+1+32]=f[g+0+64]=Rt(O,W,G),f[g+3+0]=f[g+2+32]=f[g+1+64]=f[g+0+96]=Rt(W,G,K),f[g+3+32]=f[g+2+64]=f[g+1+96]=Rt(G,K,J),f[g+3+64]=f[g+2+96]=Rt(K,J,te),f[g+3+96]=Rt(J,te,te)}function bo(f,g){var C=f[g-1+0],O=f[g-1+32],W=f[g-1+64],G=f[g-1-32],K=f[g+0-32],J=f[g+1-32],te=f[g+2-32],ae=f[g+3-32];f[g+0+0]=f[g+1+64]=G+K+1>>1,f[g+1+0]=f[g+2+64]=K+J+1>>1,f[g+2+0]=f[g+3+64]=J+te+1>>1,f[g+3+0]=te+ae+1>>1,f[g+0+96]=Rt(W,O,C),f[g+0+64]=Rt(O,C,G),f[g+0+32]=f[g+1+96]=Rt(C,G,K),f[g+1+32]=f[g+2+96]=Rt(G,K,J),f[g+2+32]=f[g+3+96]=Rt(K,J,te),f[g+3+32]=Rt(J,te,ae)}function Wl(f,g){var C=f[g+0-32],O=f[g+1-32],W=f[g+2-32],G=f[g+3-32],K=f[g+4-32],J=f[g+5-32],te=f[g+6-32],ae=f[g+7-32];f[g+0+0]=C+O+1>>1,f[g+1+0]=f[g+0+64]=O+W+1>>1,f[g+2+0]=f[g+1+64]=W+G+1>>1,f[g+3+0]=f[g+2+64]=G+K+1>>1,f[g+0+32]=Rt(C,O,W),f[g+1+32]=f[g+0+96]=Rt(O,W,G),f[g+2+32]=f[g+1+96]=Rt(W,G,K),f[g+3+32]=f[g+2+96]=Rt(G,K,J),f[g+3+64]=Rt(K,J,te),f[g+3+96]=Rt(J,te,ae)}function No(f,g){var C=f[g-1+0],O=f[g-1+32],W=f[g-1+64],G=f[g-1+96];f[g+0+0]=C+O+1>>1,f[g+2+0]=f[g+0+32]=O+W+1>>1,f[g+2+32]=f[g+0+64]=W+G+1>>1,f[g+1+0]=Rt(C,O,W),f[g+3+0]=f[g+1+32]=Rt(O,W,G),f[g+3+32]=f[g+1+64]=Rt(W,G,G),f[g+3+64]=f[g+2+64]=f[g+0+96]=f[g+1+96]=f[g+2+96]=f[g+3+96]=G}function Co(f,g){var C=f[g-1+0],O=f[g-1+32],W=f[g-1+64],G=f[g-1+96],K=f[g-1-32],J=f[g+0-32],te=f[g+1-32],ae=f[g+2-32];f[g+0+0]=f[g+2+32]=C+K+1>>1,f[g+0+32]=f[g+2+64]=O+C+1>>1,f[g+0+64]=f[g+2+96]=W+O+1>>1,f[g+0+96]=G+W+1>>1,f[g+3+0]=Rt(J,te,ae),f[g+2+0]=Rt(K,J,te),f[g+1+0]=f[g+3+32]=Rt(C,K,J),f[g+1+32]=f[g+3+64]=Rt(O,C,K),f[g+1+64]=f[g+3+96]=Rt(W,O,C),f[g+1+96]=Rt(G,W,O)}function Xu(f,g){var C;for(C=0;8>C;++C)n(f,g+32*C,f,g-32,8)}function Hs(f,g){var C;for(C=0;8>C;++C)i(f,g,f[g-1],8),g+=32}function ns(f,g,C){var O;for(O=0;8>O;++O)i(g,C+32*O,f,8)}function Ws(f,g){var C,O=8;for(C=0;8>C;++C)O+=f[g+C-32]+f[g-1+32*C];ns(O>>4,f,g)}function ql(f,g){var C,O=4;for(C=0;8>C;++C)O+=f[g+C-32];ns(O>>3,f,g)}function cr(f,g){var C,O=4;for(C=0;8>C;++C)O+=f[g-1+32*C];ns(O>>3,f,g)}function Gl(f,g){ns(128,f,g)}function Io(f,g,C){var O=f[g-C],W=f[g+0],G=3*(W-O)+X1[1020+f[g-2*C]-f[g+C]],K=U0[112+(G+4>>3)];f[g-C]=ss[255+O+U0[112+(G+3>>3)]],f[g+0]=ss[255+W-K]}function $l(f,g,C,O){var W=f[g+0],G=f[g+C];return Cs[255+f[g-2*C]-f[g-C]]>O||Cs[255+G-W]>O}function Kl(f,g,C,O){return 4*Cs[255+f[g-C]-f[g+0]]+Cs[255+f[g-2*C]-f[g+C]]<=O}function Xl(f,g,C,O,W){var G=f[g-3*C],K=f[g-2*C],J=f[g-C],te=f[g+0],ae=f[g+C],ye=f[g+2*C],Ie=f[g+3*C];return 4*Cs[255+J-te]+Cs[255+K-ae]>O?0:Cs[255+f[g-4*C]-G]<=W&&Cs[255+G-K]<=W&&Cs[255+K-J]<=W&&Cs[255+Ie-ye]<=W&&Cs[255+ye-ae]<=W&&Cs[255+ae-te]<=W}function za(f,g,C,O){var W=2*O+1;for(O=0;16>O;++O)Kl(f,g+O,C,W)&&Io(f,g+O,C)}function is(f,g,C,O){var W=2*O+1;for(O=0;16>O;++O)Kl(f,g+O*C,1,W)&&Io(f,g+O*C,1)}function En(f,g,C,O){var W;for(W=3;0<W;--W)za(f,g+=4*C,C,O)}function Yu(f,g,C,O){var W;for(W=3;0<W;--W)is(f,g+=4,C,O)}function va(f,g,C,O,W,G,K,J){for(G=2*G+1;0<W--;){if(Xl(f,g,C,G,K))if($l(f,g,C,J))Io(f,g,C);else{var te=f,ae=g,ye=C,Ie=te[ae-2*ye],Pe=te[ae-ye],Ae=te[ae+0],ze=te[ae+ye],De=te[ae+2*ye],xe=27*(Be=X1[1020+3*(Ae-Pe)+X1[1020+Ie-ze]])+63>>7,_e=18*Be+63>>7,Be=9*Be+63>>7;te[ae-3*ye]=ss[255+te[ae-3*ye]+Be],te[ae-2*ye]=ss[255+Ie+_e],te[ae-ye]=ss[255+Pe+xe],te[ae+0]=ss[255+Ae-xe],te[ae+ye]=ss[255+ze-_e],te[ae+2*ye]=ss[255+De-Be]}g+=O}}function zn(f,g,C,O,W,G,K,J){for(G=2*G+1;0<W--;){if(Xl(f,g,C,G,K))if($l(f,g,C,J))Io(f,g,C);else{var te=f,ae=g,ye=C,Ie=te[ae-ye],Pe=te[ae+0],Ae=te[ae+ye],ze=U0[112+((De=3*(Pe-Ie))+4>>3)],De=U0[112+(De+3>>3)],xe=ze+1>>1;te[ae-2*ye]=ss[255+te[ae-2*ye]+xe],te[ae-ye]=ss[255+Ie+De],te[ae+0]=ss[255+Pe-ze],te[ae+ye]=ss[255+Ae-xe]}g+=O}}function Po(f,g,C,O,W,G){va(f,g,C,1,16,O,W,G)}function qs(f,g,C,O,W,G){va(f,g,1,C,16,O,W,G)}function ko(f,g,C,O,W,G){var K;for(K=3;0<K;--K)zn(f,g+=4*C,C,1,16,O,W,G)}function Ha(f,g,C,O,W,G){var K;for(K=3;0<K;--K)zn(f,g+=4,1,C,16,O,W,G)}function Lo(f,g,C,O,W,G,K,J){va(f,g,W,1,8,G,K,J),va(C,O,W,1,8,G,K,J)}function Yl(f,g,C,O,W,G,K,J){va(f,g,1,W,8,G,K,J),va(C,O,1,W,8,G,K,J)}function Fo(f,g,C,O,W,G,K,J){zn(f,g+4*W,W,1,8,G,K,J),zn(C,O+4*W,W,1,8,G,K,J)}function ya(f,g,C,O,W,G,K,J){zn(f,g+4,1,W,8,G,K,J),zn(C,O+4,1,W,8,G,K,J)}function Wa(){this.ba=new Sn,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new or,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function Ro(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function qa(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Do(){this.ua=0,this.Wa=new fe,this.vb=new fe,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new Z,this.yc=new b}function Qu(){this.xb=this.a=0,this.l=new ts,this.ca=new Sn,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new P,this.Pb=0,this.wd=new P,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Do,this.ab=0,this.gc=a(4,qa),this.Oc=0}function Gs(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new ts,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function xa(f,g,C,O,W,G,K){for(f=f==null?0:f[g+0],g=0;g<K;++g)W[G+g]=f+C[O+g]&255,f=W[G+g]}function Oo(f,g,C,O,W,G,K){var J;if(f==null)xa(null,null,C,O,W,G,K);else for(J=0;J<K;++J)W[G+J]=f[g+J]+C[O+J]&255}function ai(f,g,C,O,W,G,K){if(f==null)xa(null,null,C,O,W,G,K);else{var J,te=f[g+0],ae=te,ye=te;for(J=0;J<K;++J)ae=ye+(te=f[g+J])-ae,ye=C[O+J]+(-256&ae?0>ae?0:255:ae)&255,ae=te,W[G+J]=ye}}function Mo(f,g,C,O){var W=g.width,G=g.o;if(e(f!=null&&g!=null),0>C||0>=O||C+O>G)return null;if(!f.Cc){if(f.ga==null){var K;if(f.ga=new Gs,(K=f.ga==null)||(K=g.width*g.o,e(f.Gb.length==0),f.Gb=s(K),f.Uc=0,f.Gb==null?K=0:(f.mb=f.Gb,f.nb=f.Uc,f.rc=null,K=1),K=!K),!K){K=f.ga;var J=f.Fa,te=f.P,ae=f.qc,ye=f.mb,Ie=f.nb,Pe=te+1,Ae=ae-1,ze=K.l;if(e(J!=null&&ye!=null&&g!=null),Ho[0]=null,Ho[1]=xa,Ho[2]=Oo,Ho[3]=ai,K.ca=ye,K.tb=Ie,K.c=g.width,K.i=g.height,e(0<K.c&&0<K.i),1>=ae)g=0;else if(K.$a=J[te+0]>>0&3,K.Z=J[te+0]>>2&3,K.Lc=J[te+0]>>4&3,te=J[te+0]>>6&3,0>K.$a||1<K.$a||4<=K.Z||1<K.Lc||te)g=0;else if(ze.put=kn,ze.ac=Xr,ze.bc=Si,ze.ma=K,ze.width=g.width,ze.height=g.height,ze.Da=g.Da,ze.v=g.v,ze.va=g.va,ze.j=g.j,ze.o=g.o,K.$a)e:{e(K.$a==1),g=Fe();t:for(;;){if(g==null){g=0;break e}if(e(K!=null),K.mc=g,g.c=K.c,g.i=K.i,g.l=K.l,g.l.ma=K,g.l.width=K.c,g.l.height=K.i,g.a=0,X(g.m,J,Pe,Ae),!Ne(K.c,K.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&ne(g.s)?(K.ic=1,J=g.c*g.i,g.Ta=null,g.Ua=0,g.V=s(J),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(K.ic=0,g=Ce(g,K.c)),!g))break t;g=1;break e}K.mc=null,g=0}else g=Ae>=K.c*K.i;K=!g}if(K)return null;f.ga.Lc!=1?f.Ga=0:O=G-C}e(f.ga!=null),e(C+O<=G);e:{if(g=(J=f.ga).c,G=J.l.o,J.$a==0){if(Pe=f.rc,Ae=f.Vc,ze=f.Fa,te=f.P+1+C*g,ae=f.mb,ye=f.nb+C*g,e(te<=f.P+f.qc),J.Z!=0)for(e(Ho[J.Z]!=null),K=0;K<O;++K)Ho[J.Z](Pe,Ae,ze,te,ae,ye,g),Pe=ae,Ae=ye,ye+=g,te+=g;else for(K=0;K<O;++K)n(ae,ye,ze,te,g),Pe=ae,Ae=ye,ye+=g,te+=g;f.rc=Pe,f.Vc=Ae}else{if(e(J.mc!=null),g=C+O,e((K=J.mc)!=null),e(g<=K.i),K.C>=g)g=1;else if(J.ic||Ee(),J.ic){J=K.V,Pe=K.Ba,Ae=K.c;var De=K.i,xe=(ze=1,te=K.$/Ae,ae=K.$%Ae,ye=K.m,Ie=K.s,K.$),_e=Ae*De,Be=Ae*g,$e=Ie.wc,Ue=xe<Be?zr(Ie,ae,te):null;e(xe<=_e),e(g<=De),e(ne(Ie));t:for(;;){for(;!ye.h&&xe<Be;){if(ae&$e||(Ue=zr(Ie,ae,te)),e(Ue!=null),Y(ye),256>(De=Yr(Ue.G[0],Ue.H[0],ye)))J[Pe+xe]=De,++xe,++ae>=Ae&&(ae=0,++te<=g&&!(te%16)&&oe(K,te));else{if(!(280>De)){ze=0;break t}De=si(De-256,ye);var gt,ct=Yr(Ue.G[4],Ue.H[4],ye);if(Y(ye),!(xe>=(ct=fn(Ae,ct=si(ct,ye)))&&_e-xe>=De)){ze=0;break t}for(gt=0;gt<De;++gt)J[Pe+xe+gt]=J[Pe+xe+gt-ct];for(xe+=De,ae+=De;ae>=Ae;)ae-=Ae,++te<=g&&!(te%16)&&oe(K,te);xe<Be&&ae&$e&&(Ue=zr(Ie,ae,te))}e(ye.h==V(ye))}oe(K,te>g?g:te);break t}!ze||ye.h&&xe<_e?(ze=0,K.a=ye.h?5:3):K.$=xe,g=ze}else g=ue(K,K.V,K.Ba,K.c,K.i,g,Le);if(!g){O=0;break e}}C+O>=G&&(f.Cc=1),O=1}if(!O)return null;if(f.Cc&&((O=f.ga)!=null&&(O.mc=null),f.ga=null,0<f.Ga))return alert("todo:WebPDequantizeLevels"),null}return f.nb+C*W}function A(f,g,C,O,W,G){for(;0<W--;){var K,J=f,te=g+(C?1:0),ae=f,ye=g+(C?0:3);for(K=0;K<O;++K){var Ie=ae[ye+4*K];Ie!=255&&(Ie*=32897,J[te+4*K+0]=J[te+4*K+0]*Ie>>23,J[te+4*K+1]=J[te+4*K+1]*Ie>>23,J[te+4*K+2]=J[te+4*K+2]*Ie>>23)}g+=G}}function H(f,g,C,O,W){for(;0<O--;){var G;for(G=0;G<C;++G){var K=f[g+2*G+0],J=15&(ae=f[g+2*G+1]),te=4369*J,ae=(240&ae|ae>>4)*te>>16;f[g+2*G+0]=(240&K|K>>4)*te>>16&240|(15&K|K<<4)*te>>16>>4&15,f[g+2*G+1]=240&ae|J}g+=W}}function ce(f,g,C,O,W,G,K,J){var te,ae,ye=255;for(ae=0;ae<W;++ae){for(te=0;te<O;++te){var Ie=f[g+te];G[K+4*te]=Ie,ye&=Ie}g+=C,K+=J}return ye!=255}function ve(f,g,C,O,W){var G;for(G=0;G<W;++G)C[O+G]=f[g+G]>>8}function Ee(){Ns=A,Pr=H,kr=ce,sn=ve}function Oe(f,g,C){S[f]=function(O,W,G,K,J,te,ae,ye,Ie,Pe,Ae,ze,De,xe,_e,Be,$e){var Ue,gt=$e-1>>1,ct=J[te+0]|ae[ye+0]<<16,Pt=Ie[Pe+0]|Ae[ze+0]<<16;e(O!=null);var pt=3*ct+Pt+131074>>2;for(g(O[W+0],255&pt,pt>>16,De,xe),G!=null&&(pt=3*Pt+ct+131074>>2,g(G[K+0],255&pt,pt>>16,_e,Be)),Ue=1;Ue<=gt;++Ue){var lr=J[te+Ue]|ae[ye+Ue]<<16,dr=Ie[Pe+Ue]|Ae[ze+Ue]<<16,rr=ct+lr+Pt+dr+524296,Xt=rr+2*(lr+Pt)>>3;pt=Xt+ct>>1,ct=(rr=rr+2*(ct+dr)>>3)+lr>>1,g(O[W+2*Ue-1],255&pt,pt>>16,De,xe+(2*Ue-1)*C),g(O[W+2*Ue-0],255&ct,ct>>16,De,xe+(2*Ue-0)*C),G!=null&&(pt=rr+Pt>>1,ct=Xt+dr>>1,g(G[K+2*Ue-1],255&pt,pt>>16,_e,Be+(2*Ue-1)*C),g(G[K+2*Ue+0],255&ct,ct>>16,_e,Be+(2*Ue+0)*C)),ct=lr,Pt=dr}1&$e||(pt=3*ct+Pt+131074>>2,g(O[W+$e-1],255&pt,pt>>16,De,xe+($e-1)*C),G!=null&&(pt=3*Pt+ct+131074>>2,g(G[K+$e-1],255&pt,pt>>16,_e,Be+($e-1)*C)))}}function Xe(){Is[z0]=GT,Is[H0]=Q5,Is[G5]=$T,Is[W0]=J5,Is[q0]=Z5,Is[Y1]=ey,Is[$5]=KT,Is[Q1]=Q5,Is[J1]=J5,Is[G0]=Z5,Is[Z1]=ey}function ft(f){return f&-16384?0>f?0:255:f>>XT}function h(f,g){return ft((19077*f>>8)+(26149*g>>8)-14234)}function k(f,g,C){return ft((19077*f>>8)-(6419*g>>8)-(13320*C>>8)+8708)}function M(f,g){return ft((19077*f>>8)+(33050*g>>8)-17685)}function Q(f,g,C,O,W){O[W+0]=h(f,C),O[W+1]=k(f,g,C),O[W+2]=M(f,g)}function Se(f,g,C,O,W){O[W+0]=M(f,g),O[W+1]=k(f,g,C),O[W+2]=h(f,C)}function ke(f,g,C,O,W){var G=k(f,g,C);g=G<<3&224|M(f,g)>>3,O[W+0]=248&h(f,C)|G>>5,O[W+1]=g}function Ye(f,g,C,O,W){var G=240&M(f,g)|15;O[W+0]=240&h(f,C)|k(f,g,C)>>4,O[W+1]=G}function Ot(f,g,C,O,W){O[W+0]=255,Q(f,g,C,O,W+1)}function Kt(f,g,C,O,W){Se(f,g,C,O,W),O[W+3]=255}function Mt(f,g,C,O,W){Q(f,g,C,O,W),O[W+3]=255}function fr(f,g){return 0>f?0:f>g?g:f}function Nr(f,g,C){S[f]=function(O,W,G,K,J,te,ae,ye,Ie){for(var Pe=ye+(-2&Ie)*C;ye!=Pe;)g(O[W+0],G[K+0],J[te+0],ae,ye),g(O[W+1],G[K+0],J[te+0],ae,ye+C),W+=2,++K,++te,ye+=2*C;1&Ie&&g(O[W+0],G[K+0],J[te+0],ae,ye)}}function $s(f,g,C){return C==0?f==0?g==0?6:5:g==0?4:0:C}function Hn(f,g,C,O,W){switch(f>>>30){case 3:Ka(g,C,O,W,0);break;case 2:nn(g,C,O,W);break;case 1:bi(g,C,O,W)}}function _a(f,g){var C,O,W=g.M,G=g.Nb,K=f.oc,J=f.pc+40,te=f.oc,ae=f.pc+584,ye=f.oc,Ie=f.pc+600;for(C=0;16>C;++C)K[J+32*C-1]=129;for(C=0;8>C;++C)te[ae+32*C-1]=129,ye[Ie+32*C-1]=129;for(0<W?K[J-1-32]=te[ae-1-32]=ye[Ie-1-32]=129:(i(K,J-32-1,127,21),i(te,ae-32-1,127,9),i(ye,Ie-32-1,127,9)),O=0;O<f.za;++O){var Pe=g.ya[g.aa+O];if(0<O){for(C=-1;16>C;++C)n(K,J+32*C-4,K,J+32*C+12,4);for(C=-1;8>C;++C)n(te,ae+32*C-4,te,ae+32*C+4,4),n(ye,Ie+32*C-4,ye,Ie+32*C+4,4)}var Ae=f.Gd,ze=f.Hd+O,De=Pe.ad,xe=Pe.Hc;if(0<W&&(n(K,J-32,Ae[ze].y,0,16),n(te,ae-32,Ae[ze].f,0,8),n(ye,Ie-32,Ae[ze].ea,0,8)),Pe.Za){var _e=K,Be=J-32+16;for(0<W&&(O>=f.za-1?i(_e,Be,Ae[ze].y[15],4):n(_e,Be,Ae[ze+1].y,0,4)),C=0;4>C;C++)_e[Be+128+C]=_e[Be+256+C]=_e[Be+384+C]=_e[Be+0+C];for(C=0;16>C;++C,xe<<=2)_e=K,Be=J+ry[C],Ks[Pe.Ob[C]](_e,Be),Hn(xe,De,16*+C,_e,Be)}else if(_e=$s(O,W,Pe.Ob[0]),zo[_e](K,J),xe!=0)for(C=0;16>C;++C,xe<<=2)Hn(xe,De,16*+C,K,J+ry[C]);for(C=Pe.Gc,_e=$s(O,W,Pe.Dd),Ya[_e](te,ae),Ya[_e](ye,Ie),xe=De,_e=te,Be=ae,255&(Pe=C>>0)&&(170&Pe?Ff(xe,256,_e,Be):Ts(xe,256,_e,Be)),Pe=ye,xe=Ie,255&(C>>=8)&&(170&C?Ff(De,320,Pe,xe):Ts(De,320,Pe,xe)),W<f.Ub-1&&(n(Ae[ze].y,0,K,J+480,16),n(Ae[ze].f,0,te,ae+224,8),n(Ae[ze].ea,0,ye,Ie+224,8)),C=8*G*f.B,Ae=f.sa,ze=f.ta+16*O+16*G*f.R,De=f.qa,Pe=f.ra+8*O+C,xe=f.Ha,_e=f.Ia+8*O+C,C=0;16>C;++C)n(Ae,ze+C*f.R,K,J+32*C,16);for(C=0;8>C;++C)n(De,Pe+C*f.B,te,ae+32*C,8),n(xe,_e+C*f.B,ye,Ie+32*C,8)}}function wa(f,g,C,O,W,G,K,J,te){var ae=[0],ye=[0],Ie=0,Pe=te!=null?te.kd:0,Ae=te??new Ro;if(f==null||12>C)return 7;Ae.data=f,Ae.w=g,Ae.ha=C,g=[g],C=[C],Ae.gb=[Ae.gb];e:{var ze=g,De=C,xe=Ae.gb;if(e(f!=null),e(De!=null),e(xe!=null),xe[0]=0,12<=De[0]&&!r(f,ze[0],"RIFF")){if(r(f,ze[0]+8,"WEBP")){xe=3;break e}var _e=Je(f,ze[0]+4);if(12>_e||4294967286<_e){xe=3;break e}if(Pe&&_e>De[0]-8){xe=7;break e}xe[0]=_e,ze[0]+=12,De[0]-=12}xe=0}if(xe!=0)return xe;for(_e=0<Ae.gb[0],C=C[0];;){e:{var Be=f;De=g,xe=C;var $e=ae,Ue=ye,gt=ze=[0];if((pt=Ie=[Ie])[0]=0,8>xe[0])xe=7;else{if(!r(Be,De[0],"VP8X")){if(Je(Be,De[0]+4)!=10){xe=3;break e}if(18>xe[0]){xe=7;break e}var ct=Je(Be,De[0]+8),Pt=1+Ve(Be,De[0]+12);if(2147483648<=Pt*(Be=1+Ve(Be,De[0]+15))){xe=3;break e}gt!=null&&(gt[0]=ct),$e!=null&&($e[0]=Pt),Ue!=null&&(Ue[0]=Be),De[0]+=18,xe[0]-=18,pt[0]=1}xe=0}}if(Ie=Ie[0],ze=ze[0],xe!=0)return xe;if(De=!!(2&ze),!_e&&Ie)return 3;if(G!=null&&(G[0]=!!(16&ze)),K!=null&&(K[0]=De),J!=null&&(J[0]=0),K=ae[0],ze=ye[0],Ie&&De&&te==null){xe=0;break}if(4>C){xe=7;break}if(_e&&Ie||!_e&&!Ie&&!r(f,g[0],"ALPH")){C=[C],Ae.na=[Ae.na],Ae.P=[Ae.P],Ae.Sa=[Ae.Sa];e:{ct=f,xe=g,_e=C;var pt=Ae.gb;$e=Ae.na,Ue=Ae.P,gt=Ae.Sa,Pt=22,e(ct!=null),e(_e!=null),Be=xe[0];var lr=_e[0];for(e($e!=null),e(gt!=null),$e[0]=null,Ue[0]=null,gt[0]=0;;){if(xe[0]=Be,_e[0]=lr,8>lr){xe=7;break e}var dr=Je(ct,Be+4);if(4294967286<dr){xe=3;break e}var rr=8+dr+1&-2;if(Pt+=rr,0<pt&&Pt>pt){xe=3;break e}if(!r(ct,Be,"VP8 ")||!r(ct,Be,"VP8L")){xe=0;break e}if(lr[0]<rr){xe=7;break e}r(ct,Be,"ALPH")||($e[0]=ct,Ue[0]=Be+8,gt[0]=dr),Be+=rr,lr-=rr}}if(C=C[0],Ae.na=Ae.na[0],Ae.P=Ae.P[0],Ae.Sa=Ae.Sa[0],xe!=0)break}C=[C],Ae.Ja=[Ae.Ja],Ae.xa=[Ae.xa];e:if(pt=f,xe=g,_e=C,$e=Ae.gb[0],Ue=Ae.Ja,gt=Ae.xa,ct=xe[0],Be=!r(pt,ct,"VP8 "),Pt=!r(pt,ct,"VP8L"),e(pt!=null),e(_e!=null),e(Ue!=null),e(gt!=null),8>_e[0])xe=7;else{if(Be||Pt){if(pt=Je(pt,ct+4),12<=$e&&pt>$e-12){xe=3;break e}if(Pe&&pt>_e[0]-8){xe=7;break e}Ue[0]=pt,xe[0]+=8,_e[0]-=8,gt[0]=Pt}else gt[0]=5<=_e[0]&&pt[ct+0]==47&&!(pt[ct+4]>>5),Ue[0]=_e[0];xe=0}if(C=C[0],Ae.Ja=Ae.Ja[0],Ae.xa=Ae.xa[0],g=g[0],xe!=0)break;if(4294967286<Ae.Ja)return 3;if(J==null||De||(J[0]=Ae.xa?2:1),K=[K],ze=[ze],Ae.xa){if(5>C){xe=7;break}J=K,Pe=ze,De=G,f==null||5>C?f=0:5<=C&&f[g+0]==47&&!(f[g+4]>>5)?(_e=[0],pt=[0],$e=[0],X(Ue=new P,f,g,C),vt(Ue,_e,pt,$e)?(J!=null&&(J[0]=_e[0]),Pe!=null&&(Pe[0]=pt[0]),De!=null&&(De[0]=$e[0]),f=1):f=0):f=0}else{if(10>C){xe=7;break}J=ze,f==null||10>C||!Bl(f,g+3,C-3)?f=0:(Pe=f[g+0]|f[g+1]<<8|f[g+2]<<16,De=16383&(f[g+7]<<8|f[g+6]),f=16383&(f[g+9]<<8|f[g+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ae.Ja||!De||!f?f=0:(K&&(K[0]=De),J&&(J[0]=f),f=1))}if(!f||(K=K[0],ze=ze[0],Ie&&(ae[0]!=K||ye[0]!=ze)))return 3;te!=null&&(te[0]=Ae,te.offset=g-te.w,e(4294967286>g-te.w),e(te.offset==te.ha-C));break}return xe==0||xe==7&&Ie&&te==null?(G!=null&&(G[0]|=Ae.na!=null&&0<Ae.na.length),O!=null&&(O[0]=K),W!=null&&(W[0]=ze),0):xe}function If(f,g,C){var O=g.width,W=g.height,G=0,K=0,J=O,te=W;if(g.Da=f!=null&&0<f.Da,g.Da&&(J=f.cd,te=f.bd,G=f.v,K=f.j,11>C||(G&=-2,K&=-2),0>G||0>K||0>=J||0>=te||G+J>O||K+te>W))return 0;if(g.v=G,g.j=K,g.va=G+J,g.o=K+te,g.U=J,g.T=te,g.da=f!=null&&0<f.da,g.da){if(!He(J,te,C=[f.ib],G=[f.hb]))return 0;g.ib=C[0],g.hb=G[0]}return g.ob=f!=null&&f.ob,g.Kb=f==null||!f.Sd,g.da&&(g.ob=g.ib<3*O/4&&g.hb<3*W/4,g.Kb=0),1}function Pf(f){if(f==null)return 2;if(11>f.S){var g=f.f.RGBA;g.fb+=(f.height-1)*g.A,g.A=-g.A}else g=f.f.kb,f=f.height,g.O+=(f-1)*g.fa,g.fa=-g.fa,g.N+=(f-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(f-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(f-1)*g.lb,g.lb=-g.lb);return 0}function Ju(f,g,C,O){if(O==null||0>=f||0>=g)return 2;if(C!=null){if(C.Da){var W=C.cd,G=C.bd,K=-2&C.v,J=-2&C.j;if(0>K||0>J||0>=W||0>=G||K+W>f||J+G>g)return 2;f=W,g=G}if(C.da){if(!He(f,g,W=[C.ib],G=[C.hb]))return 2;f=W[0],g=G[0]}}O.width=f,O.height=g;e:{var te=O.width,ae=O.height;if(f=O.S,0>=te||0>=ae||!(f>=z0&&13>f))f=2;else{if(0>=O.Rd&&O.sd==null){K=G=W=g=0;var ye=(J=te*ny[f])*ae;if(11>f||(G=(ae+1)/2*(g=(te+1)/2),f==12&&(K=(W=te)*ae)),(ae=s(ye+2*G+K))==null){f=1;break e}O.sd=ae,11>f?((te=O.f.RGBA).eb=ae,te.fb=0,te.A=J,te.size=ye):((te=O.f.kb).y=ae,te.O=0,te.fa=J,te.Fd=ye,te.f=ae,te.N=0+ye,te.Ab=g,te.Cd=G,te.ea=ae,te.W=0+ye+G,te.Db=g,te.Ed=G,f==12&&(te.F=ae,te.J=0+ye+2*G),te.Tc=K,te.lb=W)}if(g=1,W=O.S,G=O.width,K=O.height,W>=z0&&13>W)if(11>W)f=O.f.RGBA,g&=(J=Math.abs(f.A))*(K-1)+G<=f.size,g&=J>=G*ny[W],g&=f.eb!=null;else{f=O.f.kb,J=(G+1)/2,ye=(K+1)/2,te=Math.abs(f.fa),ae=Math.abs(f.Ab);var Ie=Math.abs(f.Db),Pe=Math.abs(f.lb),Ae=Pe*(K-1)+G;g&=te*(K-1)+G<=f.Fd,g&=ae*(ye-1)+J<=f.Cd,g=(g&=Ie*(ye-1)+J<=f.Ed)&te>=G&ae>=J&Ie>=J,g&=f.y!=null,g&=f.f!=null,g&=f.ea!=null,W==12&&(g&=Pe>=G,g&=Ae<=f.Tc,g&=f.F!=null)}else g=0;f=g?0:2}}return f!=0||C!=null&&C.fd&&(f=Pf(O)),f}var Wn=64,Zu=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],ec=24,tc=32,kf=8,Bi=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];tt("Predictor0","PredictorAdd0"),S.Predictor0=function(){return 4278190080},S.Predictor1=function(f){return f},S.Predictor2=function(f,g,C){return g[C+0]},S.Predictor3=function(f,g,C){return g[C+1]},S.Predictor4=function(f,g,C){return g[C-1]},S.Predictor5=function(f,g,C){return lt(lt(f,g[C+1]),g[C+0])},S.Predictor6=function(f,g,C){return lt(f,g[C-1])},S.Predictor7=function(f,g,C){return lt(f,g[C+0])},S.Predictor8=function(f,g,C){return lt(g[C-1],g[C+0])},S.Predictor9=function(f,g,C){return lt(g[C+0],g[C+1])},S.Predictor10=function(f,g,C){return lt(lt(f,g[C-1]),lt(g[C+0],g[C+1]))},S.Predictor11=function(f,g,C){var O=g[C+0];return 0>=Lt(O>>24&255,f>>24&255,(g=g[C-1])>>24&255)+Lt(O>>16&255,f>>16&255,g>>16&255)+Lt(O>>8&255,f>>8&255,g>>8&255)+Lt(255&O,255&f,255&g)?O:f},S.Predictor12=function(f,g,C){var O=g[C+0];return(wt((f>>24&255)+(O>>24&255)-((g=g[C-1])>>24&255))<<24|wt((f>>16&255)+(O>>16&255)-(g>>16&255))<<16|wt((f>>8&255)+(O>>8&255)-(g>>8&255))<<8|wt((255&f)+(255&O)-(255&g)))>>>0},S.Predictor13=function(f,g,C){var O=g[C-1];return(Et((f=lt(f,g[C+0]))>>24&255,O>>24&255)<<24|Et(f>>16&255,O>>16&255)<<16|Et(f>>8&255,O>>8&255)<<8|Et(f>>0&255,O>>0&255))>>>0};var K1=S.PredictorAdd0;S.PredictorAdd1=At,tt("Predictor2","PredictorAdd2"),tt("Predictor3","PredictorAdd3"),tt("Predictor4","PredictorAdd4"),tt("Predictor5","PredictorAdd5"),tt("Predictor6","PredictorAdd6"),tt("Predictor7","PredictorAdd7"),tt("Predictor8","PredictorAdd8"),tt("Predictor9","PredictorAdd9"),tt("Predictor10","PredictorAdd10"),tt("Predictor11","PredictorAdd11"),tt("Predictor12","PredictorAdd12"),tt("Predictor13","PredictorAdd13");var Lf=S.PredictorAdd2;Ut("ColorIndexInverseTransform","MapARGB","32b",function(f){return f>>8&255},function(f){return f}),Ut("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(f){return f},function(f){return f>>8&255});var O0,As=S.ColorIndexInverseTransform,rc=S.MapARGB,M0=S.VP8LColorIndexInverseTransformAlpha,j0=S.MapAlpha,jo=S.VP8LPredictorsAdd=[];jo.length=16,(S.VP8LPredictors=[]).length=16,(S.VP8LPredictorsAdd_C=[]).length=16,(S.VP8LPredictors_C=[]).length=16;var Ql,Vi,Ti,Bo,Ga,$a,nc,Ka,nn,Ff,bi,Ts,ic,B0,Rf,Jl,Zl,Vo,eu,sc,tu,Uo,Df,bs,Ns,Pr,kr,sn,An=s(511),Xa=s(2041),Of=s(225),ac=s(767),V0=0,X1=Xa,U0=Of,ss=ac,Cs=An,z0=0,H0=1,G5=2,W0=3,q0=4,Y1=5,$5=6,Q1=7,J1=8,G0=9,Z1=10,LT=[2,3,7],FT=[3,3,11],K5=[280,256,256,256,40],RT=[0,1,1,1,0],DT=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],OT=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],MT=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],jT=8,em=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],tm=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Mf=null,BT=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],VT=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],X5=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],UT=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],zT=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],HT=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],WT=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],zo=[],Ks=[],Ya=[],qT=1,Y5=2,Ho=[],Is=[];Oe("UpsampleRgbLinePair",Q,3),Oe("UpsampleBgrLinePair",Se,3),Oe("UpsampleRgbaLinePair",Mt,4),Oe("UpsampleBgraLinePair",Kt,4),Oe("UpsampleArgbLinePair",Ot,4),Oe("UpsampleRgba4444LinePair",Ye,2),Oe("UpsampleRgb565LinePair",ke,2);var GT=S.UpsampleRgbLinePair,$T=S.UpsampleBgrLinePair,Q5=S.UpsampleRgbaLinePair,J5=S.UpsampleBgraLinePair,Z5=S.UpsampleArgbLinePair,ey=S.UpsampleRgba4444LinePair,KT=S.UpsampleRgb565LinePair,$0=16,K0=1<<$0-1,jf=-227,rm=482,XT=6,ty=0,YT=s(256),QT=s(256),JT=s(256),ZT=s(256),e6=s(rm-jf),t6=s(rm-jf);Nr("YuvToRgbRow",Q,3),Nr("YuvToBgrRow",Se,3),Nr("YuvToRgbaRow",Mt,4),Nr("YuvToBgraRow",Kt,4),Nr("YuvToArgbRow",Ot,4),Nr("YuvToRgba4444Row",Ye,2),Nr("YuvToRgb565Row",ke,2);var ry=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],X0=[0,2,8],r6=[8,7,6,4,4,2,2,2,1,1,1,1],n6=1;this.WebPDecodeRGBA=function(f,g,C,O,W){var G=H0,K=new Wa,J=new Sn;K.ba=J,J.S=G,J.width=[J.width],J.height=[J.height];var te=J.width,ae=J.height,ye=new wi;if(ye==null||f==null)var Ie=2;else e(ye!=null),Ie=wa(f,g,C,ye.width,ye.height,ye.Pd,ye.Qd,ye.format,null);if(Ie!=0?te=0:(te!=null&&(te[0]=ye.width[0]),ae!=null&&(ae[0]=ye.height[0]),te=1),te){J.width=J.width[0],J.height=J.height[0],O!=null&&(O[0]=J.width),W!=null&&(W[0]=J.height);e:{if(O=new ts,(W=new Ro).data=f,W.w=g,W.ha=C,W.kd=1,g=[0],e(W!=null),((f=wa(W.data,W.w,W.ha,null,null,null,g,null,W))==0||f==7)&&g[0]&&(f=4),(g=f)==0){if(e(K!=null),O.data=W.data,O.w=W.w+W.offset,O.ha=W.ha-W.offset,O.put=kn,O.ac=Xr,O.bc=Si,O.ma=K,W.xa){if((f=Fe())==null){K=1;break e}if(function(Pe,Ae){var ze=[0],De=[0],xe=[0];t:for(;;){if(Pe==null)return 0;if(Ae==null)return Pe.a=2,0;if(Pe.l=Ae,Pe.a=0,X(Pe.m,Ae.data,Ae.w,Ae.ha),!vt(Pe.m,ze,De,xe)){Pe.a=3;break t}if(Pe.xb=Y5,Ae.width=ze[0],Ae.height=De[0],!Ne(ze[0],De[0],1,Pe,null))break t;return 1}return e(Pe.a!=0),0}(f,O)){if(O=(g=Ju(O.width,O.height,K.Oa,K.ba))==0){t:{O=f;r:for(;;){if(O==null){O=0;break t}if(e(O.s.yc!=null),e(O.s.Ya!=null),e(0<O.s.Wb),e((C=O.l)!=null),e((W=C.ma)!=null),O.xb!=0){if(O.ca=W.ba,O.tb=W.tb,e(O.ca!=null),!If(W.Oa,C,W0)){O.a=2;break r}if(!Ce(O,C.width)||C.da)break r;if((C.da||Gt(O.ca.S))&&Ee(),11>O.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),O.ca.f.kb.F!=null&&Ee()),O.Pb&&0<O.s.ua&&O.s.vb.X==null&&!st(O.s.vb,O.s.Wa.Xa)){O.a=1;break r}O.xb=0}if(!ue(O,O.V,O.Ba,O.c,O.i,C.o,le))break r;W.Dc=O.Ma,O=1;break t}e(O.a!=0),O=0}O=!O}O&&(g=f.a)}else g=f.a}else{if((f=new Un)==null){K=1;break e}if(f.Fa=W.na,f.P=W.P,f.qc=W.Sa,Vl(f,O)){if((g=Ju(O.width,O.height,K.Oa,K.ba))==0){if(f.Aa=0,C=K.Oa,e((W=f)!=null),C!=null){if(0<(te=0>(te=C.Md)?0:100<te?255:255*te/100)){for(ae=ye=0;4>ae;++ae)12>(Ie=W.pb[ae]).lc&&(Ie.ia=te*r6[0>Ie.lc?0:Ie.lc]>>3),ye|=Ie.ia;ye&&(alert("todo:VP8InitRandom"),W.ia=1)}W.Ga=C.Id,100<W.Ga?W.Ga=100:0>W.Ga&&(W.Ga=0)}qu(f,O)||(g=f.a)}}else g=f.a}g==0&&K.Oa!=null&&K.Oa.fd&&(g=Pf(K.ba))}K=g}G=K!=0?null:11>G?J.f.RGBA.eb:J.f.kb.y}else G=null;return G};var ny=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function u(S,I){for(var F="",N=0;N<4;N++)F+=String.fromCharCode(S[I++]);return F}function c(S,I){return(S[I+0]<<0|S[I+1]<<8|S[I+2]<<16)>>>0}function p(S,I){return(S[I+0]<<0|S[I+1]<<8|S[I+2]<<16|S[I+3]<<24)>>>0}new l;var m=[0],d=[0],y=[],v=new l,T=t,_=function(S,I){var F={},N=0,b=!1,D=0,Z=0;if(F.frames=[],!function(B,V,U,Y){for(var pe=0;pe<Y;pe++)if(B[V+pe]!=U.charCodeAt(pe))return!0;return!1}(S,I,"RIFF",4)){var de,se;for(p(S,I+=4),I+=8;I<S.length;){var re=u(S,I),X=p(S,I+=4);I+=4;var ee=X+(1&X);switch(re){case"VP8 ":case"VP8L":F.frames[N]===void 0&&(F.frames[N]={}),(P=F.frames[N]).src_off=b?Z:I-8,P.src_size=D+X+8,N++,b&&(b=!1,D=0,Z=0);break;case"VP8X":(P=F.header={}).feature_flags=S[I];var he=I+4;P.canvas_width=1+c(S,he),he+=3,P.canvas_height=1+c(S,he),he+=3;break;case"ALPH":b=!0,D=ee+8,Z=I-8;break;case"ANIM":(P=F.header).bgcolor=p(S,I),he=I+4,P.loop_count=(de=S)[(se=he)+0]<<0|de[se+1]<<8,he+=2;break;case"ANMF":var we,P;(P=F.frames[N]={}).offset_x=2*c(S,I),I+=3,P.offset_y=2*c(S,I),I+=3,P.width=1+c(S,I),I+=3,P.height=1+c(S,I),I+=3,P.duration=c(S,I),I+=3,we=S[I++],P.dispose=1&we,P.blend=we>>1&1}re!="ANMF"&&(I+=ee)}return F}}(T,0);_.response=T,_.rgbaoutput=!0,_.dataurl=!1;var x=_.header?_.header:null,E=_.frames?_.frames:null;if(x){x.loop_counter=x.loop_count,m=[x.canvas_height],d=[x.canvas_width];for(var L=0;L<E.length&&E[L].blend!=0;L++);}var j=E[0],z=v.WebPDecodeRGBA(T,j.src_off,j.src_size,d,m);j.rgba=z,j.imgwidth=d[0],j.imgheight=m[0];for(var w=0;w<d[0]*m[0]*4;w++)y[w]=z[w];return this.width=d,this.height=m,this.data=y,this}(function(t){var e=function(){return typeof L2=="function"},r=function(m,d,y,v){var T=4,_=a;switch(v){case t.image_compression.FAST:T=1,_=s;break;case t.image_compression.MEDIUM:T=6,_=o;break;case t.image_compression.SLOW:T=9,_=l}m=n(m,d,y,_);var x=L2(m,{level:T});return t.__addimage__.arrayBufferToBinaryString(x)},n=function(m,d,y,v){for(var T,_,x,E=m.length/d,L=new Uint8Array(m.length+E),j=c(),z=0;z<E;z+=1){if(x=z*d,T=m.subarray(x,x+d),v)L.set(v(T,y,_),x+z);else{for(var w,S=j.length,I=[];w<S;w+=1)I[w]=j[w](T,y,_);var F=p(I.concat());L.set(I[F],x+z)}_=T}return L},i=function(m){var d=Array.apply([],m);return d.unshift(0),d},s=function(m,d){var y,v=[],T=m.length;v[0]=1;for(var _=0;_<T;_+=1)y=m[_-d]||0,v[_+1]=m[_]-y+256&255;return v},a=function(m,d,y){var v,T=[],_=m.length;T[0]=2;for(var x=0;x<_;x+=1)v=y&&y[x]||0,T[x+1]=m[x]-v+256&255;return T},o=function(m,d,y){var v,T,_=[],x=m.length;_[0]=3;for(var E=0;E<x;E+=1)v=m[E-d]||0,T=y&&y[E]||0,_[E+1]=m[E]+256-(v+T>>>1)&255;return _},l=function(m,d,y){var v,T,_,x,E=[],L=m.length;E[0]=4;for(var j=0;j<L;j+=1)v=m[j-d]||0,T=y&&y[j]||0,_=y&&y[j-d]||0,x=u(v,T,_),E[j+1]=m[j]-x+256&255;return E},u=function(m,d,y){if(m===d&&d===y)return m;var v=Math.abs(d-y),T=Math.abs(m-y),_=Math.abs(m+d-y-y);return v<=T&&v<=_?m:T<=_?d:y},c=function(){return[i,s,a,o,l]},p=function(m){var d=m.map(function(y){return y.reduce(function(v,T){return v+Math.abs(T)},0)});return d.indexOf(Math.min.apply(null,d))};t.processPNG=function(m,d,y,v){var T,_,x,E,L,j,z,w,S,I,F,N,b,D,Z,de=this.decode.FLATE_DECODE,se="";if(this.__addimage__.isArrayBuffer(m)&&(m=new Uint8Array(m)),this.__addimage__.isArrayBufferView(m)){if(m=(x=new ML(m)).imgData,_=x.bits,T=x.colorSpace,L=x.colors,[4,6].indexOf(x.colorType)!==-1){if(x.bits===8){S=(w=x.pixelBitlength==32?new Uint32Array(x.decodePixels().buffer):x.pixelBitlength==16?new Uint16Array(x.decodePixels().buffer):new Uint8Array(x.decodePixels().buffer)).length,F=new Uint8Array(S*x.colors),I=new Uint8Array(S);var re,X=x.pixelBitlength-x.bits;for(D=0,Z=0;D<S;D++){for(b=w[D],re=0;re<X;)F[Z++]=b>>>re&255,re+=x.bits;I[D]=b>>>re&255}}if(x.bits===16){S=(w=new Uint32Array(x.decodePixels().buffer)).length,F=new Uint8Array(S*(32/x.pixelBitlength)*x.colors),I=new Uint8Array(S*(32/x.pixelBitlength)),N=x.colors>1,D=0,Z=0;for(var ee=0;D<S;)b=w[D++],F[Z++]=b>>>0&255,N&&(F[Z++]=b>>>16&255,b=w[D++],F[Z++]=b>>>0&255),I[ee++]=b>>>16&255;_=8}v!==t.image_compression.NONE&&e()?(m=r(F,x.width*x.colors,x.colors,v),z=r(I,x.width,1,v)):(m=F,z=I,de=void 0)}if(x.colorType===3&&(T=this.color_spaces.INDEXED,j=x.palette,x.transparency.indexed)){var he=x.transparency.indexed,we=0;for(D=0,S=he.length;D<S;++D)we+=he[D];if((we/=255)===S-1&&he.indexOf(0)!==-1)E=[he.indexOf(0)];else if(we!==S){for(w=x.decodePixels(),I=new Uint8Array(w.length),D=0,S=w.length;D<S;D++)I[D]=he[w[D]];z=r(I,x.width,1)}}var P=function(B){var V;switch(B){case t.image_compression.FAST:V=11;break;case t.image_compression.MEDIUM:V=13;break;case t.image_compression.SLOW:V=14;break;default:V=12}return V}(v);return de===this.decode.FLATE_DECODE&&(se="/Predictor "+P+" "),se+="/Colors "+L+" /BitsPerComponent "+_+" /Columns "+x.width,(this.__addimage__.isArrayBuffer(m)||this.__addimage__.isArrayBufferView(m))&&(m=this.__addimage__.arrayBufferToBinaryString(m)),(z&&this.__addimage__.isArrayBuffer(z)||this.__addimage__.isArrayBufferView(z))&&(z=this.__addimage__.arrayBufferToBinaryString(z)),{alias:y,data:m,index:d,filter:de,decodeParameters:se,transparency:E,palette:j,sMask:z,predictor:P,width:x.width,height:x.height,bitsPerComponent:_,colorSpace:T}}}})(Ct.API),function(t){t.processGIF89A=function(e,r,n,i){var s=new jL(e),a=s.width,o=s.height,l=[];s.decodeAndBlitFrameRGBA(0,l);var u={data:l,width:a,height:o},c=new rg(100).encode(u,100);return t.processJPEG.call(this,c,r,n,i)},t.processGIF87A=t.processGIF89A}(Ct.API),Js.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var t=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(t);for(var e=0;e<t;e++){var r=this.datav.getUint8(this.pos++,!0),n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0);this.palette[e]={red:i,green:n,blue:r,quad:s}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},Js.prototype.parseBGR=function(){this.pos=this.offset;try{var t="bit"+this.bitPP,e=this.width*this.height*4;this.data=new Uint8Array(e),this[t]()}catch(r){Ir.log("bit decode error:"+r)}},Js.prototype.bit1=function(){var t,e=Math.ceil(this.width/8),r=e%4;for(t=this.height-1;t>=0;t--){for(var n=this.bottom_up?t:this.height-1-t,i=0;i<e;i++)for(var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+8*i*4,o=0;o<8&&8*i+o<this.width;o++){var l=this.palette[s>>7-o&1];this.data[a+4*o]=l.blue,this.data[a+4*o+1]=l.green,this.data[a+4*o+2]=l.red,this.data[a+4*o+3]=255}r!==0&&(this.pos+=4-r)}},Js.prototype.bit4=function(){for(var t=Math.ceil(this.width/2),e=t%4,r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<t;i++){var s=this.datav.getUint8(this.pos++,!0),a=n*this.width*4+2*i*4,o=s>>4,l=15&s,u=this.palette[o];if(this.data[a]=u.blue,this.data[a+1]=u.green,this.data[a+2]=u.red,this.data[a+3]=255,2*i+1>=this.width)break;u=this.palette[l],this.data[a+4]=u.blue,this.data[a+4+1]=u.green,this.data[a+4+2]=u.red,this.data[a+4+3]=255}e!==0&&(this.pos+=4-e)}},Js.prototype.bit8=function(){for(var t=this.width%4,e=this.height-1;e>=0;e--){for(var r=this.bottom_up?e:this.height-1-e,n=0;n<this.width;n++){var i=this.datav.getUint8(this.pos++,!0),s=r*this.width*4+4*n;if(i<this.palette.length){var a=this.palette[i];this.data[s]=a.red,this.data[s+1]=a.green,this.data[s+2]=a.blue,this.data[s+3]=255}else this.data[s]=255,this.data[s+1]=255,this.data[s+2]=255,this.data[s+3]=255}t!==0&&(this.pos+=4-t)}},Js.prototype.bit15=function(){for(var t=this.width%3,e=parseInt("11111",2),r=this.height-1;r>=0;r--){for(var n=this.bottom_up?r:this.height-1-r,i=0;i<this.width;i++){var s=this.datav.getUint16(this.pos,!0);this.pos+=2;var a=(s&e)/e*255|0,o=(s>>5&e)/e*255|0,l=(s>>10&e)/e*255|0,u=s>>15?255:0,c=n*this.width*4+4*i;this.data[c]=l,this.data[c+1]=o,this.data[c+2]=a,this.data[c+3]=u}this.pos+=t}},Js.prototype.bit16=function(){for(var t=this.width%3,e=parseInt("11111",2),r=parseInt("111111",2),n=this.height-1;n>=0;n--){for(var i=this.bottom_up?n:this.height-1-n,s=0;s<this.width;s++){var a=this.datav.getUint16(this.pos,!0);this.pos+=2;var o=(a&e)/e*255|0,l=(a>>5&r)/r*255|0,u=(a>>11)/e*255|0,c=i*this.width*4+4*s;this.data[c]=u,this.data[c+1]=l,this.data[c+2]=o,this.data[c+3]=255}this.pos+=t}},Js.prototype.bit24=function(){for(var t=this.height-1;t>=0;t--){for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=e*this.width*4+4*r;this.data[a]=s,this.data[a+1]=i,this.data[a+2]=n,this.data[a+3]=255}this.pos+=this.width%4}},Js.prototype.bit32=function(){for(var t=this.height-1;t>=0;t--)for(var e=this.bottom_up?t:this.height-1-t,r=0;r<this.width;r++){var n=this.datav.getUint8(this.pos++,!0),i=this.datav.getUint8(this.pos++,!0),s=this.datav.getUint8(this.pos++,!0),a=this.datav.getUint8(this.pos++,!0),o=e*this.width*4+4*r;this.data[o]=s,this.data[o+1]=i,this.data[o+2]=n,this.data[o+3]=a}},Js.prototype.getData=function(){return this.data},function(t){t.processBMP=function(e,r,n,i){var s=new Js(e,!1),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new rg(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ct.API),K_.prototype.getData=function(){return this.data},function(t){t.processWEBP=function(e,r,n,i){var s=new K_(e),a=s.width,o=s.height,l={data:s.getData(),width:a,height:o},u=new rg(100).encode(l,100);return t.processJPEG.call(this,u,r,n,i)}}(Ct.API),Ct.API.processRGBA=function(t,e,r){for(var n=t.data,i=n.length,s=new Uint8Array(i/4*3),a=new Uint8Array(i/4),o=0,l=0,u=0;u<i;u+=4){var c=n[u],p=n[u+1],m=n[u+2],d=n[u+3];s[o++]=c,s[o++]=p,s[o++]=m,a[l++]=d}var y=this.__addimage__.arrayBufferToBinaryString(s);return{alpha:this.__addimage__.arrayBufferToBinaryString(a),data:y,index:e,alias:r,colorSpace:"DeviceRGB",bitsPerComponent:8,width:t.width,height:t.height}},Ct.API.setLanguage=function(t){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[t]!==void 0&&(this.internal.languageSettings.languageCode=t,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},dc=Ct.API,Fd=dc.getCharWidthsArray=function(t,e){var r,n,i=(e=e||{}).font||this.internal.getFont(),s=e.fontSize||this.internal.getFontSize(),a=e.charSpace||this.internal.getCharSpace(),o=e.widths?e.widths:i.metadata.Unicode.widths,l=o.fof?o.fof:1,u=e.kerning?e.kerning:i.metadata.Unicode.kerning,c=u.fof?u.fof:1,p=e.doKerning!==!1,m=0,d=t.length,y=0,v=o[0]||l,T=[];for(r=0;r<d;r++)n=t.charCodeAt(r),typeof i.metadata.widthOfString=="function"?T.push((i.metadata.widthOfGlyph(i.metadata.characterToGlyph(n))+a*(1e3/s)||0)/1e3):(m=p&&vr(u[n])==="object"&&!isNaN(parseInt(u[n][y],10))?u[n][y]/c:0,T.push((o[n]||v)/l+m)),y=n;return T},W_=dc.getStringUnitWidth=function(t,e){var r=(e=e||{}).fontSize||this.internal.getFontSize(),n=e.font||this.internal.getFont(),i=e.charSpace||this.internal.getCharSpace();return dc.processArabic&&(t=dc.processArabic(t)),typeof n.metadata.widthOfString=="function"?n.metadata.widthOfString(t,r,i)/r:Fd.apply(this,arguments).reduce(function(s,a){return s+a},0)},q_=function(t,e,r,n){for(var i=[],s=0,a=t.length,o=0;s!==a&&o+e[s]<r;)o+=e[s],s++;i.push(t.slice(0,s));var l=s;for(o=0;s!==a;)o+e[s]>n&&(i.push(t.slice(l,s)),o=0,l=s),o+=e[s],s++;return l!==s&&i.push(t.slice(l,s)),i},G_=function(t,e,r){r||(r={});var n,i,s,a,o,l,u,c=[],p=[c],m=r.textIndent||0,d=0,y=0,v=t.split(" "),T=Fd.apply(this,[" ",r])[0];if(l=r.lineIndent===-1?v[0].length+2:r.lineIndent||0){var _=Array(l).join(" "),x=[];v.map(function(L){(L=L.split(/\s*\n/)).length>1?x=x.concat(L.map(function(j,z){return(z&&j.length?`
`:"")+j})):x.push(L[0])}),v=x,l=W_.apply(this,[_,r])}for(s=0,a=v.length;s<a;s++){var E=0;if(n=v[s],l&&n[0]==`
`&&(n=n.substr(1),E=1),m+d+(y=(i=Fd.apply(this,[n,r])).reduce(function(L,j){return L+j},0))>e||E){if(y>e){for(o=q_.apply(this,[n,i,e-(m+d),e]),c.push(o.shift()),c=[o.pop()];o.length;)p.push([o.shift()]);y=i.slice(n.length-(c[0]?c[0].length:0)).reduce(function(L,j){return L+j},0)}else c=[n];p.push(c),m=y+l,d=T}else c.push(n),m+=d+y,d=T}return u=l?function(L,j){return(j?_:"")+L.join(" ")}:function(L){return L.join(" ")},p.map(u)},dc.splitTextToSize=function(t,e,r){var n,i=(r=r||{}).fontSize||this.internal.getFontSize(),s=(function(c){if(c.widths&&c.kerning)return{widths:c.widths,kerning:c.kerning};var p=this.internal.getFont(c.fontName,c.fontStyle);return p.metadata.Unicode?{widths:p.metadata.Unicode.widths||{0:1},kerning:p.metadata.Unicode.kerning||{}}:{font:p.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}).call(this,r);n=Array.isArray(t)?t:String(t).split(/\r?\n/);var a=1*this.internal.scaleFactor*e/i;s.textIndent=r.textIndent?1*r.textIndent*this.internal.scaleFactor/i:0,s.lineIndent=r.lineIndent;var o,l,u=[];for(o=0,l=n.length;o<l;o++)u=u.concat(G_.apply(this,[n[o],a,s]));return u},function(t){t.__fontmetrics__=t.__fontmetrics__||{};for(var e="klmnopqrstuvwxyz",r={},n={},i=0;i<e.length;i++)r[e[i]]="0123456789abcdef"[i],n["0123456789abcdef"[i]]=e[i];var s=function(p){return"0x"+parseInt(p,10).toString(16)},a=t.__fontmetrics__.compress=function(p){var m,d,y,v,T=["{"];for(var _ in p){if(m=p[_],isNaN(parseInt(_,10))?d="'"+_+"'":(_=parseInt(_,10),d=(d=s(_).slice(2)).slice(0,-1)+n[d.slice(-1)]),typeof m=="number")m<0?(y=s(m).slice(3),v="-"):(y=s(m).slice(2),v=""),y=v+y.slice(0,-1)+n[y.slice(-1)];else{if(vr(m)!=="object")throw new Error("Don't know what to do with value type "+vr(m)+".");y=a(m)}T.push(d+y)}return T.push("}"),T.join("")},o=t.__fontmetrics__.uncompress=function(p){if(typeof p!="string")throw new Error("Invalid argument passed to uncompress.");for(var m,d,y,v,T={},_=1,x=T,E=[],L="",j="",z=p.length-1,w=1;w<z;w+=1)(v=p[w])=="'"?m?(y=m.join(""),m=void 0):m=[]:m?m.push(v):v=="{"?(E.push([x,y]),x={},y=void 0):v=="}"?((d=E.pop())[0][d[1]]=x,y=void 0,x=d[0]):v=="-"?_=-1:y===void 0?r.hasOwnProperty(v)?(L+=r[v],y=parseInt(L,16)*_,_=1,L=""):L+=v:r.hasOwnProperty(v)?(j+=r[v],x[y]=parseInt(j,16)*_,_=1,y=void 0,j=""):j+=v;return T},l={codePages:["WinAnsiEncoding"],WinAnsiEncoding:o("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},u={Unicode:{Courier:l,"Courier-Bold":l,"Courier-BoldOblique":l,"Courier-Oblique":l,Helvetica:l,"Helvetica-Bold":l,"Helvetica-BoldOblique":l,"Helvetica-Oblique":l,"Times-Roman":l,"Times-Bold":l,"Times-BoldItalic":l,"Times-Italic":l}},c={Unicode:{"Courier-Oblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":o("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":o("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:o("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":o("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:o("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":o("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":o("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":o("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":o("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};t.events.push(["addFont",function(p){var m=p.font,d=c.Unicode[m.postScriptName];d&&(m.metadata.Unicode={},m.metadata.Unicode.widths=d.widths,m.metadata.Unicode.kerning=d.kerning);var y=u.Unicode[m.postScriptName];y&&(m.metadata.Unicode.encoding=y,m.encoding=y.codePages[0])}])}(Ct.API),function(t){var e=function(r){for(var n=r.length,i=new Uint8Array(n),s=0;s<n;s++)i[s]=r.charCodeAt(s);return i};t.API.events.push(["addFont",function(r){var n=void 0,i=r.font,s=r.instance;if(!i.isStandardFont){if(s===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");if(typeof(n=s.existsFileInVFS(i.postScriptName)===!1?s.loadFile(i.postScriptName):s.getFileFromVFS(i.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+i.postScriptName+"').");(function(a,o){o=/^\x00\x01\x00\x00/.test(o)?e(o):e(Sh(o)),a.metadata=t.API.TTFFont.open(o),a.metadata.Unicode=a.metadata.Unicode||{encoding:{},kerning:{},widths:[]},a.metadata.glyIdsUsed=[0]})(i,n)}}])}(Ct),function(t){function e(){return(Ft.canvg?Promise.resolve(Ft.canvg):N2(()=>import("./index.es-CdS9pcpg.js"),[])).catch(function(r){return Promise.reject(new Error("Could not load canvg: "+r))}).then(function(r){return r.default?r.default:r})}Ct.API.addSvgAsImage=function(r,n,i,s,a,o,l,u){if(isNaN(n)||isNaN(i))throw Ir.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(s)||isNaN(a))throw Ir.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var c=document.createElement("canvas");c.width=s,c.height=a;var p=c.getContext("2d");p.fillStyle="#fff",p.fillRect(0,0,c.width,c.height);var m={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},d=this;return e().then(function(y){return y.fromString(p,r,m)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(y){return y.render(m)}).then(function(){d.addImage(c.toDataURL("image/jpeg",1),n,i,s,a,l,u)})}}(),Ct.API.putTotalPages=function(t){var e,r=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(e=new RegExp(t,"g"),r=this.internal.getNumberOfPages()):(e=new RegExp(this.pdfEscape16(t,this.internal.getFont()),"g"),r=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var n=1;n<=this.internal.getNumberOfPages();n++)for(var i=0;i<this.internal.pages[n].length;i++)this.internal.pages[n][i]=this.internal.pages[n][i].replace(e,r);return this},Ct.API.viewerPreferences=function(t,e){var r;t=t||{},e=e||!1;var n,i,s,a={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},o=Object.keys(a),l=[],u=0,c=0,p=0;function m(y,v){var T,_=!1;for(T=0;T<y.length;T+=1)y[T]===v&&(_=!0);return _}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(a)),this.internal.viewerpreferences.isSubscribed=!1),r=this.internal.viewerpreferences.configuration,t==="reset"||e===!0){var d=o.length;for(p=0;p<d;p+=1)r[o[p]].value=r[o[p]].defaultValue,r[o[p]].explicitSet=!1}if(vr(t)==="object"){for(i in t)if(s=t[i],m(o,i)&&s!==void 0){if(r[i].type==="boolean"&&typeof s=="boolean")r[i].value=s;else if(r[i].type==="name"&&m(r[i].valueSet,s))r[i].value=s;else if(r[i].type==="integer"&&Number.isInteger(s))r[i].value=s;else if(r[i].type==="array"){for(u=0;u<s.length;u+=1)if(n=!0,s[u].length===1&&typeof s[u][0]=="number")l.push(String(s[u]-1));else if(s[u].length>1){for(c=0;c<s[u].length;c+=1)typeof s[u][c]!="number"&&(n=!1);n===!0&&l.push([s[u][0]-1,s[u][1]-1].join(" "))}r[i].value="["+l.join(" ")+"]"}else r[i].value=r[i].defaultValue;r[i].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var y,v=[];for(y in r)r[y].explicitSet===!0&&(r[y].type==="name"?v.push("/"+y+" /"+r[y].value):v.push("/"+y+" "+r[y].value));v.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+v.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=r,this},function(t){var e=function(){var n='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',i=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),s=unescape(encodeURIComponent(n)),a=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),o=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),l=unescape(encodeURIComponent("</x:xmpmeta>")),u=s.length+a.length+o.length+i.length+l.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+u+" >>"),this.internal.write("stream"),this.internal.write(i+s+a+o+l),this.internal.write("endstream"),this.internal.write("endobj")},r=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};t.addMetadata=function(n,i){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:n,namespaceuri:i||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",r),this.internal.events.subscribe("postPutResources",e)),this}}(Ct.API),function(t){var e=t.API,r=e.pdfEscape16=function(s,a){for(var o,l=a.metadata.Unicode.widths,u=["","0","00","000","0000"],c=[""],p=0,m=s.length;p<m;++p){if(o=a.metadata.characterToGlyph(s.charCodeAt(p)),a.metadata.glyIdsUsed.push(o),a.metadata.toUnicode[o]=s.charCodeAt(p),l.indexOf(o)==-1&&(l.push(o),l.push([parseInt(a.metadata.widthOfGlyph(o),10)])),o=="0")return c.join("");o=o.toString(16),c.push(u[4-o.length],o)}return c.join("")},n=function(s){var a,o,l,u,c,p,m;for(c=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,l=[],p=0,m=(o=Object.keys(s).sort(function(d,y){return d-y})).length;p<m;p++)a=o[p],l.length>=100&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar`,l=[]),s[a]!==void 0&&s[a]!==null&&typeof s[a].toString=="function"&&(u=("0000"+s[a].toString(16)).slice(-4),a=("0000"+(+a).toString(16)).slice(-4),l.push("<"+a+"><"+u+">"));return l.length&&(c+=`
`+l.length+` beginbfchar
`+l.join(`
`)+`
endbfchar
`),c+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="Identity-H"){for(var p=o.metadata.Unicode.widths,m=o.metadata.subset.encode(o.metadata.glyIdsUsed,1),d="",y=0;y<m.length;y++)d+=String.fromCharCode(m[y]);var v=u();c({data:d,addLength1:!0,objectId:v}),l("endobj");var T=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:T}),l("endobj");var _=u();l("<<"),l("/Type /FontDescriptor"),l("/FontName /"+wc(o.fontName)),l("/FontFile2 "+v+" 0 R"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/Flags "+o.metadata.flags),l("/StemV "+o.metadata.stemV),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l(">>"),l("endobj");var x=u();l("<<"),l("/Type /Font"),l("/BaseFont /"+wc(o.fontName)),l("/FontDescriptor "+_+" 0 R"),l("/W "+t.API.PDFObject.convert(p)),l("/CIDToGIDMap /Identity"),l("/DW 1000"),l("/Subtype /CIDFontType2"),l("/CIDSystemInfo"),l("<<"),l("/Supplement 0"),l("/Registry (Adobe)"),l("/Ordering ("+o.encoding+")"),l(">>"),l(">>"),l("endobj"),o.objectNumber=u(),l("<<"),l("/Type /Font"),l("/Subtype /Type0"),l("/ToUnicode "+T+" 0 R"),l("/BaseFont /"+wc(o.fontName)),l("/Encoding /"+o.encoding),l("/DescendantFonts ["+x+" 0 R]"),l(">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]),e.events.push(["putFont",function(s){(function(a){var o=a.font,l=a.out,u=a.newObject,c=a.putStream;if(o.metadata instanceof t.API.TTFFont&&o.encoding==="WinAnsiEncoding"){for(var p=o.metadata.rawData,m="",d=0;d<p.length;d++)m+=String.fromCharCode(p[d]);var y=u();c({data:m,addLength1:!0,objectId:y}),l("endobj");var v=u();c({data:n(o.metadata.toUnicode),addLength1:!0,objectId:v}),l("endobj");var T=u();l("<<"),l("/Descent "+o.metadata.decender),l("/CapHeight "+o.metadata.capHeight),l("/StemV "+o.metadata.stemV),l("/Type /FontDescriptor"),l("/FontFile2 "+y+" 0 R"),l("/Flags 96"),l("/FontBBox "+t.API.PDFObject.convert(o.metadata.bbox)),l("/FontName /"+wc(o.fontName)),l("/ItalicAngle "+o.metadata.italicAngle),l("/Ascent "+o.metadata.ascender),l(">>"),l("endobj"),o.objectNumber=u();for(var _=0;_<o.metadata.hmtx.widths.length;_++)o.metadata.hmtx.widths[_]=parseInt(o.metadata.hmtx.widths[_]*(1e3/o.metadata.head.unitsPerEm));l("<</Subtype/TrueType/Type/Font/ToUnicode "+v+" 0 R/BaseFont/"+wc(o.fontName)+"/FontDescriptor "+T+" 0 R/Encoding/"+o.encoding+" /FirstChar 29 /LastChar 255 /Widths "+t.API.PDFObject.convert(o.metadata.hmtx.widths)+">>"),l("endobj"),o.isAlreadyPutted=!0}})(s)}]);var i=function(s){var a,o=s.text||"",l=s.x,u=s.y,c=s.options||{},p=s.mutex||{},m=p.pdfEscape,d=p.activeFontKey,y=p.fonts,v=d,T="",_=0,x="",E=y[v].encoding;if(y[v].encoding!=="Identity-H")return{text:o,x:l,y:u,options:c,mutex:p};for(x=o,v=d,Array.isArray(o)&&(x=o[0]),_=0;_<x.length;_+=1)y[v].metadata.hasOwnProperty("cmap")&&(a=y[v].metadata.cmap.unicode.codeMap[x[_].charCodeAt(0)]),a||x[_].charCodeAt(0)<256&&y[v].metadata.hasOwnProperty("Unicode")?T+=x[_]:T+="";var L="";return parseInt(v.slice(1))<14||E==="WinAnsiEncoding"?L=m(T,v).split("").map(function(j){return j.charCodeAt(0).toString(16)}).join(""):E==="Identity-H"&&(L=r(T,y[v])),p.isHex=!0,{text:L,x:l,y:u,options:c,mutex:p}};e.events.push(["postProcessText",function(s){var a=s.text||"",o=[],l={text:a,x:s.x,y:s.y,options:s.options,mutex:s.mutex};if(Array.isArray(a)){var u=0;for(u=0;u<a.length;u+=1)Array.isArray(a[u])&&a[u].length===3?o.push([i(Object.assign({},l,{text:a[u][0]})).text,a[u][1],a[u][2]]):o.push(i(Object.assign({},l,{text:a[u]})).text);s.text=o}else s.text=i(Object.assign({},l,{text:a})).text}])}(Ct),function(t){var e=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};t.existsFileInVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0},t.addFileToVFS=function(r,n){return e.call(this),this.internal.vFS[r]=n,this},t.getFileFromVFS=function(r){return e.call(this),this.internal.vFS[r]!==void 0?this.internal.vFS[r]:null}}(Ct.API),function(t){t.__bidiEngine__=t.prototype.__bidiEngine__=function(n){var i,s,a,o,l,u,c,p=e,m=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],d=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],y={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},v={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},T=["(",")","(","<",">","<","[","]","[","{","}","{","«","»","«","‹","›","‹","⁅","⁆","⁅","⁽","⁾","⁽","₍","₎","₍","≤","≥","≤","〈","〉","〈","﹙","﹚","﹙","﹛","﹜","﹛","﹝","﹞","﹝","﹤","﹥","﹤"],_=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),x=!1,E=0;this.__bidiEngine__={};var L=function(N){var b=N.charCodeAt(),D=b>>8,Z=v[D];return Z!==void 0?p[256*Z+(255&b)]:D===252||D===253?"AL":_.test(D)?"L":D===8?"R":"N"},j=function(N){for(var b,D=0;D<N.length;D++){if((b=L(N.charAt(D)))==="L")return!1;if(b==="R")return!0}return!1},z=function(N,b,D,Z){var de,se,re,X,ee=b[Z];switch(ee){case"L":case"R":x=!1;break;case"N":case"AN":break;case"EN":x&&(ee="AN");break;case"AL":x=!0,ee="R";break;case"WS":ee="N";break;case"CS":Z<1||Z+1>=b.length||(de=D[Z-1])!=="EN"&&de!=="AN"||(se=b[Z+1])!=="EN"&&se!=="AN"?ee="N":x&&(se="AN"),ee=se===de?se:"N";break;case"ES":ee=(de=Z>0?D[Z-1]:"B")==="EN"&&Z+1<b.length&&b[Z+1]==="EN"?"EN":"N";break;case"ET":if(Z>0&&D[Z-1]==="EN"){ee="EN";break}if(x){ee="N";break}for(re=Z+1,X=b.length;re<X&&b[re]==="ET";)re++;ee=re<X&&b[re]==="EN"?"EN":"N";break;case"NSM":if(a&&!o){for(X=b.length,re=Z+1;re<X&&b[re]==="NSM";)re++;if(re<X){var he=N[Z],we=he>=1425&&he<=2303||he===64286;if(de=b[re],we&&(de==="R"||de==="AL")){ee="R";break}}}ee=Z<1||(de=b[Z-1])==="B"?"N":D[Z-1];break;case"B":x=!1,i=!0,ee=E;break;case"S":s=!0,ee="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":x=!1;break;case"BN":ee="N"}return ee},w=function(N,b,D){var Z=N.split("");return D&&S(Z,D,{hiLevel:E}),Z.reverse(),b&&b.reverse(),Z.join("")},S=function(N,b,D){var Z,de,se,re,X,ee=-1,he=N.length,we=0,P=[],B=E?d:m,V=[];for(x=!1,i=!1,s=!1,de=0;de<he;de++)V[de]=L(N[de]);for(se=0;se<he;se++){if(X=we,P[se]=z(N,V,P,se),Z=240&(we=B[X][y[P[se]]]),we&=15,b[se]=re=B[we][5],Z>0)if(Z===16){for(de=ee;de<se;de++)b[de]=1;ee=-1}else ee=-1;if(B[we][6])ee===-1&&(ee=se);else if(ee>-1){for(de=ee;de<se;de++)b[de]=re;ee=-1}V[se]==="B"&&(b[se]=0),D.hiLevel|=re}s&&function(U,Y,pe){for(var me=0;me<pe;me++)if(U[me]==="S"){Y[me]=E;for(var ge=me-1;ge>=0&&U[ge]==="WS";ge--)Y[ge]=E}}(V,b,he)},I=function(N,b,D,Z,de){if(!(de.hiLevel<N)){if(N===1&&E===1&&!i)return b.reverse(),void(D&&D.reverse());for(var se,re,X,ee,he=b.length,we=0;we<he;){if(Z[we]>=N){for(X=we+1;X<he&&Z[X]>=N;)X++;for(ee=we,re=X-1;ee<re;ee++,re--)se=b[ee],b[ee]=b[re],b[re]=se,D&&(se=D[ee],D[ee]=D[re],D[re]=se);we=X}we++}}},F=function(N,b,D){var Z=N.split(""),de={hiLevel:E};return D||(D=[]),S(Z,D,de),function(se,re,X){if(X.hiLevel!==0&&c)for(var ee,he=0;he<se.length;he++)re[he]===1&&(ee=T.indexOf(se[he]))>=0&&(se[he]=T[ee+1])}(Z,D,de),I(2,Z,b,D,de),I(1,Z,b,D,de),Z.join("")};return this.__bidiEngine__.doBidiReorder=function(N,b,D){if(function(de,se){if(se)for(var re=0;re<de.length;re++)se[re]=re;o===void 0&&(o=j(de)),u===void 0&&(u=j(de))}(N,b),a||!l||u)if(a&&l&&o^u)E=o?1:0,N=w(N,b,D);else if(!a&&l&&u)E=o?1:0,N=F(N,b,D),N=w(N,b);else if(!a||o||l||u){if(a&&!l&&o^u)N=w(N,b),o?(E=0,N=F(N,b,D)):(E=1,N=F(N,b,D),N=w(N,b));else if(a&&o&&!l&&u)E=1,N=F(N,b,D),N=w(N,b);else if(!a&&!l&&o^u){var Z=c;o?(E=1,N=F(N,b,D),E=0,c=!1,N=F(N,b,D),c=Z):(E=0,N=F(N,b,D),N=w(N,b),E=1,c=!1,N=F(N,b,D),c=Z,N=w(N,b))}}else E=0,N=F(N,b,D);else E=o?1:0,N=F(N,b,D);return N},this.__bidiEngine__.setOptions=function(N){N&&(a=N.isInputVisual,l=N.isOutputVisual,o=N.isInputRtl,u=N.isOutputRtl,c=N.isSymmetricSwapping)},this.__bidiEngine__.setOptions(n),this.__bidiEngine__};var e=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],r=new t.__bidiEngine__({isInputVisual:!0});t.API.events.push(["postProcessText",function(n){var i=n.text,s=(n.x,n.y,n.options||{}),a=(n.mutex,s.lang,[]);if(s.isInputVisual=typeof s.isInputVisual!="boolean"||s.isInputVisual,r.setOptions(s),Object.prototype.toString.call(i)==="[object Array]"){var o=0;for(a=[],o=0;o<i.length;o+=1)Object.prototype.toString.call(i[o])==="[object Array]"?a.push([r.doBidiReorder(i[o][0]),i[o][1],i[o][2]]):a.push([r.doBidiReorder(i[o])]);n.text=a}else n.text=r.doBidiReorder(i);r.setOptions({isInputVisual:!0})}])}(Ct),Ct.API.TTFFont=function(){function t(e){var r;if(this.rawData=e,r=this.contents=new Pl(e),this.contents.pos=4,r.readString(4)==="ttcf")throw new Error("TTCF not supported.");r.pos=0,this.parse(),this.subset=new ZL(this),this.registerTTF()}return t.open=function(e){return new t(e)},t.prototype.parse=function(){return this.directory=new BL(this.contents),this.head=new UL(this),this.name=new GL(this),this.cmap=new GE(this),this.toUnicode={},this.hhea=new zL(this),this.maxp=new $L(this),this.hmtx=new KL(this),this.post=new WL(this),this.os2=new HL(this),this.loca=new JL(this),this.glyf=new XL(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},t.prototype.registerTTF=function(){var e,r,n,i,s;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=(function(){var a,o,l,u;for(u=[],a=0,o=(l=this.bbox).length;a<o;a++)e=l[a],u.push(Math.round(e*this.scaleFactor));return u}).call(this),this.stemV=0,this.post.exists?(n=255&(i=this.post.italic_angle),32768&(r=i>>16)&&(r=-(1+(65535^r))),this.italicAngle=+(r+"."+n)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(s=this.familyClass)===1||s===2||s===3||s===4||s===5||s===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},t.prototype.characterToGlyph=function(e){var r;return((r=this.cmap.unicode)!=null?r.codeMap[e]:void 0)||0},t.prototype.widthOfGlyph=function(e){var r;return r=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(e).advance*r},t.prototype.widthOfString=function(e,r,n){var i,s,a,o;for(a=0,s=0,o=(e=""+e).length;0<=o?s<o:s>o;s=0<=o?++s:--s)i=e.charCodeAt(s),a+=this.widthOfGlyph(this.characterToGlyph(i))+n*(1e3/r)||0;return a*(r/1e3)},t.prototype.lineHeight=function(e,r){var n;return r==null&&(r=!1),n=r?this.lineGap:0,(this.ascender+n-this.decender)/1e3*e},t}();var pa,Pl=function(){function t(e){this.data=e??[],this.pos=0,this.length=this.data.length}return t.prototype.readByte=function(){return this.data[this.pos++]},t.prototype.writeByte=function(e){return this.data[this.pos++]=e},t.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},t.prototype.writeUInt32=function(e){return this.writeByte(e>>>24&255),this.writeByte(e>>16&255),this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt32=function(){var e;return(e=this.readUInt32())>=2147483648?e-4294967296:e},t.prototype.writeInt32=function(e){return e<0&&(e+=4294967296),this.writeUInt32(e)},t.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},t.prototype.writeUInt16=function(e){return this.writeByte(e>>8&255),this.writeByte(255&e)},t.prototype.readInt16=function(){var e;return(e=this.readUInt16())>=32768?e-65536:e},t.prototype.writeInt16=function(e){return e<0&&(e+=65536),this.writeUInt16(e)},t.prototype.readString=function(e){var r,n;for(n=[],r=0;0<=e?r<e:r>e;r=0<=e?++r:--r)n[r]=String.fromCharCode(this.readByte());return n.join("")},t.prototype.writeString=function(e){var r,n,i;for(i=[],r=0,n=e.length;0<=n?r<n:r>n;r=0<=n?++r:--r)i.push(this.writeByte(e.charCodeAt(r)));return i},t.prototype.readShort=function(){return this.readInt16()},t.prototype.writeShort=function(e){return this.writeInt16(e)},t.prototype.readLongLong=function(){var e,r,n,i,s,a,o,l;return e=this.readByte(),r=this.readByte(),n=this.readByte(),i=this.readByte(),s=this.readByte(),a=this.readByte(),o=this.readByte(),l=this.readByte(),128&e?-1*(72057594037927940*(255^e)+281474976710656*(255^r)+1099511627776*(255^n)+4294967296*(255^i)+16777216*(255^s)+65536*(255^a)+256*(255^o)+(255^l)+1):72057594037927940*e+281474976710656*r+1099511627776*n+4294967296*i+16777216*s+65536*a+256*o+l},t.prototype.writeLongLong=function(e){var r,n;return r=Math.floor(e/4294967296),n=4294967295&e,this.writeByte(r>>24&255),this.writeByte(r>>16&255),this.writeByte(r>>8&255),this.writeByte(255&r),this.writeByte(n>>24&255),this.writeByte(n>>16&255),this.writeByte(n>>8&255),this.writeByte(255&n)},t.prototype.readInt=function(){return this.readInt32()},t.prototype.writeInt=function(e){return this.writeInt32(e)},t.prototype.read=function(e){var r,n;for(r=[],n=0;0<=e?n<e:n>e;n=0<=e?++n:--n)r.push(this.readByte());return r},t.prototype.write=function(e){var r,n,i,s;for(s=[],n=0,i=e.length;n<i;n++)r=e[n],s.push(this.writeByte(r));return s},t}(),BL=function(){var t;function e(r){var n,i,s;for(this.scalarType=r.readInt(),this.tableCount=r.readShort(),this.searchRange=r.readShort(),this.entrySelector=r.readShort(),this.rangeShift=r.readShort(),this.tables={},i=0,s=this.tableCount;0<=s?i<s:i>s;i=0<=s?++i:--i)n={tag:r.readString(4),checksum:r.readInt(),offset:r.readInt(),length:r.readInt()},this.tables[n.tag]=n}return e.prototype.encode=function(r){var n,i,s,a,o,l,u,c,p,m,d,y,v;for(v in d=Object.keys(r).length,l=Math.log(2),p=16*Math.floor(Math.log(d)/l),a=Math.floor(p/l),c=16*d-p,(i=new Pl).writeInt(this.scalarType),i.writeShort(d),i.writeShort(p),i.writeShort(a),i.writeShort(c),s=16*d,u=i.pos+s,o=null,y=[],r)for(m=r[v],i.writeString(v),i.writeInt(t(m)),i.writeInt(u),i.writeInt(m.length),y=y.concat(m),v==="head"&&(o=u),u+=m.length;u%4;)y.push(0),u++;return i.write(y),n=2981146554-t(i.data),i.pos=o+8,i.writeUInt32(n),i.data},t=function(r){var n,i,s,a;for(r=$E.call(r);r.length%4;)r.push(0);for(s=new Pl(r),i=0,n=0,a=r.length;n<a;n=n+=4)i+=s.readUInt32();return 4294967295&i},e}(),VL={}.hasOwnProperty,ja=function(t,e){for(var r in e)VL.call(e,r)&&(t[r]=e[r]);function n(){this.constructor=t}return n.prototype=e.prototype,t.prototype=new n,t.__super__=e.prototype,t};pa=function(){function t(e){var r;this.file=e,r=this.file.directory.tables[this.tag],this.exists=!!r,r&&(this.offset=r.offset,this.length=r.length,this.parse(this.file.contents))}return t.prototype.parse=function(){},t.prototype.encode=function(){},t.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},t}();var UL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="head",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.revision=r.readInt(),this.checkSumAdjustment=r.readInt(),this.magicNumber=r.readInt(),this.flags=r.readShort(),this.unitsPerEm=r.readShort(),this.created=r.readLongLong(),this.modified=r.readLongLong(),this.xMin=r.readShort(),this.yMin=r.readShort(),this.xMax=r.readShort(),this.yMax=r.readShort(),this.macStyle=r.readShort(),this.lowestRecPPEM=r.readShort(),this.fontDirectionHint=r.readShort(),this.indexToLocFormat=r.readShort(),this.glyphDataFormat=r.readShort()},e.prototype.encode=function(r){var n;return(n=new Pl).writeInt(this.version),n.writeInt(this.revision),n.writeInt(this.checkSumAdjustment),n.writeInt(this.magicNumber),n.writeShort(this.flags),n.writeShort(this.unitsPerEm),n.writeLongLong(this.created),n.writeLongLong(this.modified),n.writeShort(this.xMin),n.writeShort(this.yMin),n.writeShort(this.xMax),n.writeShort(this.yMax),n.writeShort(this.macStyle),n.writeShort(this.lowestRecPPEM),n.writeShort(this.fontDirectionHint),n.writeShort(r),n.writeShort(this.glyphDataFormat),n.data},e}(),X_=function(){function t(e,r){var n,i,s,a,o,l,u,c,p,m,d,y,v,T,_,x,E;switch(this.platformID=e.readUInt16(),this.encodingID=e.readShort(),this.offset=r+e.readInt(),p=e.pos,e.pos=this.offset,this.format=e.readUInt16(),this.length=e.readUInt16(),this.language=e.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(l=0;l<256;++l)this.codeMap[l]=e.readByte();break;case 4:for(d=e.readUInt16(),m=d/2,e.pos+=6,s=function(){var L,j;for(j=[],l=L=0;0<=m?L<m:L>m;l=0<=m?++L:--L)j.push(e.readUInt16());return j}(),e.pos+=2,v=function(){var L,j;for(j=[],l=L=0;0<=m?L<m:L>m;l=0<=m?++L:--L)j.push(e.readUInt16());return j}(),u=function(){var L,j;for(j=[],l=L=0;0<=m?L<m:L>m;l=0<=m?++L:--L)j.push(e.readUInt16());return j}(),c=function(){var L,j;for(j=[],l=L=0;0<=m?L<m:L>m;l=0<=m?++L:--L)j.push(e.readUInt16());return j}(),i=(this.length-e.pos+this.offset)/2,o=function(){var L,j;for(j=[],l=L=0;0<=i?L<i:L>i;l=0<=i?++L:--L)j.push(e.readUInt16());return j}(),l=_=0,E=s.length;_<E;l=++_)for(T=s[l],n=x=y=v[l];y<=T?x<=T:x>=T;n=y<=T?++x:--x)c[l]===0?a=n+u[l]:(a=o[c[l]/2+(n-y)-(m-l)]||0)!==0&&(a+=u[l]),this.codeMap[n]=65535&a}e.pos=p}return t.encode=function(e,r){var n,i,s,a,o,l,u,c,p,m,d,y,v,T,_,x,E,L,j,z,w,S,I,F,N,b,D,Z,de,se,re,X,ee,he,we,P,B,V,U,Y,pe,me,ge,Te,Me,Ve;switch(Z=new Pl,a=Object.keys(e).sort(function(Je,st){return Je-st}),r){case"macroman":for(v=0,T=function(){var Je=[];for(y=0;y<256;++y)Je.push(0);return Je}(),x={0:0},s={},de=0,ee=a.length;de<ee;de++)x[ge=e[i=a[de]]]==null&&(x[ge]=++v),s[i]={old:e[i],new:x[e[i]]},T[i]=x[e[i]];return Z.writeUInt16(1),Z.writeUInt16(0),Z.writeUInt32(12),Z.writeUInt16(0),Z.writeUInt16(262),Z.writeUInt16(0),Z.write(T),{charMap:s,subtable:Z.data,maxGlyphID:v+1};case"unicode":for(b=[],p=[],E=0,x={},n={},_=u=null,se=0,he=a.length;se<he;se++)x[j=e[i=a[se]]]==null&&(x[j]=++E),n[i]={old:j,new:x[j]},o=x[j]-i,_!=null&&o===u||(_&&p.push(_),b.push(i),u=o),_=i;for(_&&p.push(_),p.push(65535),b.push(65535),F=2*(I=b.length),S=2*Math.pow(Math.log(I)/Math.LN2,2),m=Math.log(S/2)/Math.LN2,w=2*I-S,l=[],z=[],d=[],y=re=0,we=b.length;re<we;y=++re){if(N=b[y],c=p[y],N===65535){l.push(0),z.push(0);break}if(N-(D=n[N].new)>=32768)for(l.push(0),z.push(2*(d.length+I-y)),i=X=N;N<=c?X<=c:X>=c;i=N<=c?++X:--X)d.push(n[i].new);else l.push(D-N),z.push(0)}for(Z.writeUInt16(3),Z.writeUInt16(1),Z.writeUInt32(12),Z.writeUInt16(4),Z.writeUInt16(16+8*I+2*d.length),Z.writeUInt16(0),Z.writeUInt16(F),Z.writeUInt16(S),Z.writeUInt16(m),Z.writeUInt16(w),pe=0,P=p.length;pe<P;pe++)i=p[pe],Z.writeUInt16(i);for(Z.writeUInt16(0),me=0,B=b.length;me<B;me++)i=b[me],Z.writeUInt16(i);for(Te=0,V=l.length;Te<V;Te++)o=l[Te],Z.writeUInt16(o);for(Me=0,U=z.length;Me<U;Me++)L=z[Me],Z.writeUInt16(L);for(Ve=0,Y=d.length;Ve<Y;Ve++)v=d[Ve],Z.writeUInt16(v);return{charMap:n,subtable:Z.data,maxGlyphID:E+1}}},t}(),GE=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="cmap",e.prototype.parse=function(r){var n,i,s;for(r.pos=this.offset,this.version=r.readUInt16(),s=r.readUInt16(),this.tables=[],this.unicode=null,i=0;0<=s?i<s:i>s;i=0<=s?++i:--i)n=new X_(r,this.offset),this.tables.push(n),n.isUnicode&&this.unicode==null&&(this.unicode=n);return!0},e.encode=function(r,n){var i,s;return n==null&&(n="macroman"),i=X_.encode(r,n),(s=new Pl).writeUInt16(0),s.writeUInt16(1),i.table=s.data.concat(i.subtable),i},e}(),zL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="hhea",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.ascender=r.readShort(),this.decender=r.readShort(),this.lineGap=r.readShort(),this.advanceWidthMax=r.readShort(),this.minLeftSideBearing=r.readShort(),this.minRightSideBearing=r.readShort(),this.xMaxExtent=r.readShort(),this.caretSlopeRise=r.readShort(),this.caretSlopeRun=r.readShort(),this.caretOffset=r.readShort(),r.pos+=8,this.metricDataFormat=r.readShort(),this.numberOfMetrics=r.readUInt16()},e}(),HL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="OS/2",e.prototype.parse=function(r){if(r.pos=this.offset,this.version=r.readUInt16(),this.averageCharWidth=r.readShort(),this.weightClass=r.readUInt16(),this.widthClass=r.readUInt16(),this.type=r.readShort(),this.ySubscriptXSize=r.readShort(),this.ySubscriptYSize=r.readShort(),this.ySubscriptXOffset=r.readShort(),this.ySubscriptYOffset=r.readShort(),this.ySuperscriptXSize=r.readShort(),this.ySuperscriptYSize=r.readShort(),this.ySuperscriptXOffset=r.readShort(),this.ySuperscriptYOffset=r.readShort(),this.yStrikeoutSize=r.readShort(),this.yStrikeoutPosition=r.readShort(),this.familyClass=r.readShort(),this.panose=function(){var n,i;for(i=[],n=0;n<10;++n)i.push(r.readByte());return i}(),this.charRange=function(){var n,i;for(i=[],n=0;n<4;++n)i.push(r.readInt());return i}(),this.vendorID=r.readString(4),this.selection=r.readShort(),this.firstCharIndex=r.readShort(),this.lastCharIndex=r.readShort(),this.version>0&&(this.ascent=r.readShort(),this.descent=r.readShort(),this.lineGap=r.readShort(),this.winAscent=r.readShort(),this.winDescent=r.readShort(),this.codePageRange=function(){var n,i;for(i=[],n=0;n<2;n=++n)i.push(r.readInt());return i}(),this.version>1))return this.xHeight=r.readShort(),this.capHeight=r.readShort(),this.defaultChar=r.readShort(),this.breakChar=r.readShort(),this.maxContext=r.readShort()},e}(),WL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="post",e.prototype.parse=function(r){var n,i,s;switch(r.pos=this.offset,this.format=r.readInt(),this.italicAngle=r.readInt(),this.underlinePosition=r.readShort(),this.underlineThickness=r.readShort(),this.isFixedPitch=r.readInt(),this.minMemType42=r.readInt(),this.maxMemType42=r.readInt(),this.minMemType1=r.readInt(),this.maxMemType1=r.readInt(),this.format){case 65536:break;case 131072:var a;for(i=r.readUInt16(),this.glyphNameIndex=[],a=0;0<=i?a<i:a>i;a=0<=i?++a:--a)this.glyphNameIndex.push(r.readUInt16());for(this.names=[],s=[];r.pos<this.offset+this.length;)n=r.readByte(),s.push(this.names.push(r.readString(n)));return s;case 151552:return i=r.readUInt16(),this.offsets=r.read(i);case 196608:break;case 262144:return this.map=(function(){var o,l,u;for(u=[],a=o=0,l=this.file.maxp.numGlyphs;0<=l?o<l:o>l;a=0<=l?++o:--o)u.push(r.readUInt32());return u}).call(this)}},e}(),qL=function(t,e){this.raw=t,this.length=t.length,this.platformID=e.platformID,this.encodingID=e.encodingID,this.languageID=e.languageID},GL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="name",e.prototype.parse=function(r){var n,i,s,a,o,l,u,c,p,m,d;for(r.pos=this.offset,r.readShort(),n=r.readShort(),l=r.readShort(),i=[],a=0;0<=n?a<n:a>n;a=0<=n?++a:--a)i.push({platformID:r.readShort(),encodingID:r.readShort(),languageID:r.readShort(),nameID:r.readShort(),length:r.readShort(),offset:this.offset+l+r.readShort()});for(u={},a=p=0,m=i.length;p<m;a=++p)s=i[a],r.pos=s.offset,c=r.readString(s.length),o=new qL(c,s),u[d=s.nameID]==null&&(u[d]=[]),u[s.nameID].push(o);this.strings=u,this.copyright=u[0],this.fontFamily=u[1],this.fontSubfamily=u[2],this.uniqueSubfamily=u[3],this.fontName=u[4],this.version=u[5];try{this.postscriptName=u[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch{this.postscriptName=u[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=u[7],this.manufacturer=u[8],this.designer=u[9],this.description=u[10],this.vendorUrl=u[11],this.designerUrl=u[12],this.license=u[13],this.licenseUrl=u[14],this.preferredFamily=u[15],this.preferredSubfamily=u[17],this.compatibleFull=u[18],this.sampleText=u[19]},e}(),$L=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="maxp",e.prototype.parse=function(r){return r.pos=this.offset,this.version=r.readInt(),this.numGlyphs=r.readUInt16(),this.maxPoints=r.readUInt16(),this.maxContours=r.readUInt16(),this.maxCompositePoints=r.readUInt16(),this.maxComponentContours=r.readUInt16(),this.maxZones=r.readUInt16(),this.maxTwilightPoints=r.readUInt16(),this.maxStorage=r.readUInt16(),this.maxFunctionDefs=r.readUInt16(),this.maxInstructionDefs=r.readUInt16(),this.maxStackElements=r.readUInt16(),this.maxSizeOfInstructions=r.readUInt16(),this.maxComponentElements=r.readUInt16(),this.maxComponentDepth=r.readUInt16()},e}(),KL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="hmtx",e.prototype.parse=function(r){var n,i,s,a,o,l,u;for(r.pos=this.offset,this.metrics=[],n=0,l=this.file.hhea.numberOfMetrics;0<=l?n<l:n>l;n=0<=l?++n:--n)this.metrics.push({advance:r.readUInt16(),lsb:r.readInt16()});for(s=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var c,p;for(p=[],n=c=0;0<=s?c<s:c>s;n=0<=s?++c:--c)p.push(r.readInt16());return p}(),this.widths=(function(){var c,p,m,d;for(d=[],c=0,p=(m=this.metrics).length;c<p;c++)a=m[c],d.push(a.advance);return d}).call(this),i=this.widths[this.widths.length-1],u=[],n=o=0;0<=s?o<s:o>s;n=0<=s?++o:--o)u.push(this.widths.push(i));return u},e.prototype.forGlyph=function(r){return r in this.metrics?this.metrics[r]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[r-this.metrics.length]}},e}(),$E=[].slice,XL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="glyf",e.prototype.parse=function(){return this.cache={}},e.prototype.glyphFor=function(r){var n,i,s,a,o,l,u,c,p,m;return r in this.cache?this.cache[r]:(a=this.file.loca,n=this.file.contents,i=a.indexOf(r),(s=a.lengthOf(r))===0?this.cache[r]=null:(n.pos=this.offset+i,o=(l=new Pl(n.read(s))).readShort(),c=l.readShort(),m=l.readShort(),u=l.readShort(),p=l.readShort(),this.cache[r]=o===-1?new QL(l,c,m,u,p):new YL(l,o,c,m,u,p),this.cache[r]))},e.prototype.encode=function(r,n,i){var s,a,o,l,u;for(o=[],a=[],l=0,u=n.length;l<u;l++)s=r[n[l]],a.push(o.length),s&&(o=o.concat(s.encode(i)));return a.push(o.length),{table:o,offsets:a}},e}(),YL=function(){function t(e,r,n,i,s,a){this.raw=e,this.numberOfContours=r,this.xMin=n,this.yMin=i,this.xMax=s,this.yMax=a,this.compound=!1}return t.prototype.encode=function(){return this.raw.data},t}(),QL=function(){function t(e,r,n,i,s){var a,o;for(this.raw=e,this.xMin=r,this.yMin=n,this.xMax=i,this.yMax=s,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],a=this.raw;o=a.readShort(),this.glyphOffsets.push(a.pos),this.glyphIDs.push(a.readUInt16()),32&o;)a.pos+=1&o?4:2,128&o?a.pos+=8:64&o?a.pos+=4:8&o&&(a.pos+=2)}return t.prototype.encode=function(){var e,r,n;for(r=new Pl($E.call(this.raw.data)),e=0,n=this.glyphIDs.length;e<n;++e)r.pos=this.glyphOffsets[e];return r.data},t}(),JL=function(t){function e(){return e.__super__.constructor.apply(this,arguments)}return ja(e,pa),e.prototype.tag="loca",e.prototype.parse=function(r){var n,i;return r.pos=this.offset,n=this.file.head.indexToLocFormat,this.offsets=n===0?(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=2)a.push(2*r.readUInt16());return a}).call(this):(function(){var s,a;for(a=[],i=0,s=this.length;i<s;i+=4)a.push(r.readUInt32());return a}).call(this)},e.prototype.indexOf=function(r){return this.offsets[r]},e.prototype.lengthOf=function(r){return this.offsets[r+1]-this.offsets[r]},e.prototype.encode=function(r,n){for(var i=new Uint32Array(this.offsets.length),s=0,a=0,o=0;o<i.length;++o)if(i[o]=s,a<n.length&&n[a]==o){++a,i[o]=s;var l=this.offsets[o],u=this.offsets[o+1]-l;u>0&&(s+=u)}for(var c=new Array(4*i.length),p=0;p<i.length;++p)c[4*p+3]=255&i[p],c[4*p+2]=(65280&i[p])>>8,c[4*p+1]=(16711680&i[p])>>16,c[4*p]=(4278190080&i[p])>>24;return c},e}(),ZL=function(){function t(e){this.font=e,this.subset={},this.unicodes={},this.next=33}return t.prototype.generateCmap=function(){var e,r,n,i,s;for(r in i=this.font.cmap.tables[0].codeMap,e={},s=this.subset)n=s[r],e[r]=i[n];return e},t.prototype.glyphsFor=function(e){var r,n,i,s,a,o,l;for(i={},a=0,o=e.length;a<o;a++)i[s=e[a]]=this.font.glyf.glyphFor(s);for(s in r=[],i)(n=i[s])!=null&&n.compound&&r.push.apply(r,n.glyphIDs);if(r.length>0)for(s in l=this.glyphsFor(r))n=l[s],i[s]=n;return i},t.prototype.encode=function(e,r){var n,i,s,a,o,l,u,c,p,m,d,y,v,T,_;for(i in n=GE.encode(this.generateCmap(),"unicode"),a=this.glyphsFor(e),d={0:0},_=n.charMap)d[(l=_[i]).old]=l.new;for(y in m=n.maxGlyphID,a)y in d||(d[y]=m++);return c=function(x){var E,L;for(E in L={},x)L[x[E]]=E;return L}(d),p=Object.keys(c).sort(function(x,E){return x-E}),v=function(){var x,E,L;for(L=[],x=0,E=p.length;x<E;x++)o=p[x],L.push(c[o]);return L}(),s=this.font.glyf.encode(a,v,d),u=this.font.loca.encode(s.offsets,v),T={cmap:this.font.cmap.raw(),glyf:s.table,loca:u,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(r)},this.font.os2.exists&&(T["OS/2"]=this.font.os2.raw()),this.font.directory.encode(T)},t}();Ct.API.PDFObject=function(){var t;function e(){}return t=function(r,n){return(Array(n+1).join("0")+r).slice(-n)},e.convert=function(r){var n,i,s,a;if(Array.isArray(r))return"["+function(){var o,l,u;for(u=[],o=0,l=r.length;o<l;o++)n=r[o],u.push(e.convert(n));return u}().join(" ")+"]";if(typeof r=="string")return"/"+r;if(r!=null&&r.isString)return"("+r+")";if(r instanceof Date)return"(D:"+t(r.getUTCFullYear(),4)+t(r.getUTCMonth(),2)+t(r.getUTCDate(),2)+t(r.getUTCHours(),2)+t(r.getUTCMinutes(),2)+t(r.getUTCSeconds(),2)+"Z)";if({}.toString.call(r)==="[object Object]"){for(i in s=["<<"],r)a=r[i],s.push("/"+i+" "+e.convert(a));return s.push(">>"),s.join(`
`)}return""+r},e}();const eF=Object.freeze(Object.defineProperty({__proto__:null,AcroForm:kL,AcroFormAppearance:_t,AcroFormButton:Cn,AcroFormCheckBox:Th,AcroFormChoiceField:gu,AcroFormComboBox:yu,AcroFormEditBox:Eh,AcroFormListBox:vu,AcroFormPasswordField:bh,AcroFormPushButton:Ah,AcroFormRadioButton:xu,AcroFormTextField:Sl,GState:l0,ShadingPattern:nl,TilingPattern:hu,default:Ct,jsPDF:Ct},Symbol.toStringTag,{value:"Module"}));var KE={exports:{}};const tF=g6(eF);/*!
 * 
 *               jsPDF AutoTable plugin v3.8.4
 *
 *               Copyright (c) 2024 Simon Bengtsson, https://github.com/simonbengtsson/jsPDF-AutoTable
 *               Licensed under the MIT License.
 *               http://opensource.org/licenses/mit-license
 *
 */(function(t,e){(function(n,i){t.exports=i(function(){try{return tF}catch{}}())})(typeof globalThis<"u"?globalThis:typeof hm<"u"?hm:typeof window<"u"?window:typeof self<"u"?self:hm,function(r){return function(){var n={172:function(o,l){var u=this&&this.__extends||function(){var m=function(d,y){return m=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(v,T){v.__proto__=T}||function(v,T){for(var _ in T)Object.prototype.hasOwnProperty.call(T,_)&&(v[_]=T[_])},m(d,y)};return function(d,y){if(typeof y!="function"&&y!==null)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");m(d,y);function v(){this.constructor=d}d.prototype=y===null?Object.create(y):(v.prototype=y.prototype,new v)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.CellHookData=l.HookData=void 0;var c=function(){function m(d,y,v){this.table=y,this.pageNumber=y.pageNumber,this.pageCount=this.pageNumber,this.settings=y.settings,this.cursor=v,this.doc=d.getDocument()}return m}();l.HookData=c;var p=function(m){u(d,m);function d(y,v,T,_,x,E){var L=m.call(this,y,v,E)||this;return L.cell=T,L.row=_,L.column=x,L.section=_.section,L}return d}(c);l.CellHookData=p},340:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0});var c=u(4),p=u(136),m=u(744),d=u(776),y=u(664),v=u(972);function T(_){_.API.autoTable=function(){for(var x=[],E=0;E<arguments.length;E++)x[E]=arguments[E];var L;x.length===1?L=x[0]:(console.error("Use of deprecated autoTable initiation"),L=x[2]||{},L.columns=x[0],L.body=x[1]);var j=(0,d.parseInput)(this,L),z=(0,v.createTable)(this,j);return(0,y.drawTable)(this,z),this},_.API.lastAutoTable=!1,_.API.previousAutoTable=!1,_.API.autoTable.previous=!1,_.API.autoTableText=function(x,E,L,j){(0,p.default)(x,E,L,j,this)},_.API.autoTableSetDefaults=function(x){return m.DocHandler.setDefaults(x,this),this},_.autoTableSetDefaults=function(x,E){m.DocHandler.setDefaults(x,E)},_.API.autoTableHtmlToJson=function(x,E){var L;if(E===void 0&&(E=!1),typeof window>"u")return console.error("Cannot run autoTableHtmlToJson in non browser environment"),null;var j=new m.DocHandler(this),z=(0,c.parseHtml)(j,x,window,E,!1),w=z.head,S=z.body,I=((L=w[0])===null||L===void 0?void 0:L.map(function(F){return F.content}))||[];return{columns:I,rows:S,data:S}},_.API.autoTableEndPosY=function(){console.error("Use of deprecated function: autoTableEndPosY. Use doc.lastAutoTable.finalY instead.");var x=this.lastAutoTable;return x&&x.finalY?x.finalY:0},_.API.autoTableAddPageContent=function(x){return console.error("Use of deprecated function: autoTableAddPageContent. Use jsPDF.autoTableSetDefaults({didDrawPage: () => {}}) instead."),_.API.autoTable.globalDefaults||(_.API.autoTable.globalDefaults={}),_.API.autoTable.globalDefaults.addPageContent=x,this},_.API.autoTableAddPage=function(){return console.error("Use of deprecated function: autoTableAddPage. Use doc.addPage()"),this.addPage(),this}}l.default=T},136:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(c,p,m,d,y){d=d||{};var v=1.15,T=y.internal.scaleFactor,_=y.internal.getFontSize()/T,x=y.getLineHeightFactor?y.getLineHeightFactor():v,E=_*x,L=/\r\n|\r|\n/g,j="",z=1;if((d.valign==="middle"||d.valign==="bottom"||d.halign==="center"||d.halign==="right")&&(j=typeof c=="string"?c.split(L):c,z=j.length||1),m+=_*(2-v),d.valign==="middle"?m-=z/2*E:d.valign==="bottom"&&(m-=z*E),d.halign==="center"||d.halign==="right"){var w=_;if(d.halign==="center"&&(w*=.5),j&&z>=1){for(var S=0;S<j.length;S++)y.text(j[S],p-y.getStringUnitWidth(j[S])*w,m),m+=E;return y}p-=y.getStringUnitWidth(c)*w}return d.halign==="justify"?y.text(c,p,m,{maxWidth:d.maxWidth||100,align:"justify"}):y.text(c,p,m),y}l.default=u},420:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.getPageAvailableWidth=l.parseSpacing=l.getFillStyle=l.addTableBorder=l.getStringWidth=void 0;function u(y,v,T){T.applyStyles(v,!0);var _=Array.isArray(y)?y:[y],x=_.map(function(E){return T.getTextWidth(E)}).reduce(function(E,L){return Math.max(E,L)},0);return x}l.getStringWidth=u;function c(y,v,T,_){var x=v.settings.tableLineWidth,E=v.settings.tableLineColor;y.applyStyles({lineWidth:x,lineColor:E});var L=p(x,!1);L&&y.rect(T.x,T.y,v.getWidth(y.pageSize().width),_.y-T.y,L)}l.addTableBorder=c;function p(y,v){var T=y>0,_=v||v===0;return T&&_?"DF":T?"S":_?"F":null}l.getFillStyle=p;function m(y,v){var T,_,x,E;if(y=y||v,Array.isArray(y)){if(y.length>=4)return{top:y[0],right:y[1],bottom:y[2],left:y[3]};if(y.length===3)return{top:y[0],right:y[1],bottom:y[2],left:y[1]};if(y.length===2)return{top:y[0],right:y[1],bottom:y[0],left:y[1]};y.length===1?y=y[0]:y=v}return typeof y=="object"?(typeof y.vertical=="number"&&(y.top=y.vertical,y.bottom=y.vertical),typeof y.horizontal=="number"&&(y.right=y.horizontal,y.left=y.horizontal),{left:(T=y.left)!==null&&T!==void 0?T:v,top:(_=y.top)!==null&&_!==void 0?_:v,right:(x=y.right)!==null&&x!==void 0?x:v,bottom:(E=y.bottom)!==null&&E!==void 0?E:v}):(typeof y!="number"&&(y=v),{top:y,right:y,bottom:y,left:y})}l.parseSpacing=m;function d(y,v){var T=m(v.settings.margin,0);return y.pageSize().width-(T.left+T.right)}l.getPageAvailableWidth=d},796:function(o,l){var u=this&&this.__extends||function(){var d=function(y,v){return d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(T,_){T.__proto__=_}||function(T,_){for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(T[x]=_[x])},d(y,v)};return function(y,v){if(typeof v!="function"&&v!==null)throw new TypeError("Class extends value "+String(v)+" is not a constructor or null");d(y,v);function T(){this.constructor=y}y.prototype=v===null?Object.create(v):(T.prototype=v.prototype,new T)}}();Object.defineProperty(l,"__esModule",{value:!0}),l.getTheme=l.defaultStyles=l.HtmlRowInput=void 0;var c=function(d){u(y,d);function y(v){var T=d.call(this)||this;return T._element=v,T}return y}(Array);l.HtmlRowInput=c;function p(d){return{font:"helvetica",fontStyle:"normal",overflow:"linebreak",fillColor:!1,textColor:20,halign:"left",valign:"top",fontSize:10,cellPadding:5/d,lineColor:200,lineWidth:0,cellWidth:"auto",minCellHeight:0,minCellWidth:0}}l.defaultStyles=p;function m(d){var y={striped:{table:{fillColor:255,textColor:80,fontStyle:"normal"},head:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},body:{},foot:{textColor:255,fillColor:[41,128,185],fontStyle:"bold"},alternateRow:{fillColor:245}},grid:{table:{fillColor:255,textColor:80,fontStyle:"normal",lineWidth:.1},head:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},body:{},foot:{textColor:255,fillColor:[26,188,156],fontStyle:"bold",lineWidth:0},alternateRow:{}},plain:{head:{fontStyle:"bold"},foot:{fontStyle:"bold"}}};return y[d]}l.getTheme=m},903:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseCss=void 0;var c=u(420);function p(T,_,x,E,L){var j={},z=1.3333333333333333,w=d(_,function(ee){return L.getComputedStyle(ee).backgroundColor});w!=null&&(j.fillColor=w);var S=d(_,function(ee){return L.getComputedStyle(ee).color});S!=null&&(j.textColor=S);var I=v(E,x);I&&(j.cellPadding=I);var F="borderTopColor",N=z*x,b=E.borderTopWidth;if(E.borderBottomWidth===b&&E.borderRightWidth===b&&E.borderLeftWidth===b){var D=(parseFloat(b)||0)/N;D&&(j.lineWidth=D)}else j.lineWidth={top:(parseFloat(E.borderTopWidth)||0)/N,right:(parseFloat(E.borderRightWidth)||0)/N,bottom:(parseFloat(E.borderBottomWidth)||0)/N,left:(parseFloat(E.borderLeftWidth)||0)/N},j.lineWidth.top||(j.lineWidth.right?F="borderRightColor":j.lineWidth.bottom?F="borderBottomColor":j.lineWidth.left&&(F="borderLeftColor"));var Z=d(_,function(ee){return L.getComputedStyle(ee)[F]});Z!=null&&(j.lineColor=Z);var de=["left","right","center","justify"];de.indexOf(E.textAlign)!==-1&&(j.halign=E.textAlign),de=["middle","bottom","top"],de.indexOf(E.verticalAlign)!==-1&&(j.valign=E.verticalAlign);var se=parseInt(E.fontSize||"");isNaN(se)||(j.fontSize=se/z);var re=m(E);re&&(j.fontStyle=re);var X=(E.fontFamily||"").toLowerCase();return T.indexOf(X)!==-1&&(j.font=X),j}l.parseCss=p;function m(T){var _="";return(T.fontWeight==="bold"||T.fontWeight==="bolder"||parseInt(T.fontWeight)>=700)&&(_="bold"),(T.fontStyle==="italic"||T.fontStyle==="oblique")&&(_+="italic"),_}function d(T,_){var x=y(T,_);if(!x)return null;var E=x.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*(\d*\.?\d*))?\)$/);if(!E||!Array.isArray(E))return null;var L=[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])],j=parseInt(E[4]);return j===0||isNaN(L[0])||isNaN(L[1])||isNaN(L[2])?null:L}function y(T,_){var x=_(T);return x==="rgba(0, 0, 0, 0)"||x==="transparent"||x==="initial"||x==="inherit"?T.parentElement==null?null:y(T.parentElement,_):x}function v(T,_){var x=[T.paddingTop,T.paddingRight,T.paddingBottom,T.paddingLeft],E=96/(72/_),L=(parseInt(T.lineHeight)-parseInt(T.fontSize))/_/2,j=x.map(function(w){return parseInt(w||"0")/E}),z=(0,c.parseSpacing)(j,0);return L>z.top&&(z.top=L),L>z.bottom&&(z.bottom=L),z}},744:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.DocHandler=void 0;var u={},c=function(){function p(m){this.jsPDFDocument=m,this.userStyles={textColor:m.getTextColor?this.jsPDFDocument.getTextColor():0,fontSize:m.internal.getFontSize(),fontStyle:m.internal.getFont().fontStyle,font:m.internal.getFont().fontName,lineWidth:m.getLineWidth?this.jsPDFDocument.getLineWidth():0,lineColor:m.getDrawColor?this.jsPDFDocument.getDrawColor():0}}return p.setDefaults=function(m,d){d===void 0&&(d=null),d?d.__autoTableDocumentDefaults=m:u=m},p.unifyColor=function(m){return Array.isArray(m)?m:typeof m=="number"?[m,m,m]:typeof m=="string"?[m]:null},p.prototype.applyStyles=function(m,d){var y,v,T;d===void 0&&(d=!1),m.fontStyle&&this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(m.fontStyle);var _=this.jsPDFDocument.internal.getFont(),x=_.fontStyle,E=_.fontName;if(m.font&&(E=m.font),m.fontStyle){x=m.fontStyle;var L=this.getFontList()[E];L&&L.indexOf(x)===-1&&(this.jsPDFDocument.setFontStyle&&this.jsPDFDocument.setFontStyle(L[0]),x=L[0])}if(this.jsPDFDocument.setFont(E,x),m.fontSize&&this.jsPDFDocument.setFontSize(m.fontSize),!d){var j=p.unifyColor(m.fillColor);j&&(y=this.jsPDFDocument).setFillColor.apply(y,j),j=p.unifyColor(m.textColor),j&&(v=this.jsPDFDocument).setTextColor.apply(v,j),j=p.unifyColor(m.lineColor),j&&(T=this.jsPDFDocument).setDrawColor.apply(T,j),typeof m.lineWidth=="number"&&this.jsPDFDocument.setLineWidth(m.lineWidth)}},p.prototype.splitTextToSize=function(m,d,y){return this.jsPDFDocument.splitTextToSize(m,d,y)},p.prototype.rect=function(m,d,y,v,T){return this.jsPDFDocument.rect(m,d,y,v,T)},p.prototype.getLastAutoTable=function(){return this.jsPDFDocument.lastAutoTable||null},p.prototype.getTextWidth=function(m){return this.jsPDFDocument.getTextWidth(m)},p.prototype.getDocument=function(){return this.jsPDFDocument},p.prototype.setPage=function(m){this.jsPDFDocument.setPage(m)},p.prototype.addPage=function(){return this.jsPDFDocument.addPage()},p.prototype.getFontList=function(){return this.jsPDFDocument.getFontList()},p.prototype.getGlobalOptions=function(){return u||{}},p.prototype.getDocumentOptions=function(){return this.jsPDFDocument.__autoTableDocumentDefaults||{}},p.prototype.pageSize=function(){var m=this.jsPDFDocument.internal.pageSize;return m.width==null&&(m={width:m.getWidth(),height:m.getHeight()}),m},p.prototype.scaleFactor=function(){return this.jsPDFDocument.internal.scaleFactor},p.prototype.getLineHeightFactor=function(){var m=this.jsPDFDocument;return m.getLineHeightFactor?m.getLineHeightFactor():1.15},p.prototype.getLineHeight=function(m){return m/this.scaleFactor()*this.getLineHeightFactor()},p.prototype.pageNumber=function(){var m=this.jsPDFDocument.internal.getCurrentPageInfo();return m?m.pageNumber:this.jsPDFDocument.internal.getNumberOfPages()},p}();l.DocHandler=c},4:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseHtml=void 0;var c=u(903),p=u(796);function m(v,T,_,x,E){var L,j;x===void 0&&(x=!1),E===void 0&&(E=!1);var z;typeof T=="string"?z=_.document.querySelector(T):z=T;var w=Object.keys(v.getFontList()),S=v.scaleFactor(),I=[],F=[],N=[];if(!z)return console.error("Html table could not be found with input: ",T),{head:I,body:F,foot:N};for(var b=0;b<z.rows.length;b++){var D=z.rows[b],Z=(j=(L=D==null?void 0:D.parentElement)===null||L===void 0?void 0:L.tagName)===null||j===void 0?void 0:j.toLowerCase(),de=d(w,S,_,D,x,E);de&&(Z==="thead"?I.push(de):Z==="tfoot"?N.push(de):F.push(de))}return{head:I,body:F,foot:N}}l.parseHtml=m;function d(v,T,_,x,E,L){for(var j=new p.HtmlRowInput(x),z=0;z<x.cells.length;z++){var w=x.cells[z],S=_.getComputedStyle(w);if(E||S.display!=="none"){var I=void 0;L&&(I=(0,c.parseCss)(v,w,T,S,_)),j.push({rowSpan:w.rowSpan,colSpan:w.colSpan,styles:I,_element:w,content:y(w)})}}var F=_.getComputedStyle(x);if(j.length>0&&(E||F.display!=="none"))return j}function y(v){var T=v.cloneNode(!0);return T.innerHTML=T.innerHTML.replace(/\n/g,"").replace(/ +/g," "),T.innerHTML=T.innerHTML.split(/<br.*?>/).map(function(_){return _.trim()}).join(`
`),T.innerText||T.textContent||""}},776:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.parseInput=void 0;var c=u(4),p=u(356),m=u(420),d=u(744),y=u(792);function v(z,w){var S=new d.DocHandler(z),I=S.getDocumentOptions(),F=S.getGlobalOptions();(0,y.default)(S,F,I,w);var N=(0,p.assign)({},F,I,w),b;typeof window<"u"&&(b=window);var D=T(F,I,w),Z=_(F,I,w),de=x(S,N),se=L(S,N,b);return{id:w.tableId,content:se,hooks:Z,styles:D,settings:de}}l.parseInput=v;function T(z,w,S){for(var I={styles:{},headStyles:{},bodyStyles:{},footStyles:{},alternateRowStyles:{},columnStyles:{}},F=function(Z){if(Z==="columnStyles"){var de=z[Z],se=w[Z],re=S[Z];I.columnStyles=(0,p.assign)({},de,se,re)}else{var X=[z,w,S],ee=X.map(function(he){return he[Z]||{}});I[Z]=(0,p.assign)({},ee[0],ee[1],ee[2])}},N=0,b=Object.keys(I);N<b.length;N++){var D=b[N];F(D)}return I}function _(z,w,S){for(var I=[z,w,S],F={didParseCell:[],willDrawCell:[],didDrawCell:[],willDrawPage:[],didDrawPage:[]},N=0,b=I;N<b.length;N++){var D=b[N];D.didParseCell&&F.didParseCell.push(D.didParseCell),D.willDrawCell&&F.willDrawCell.push(D.willDrawCell),D.didDrawCell&&F.didDrawCell.push(D.didDrawCell),D.willDrawPage&&F.willDrawPage.push(D.willDrawPage),D.didDrawPage&&F.didDrawPage.push(D.didDrawPage)}return F}function x(z,w){var S,I,F,N,b,D,Z,de,se,re,X,ee,he=(0,m.parseSpacing)(w.margin,40/z.scaleFactor()),we=(S=E(z,w.startY))!==null&&S!==void 0?S:he.top,P;w.showFoot===!0?P="everyPage":w.showFoot===!1?P="never":P=(I=w.showFoot)!==null&&I!==void 0?I:"everyPage";var B;w.showHead===!0?B="everyPage":w.showHead===!1?B="never":B=(F=w.showHead)!==null&&F!==void 0?F:"everyPage";var V=(N=w.useCss)!==null&&N!==void 0?N:!1,U=w.theme||(V?"plain":"striped"),Y=!!w.horizontalPageBreak,pe=(b=w.horizontalPageBreakRepeat)!==null&&b!==void 0?b:null;return{includeHiddenHtml:(D=w.includeHiddenHtml)!==null&&D!==void 0?D:!1,useCss:V,theme:U,startY:we,margin:he,pageBreak:(Z=w.pageBreak)!==null&&Z!==void 0?Z:"auto",rowPageBreak:(de=w.rowPageBreak)!==null&&de!==void 0?de:"auto",tableWidth:(se=w.tableWidth)!==null&&se!==void 0?se:"auto",showHead:B,showFoot:P,tableLineWidth:(re=w.tableLineWidth)!==null&&re!==void 0?re:0,tableLineColor:(X=w.tableLineColor)!==null&&X!==void 0?X:200,horizontalPageBreak:Y,horizontalPageBreakRepeat:pe,horizontalPageBreakBehaviour:(ee=w.horizontalPageBreakBehaviour)!==null&&ee!==void 0?ee:"afterAllRows"}}function E(z,w){var S=z.getLastAutoTable(),I=z.scaleFactor(),F=z.pageNumber(),N=!1;if(S&&S.startPageNumber){var b=S.startPageNumber+S.pageNumber-1;N=b===F}return typeof w=="number"?w:(w==null||w===!1)&&N&&(S==null?void 0:S.finalY)!=null?S.finalY+20/I:null}function L(z,w,S){var I=w.head||[],F=w.body||[],N=w.foot||[];if(w.html){var b=w.includeHiddenHtml;if(S){var D=(0,c.parseHtml)(z,w.html,S,b,w.useCss)||{};I=D.head||I,F=D.body||I,N=D.foot||I}else console.error("Cannot parse html in non browser environment")}var Z=w.columns||j(I,F,N);return{columns:Z,head:I,body:F,foot:N}}function j(z,w,S){var I=z[0]||w[0]||S[0]||[],F=[];return Object.keys(I).filter(function(N){return N!=="_element"}).forEach(function(N){var b=1,D;Array.isArray(I)?D=I[parseInt(N)]:D=I[N],typeof D=="object"&&!Array.isArray(D)&&(b=(D==null?void 0:D.colSpan)||1);for(var Z=0;Z<b;Z++){var de=void 0;Array.isArray(I)?de=F.length:de=N+(Z>0?"_".concat(Z):"");var se={dataKey:de};F.push(se)}}),F}},792:function(o,l){Object.defineProperty(l,"__esModule",{value:!0});function u(p,m,d,y){for(var v=function(E){E&&typeof E!="object"&&console.error("The options parameter should be of type object, is: "+typeof E),typeof E.extendWidth<"u"&&(E.tableWidth=E.extendWidth?"auto":"wrap",console.error("Use of deprecated option: extendWidth, use tableWidth instead.")),typeof E.margins<"u"&&(typeof E.margin>"u"&&(E.margin=E.margins),console.error("Use of deprecated option: margins, use margin instead.")),E.startY&&typeof E.startY!="number"&&(console.error("Invalid value for startY option",E.startY),delete E.startY),!E.didDrawPage&&(E.afterPageContent||E.beforePageContent||E.afterPageAdd)&&(console.error("The afterPageContent, beforePageContent and afterPageAdd hooks are deprecated. Use didDrawPage instead"),E.didDrawPage=function(N){p.applyStyles(p.userStyles),E.beforePageContent&&E.beforePageContent(N),p.applyStyles(p.userStyles),E.afterPageContent&&E.afterPageContent(N),p.applyStyles(p.userStyles),E.afterPageAdd&&N.pageNumber>1&&N.afterPageAdd(N),p.applyStyles(p.userStyles)}),["createdHeaderCell","drawHeaderRow","drawRow","drawHeaderCell"].forEach(function(N){E[N]&&console.error('The "'.concat(N,'" hook has changed in version 3.0, check the changelog for how to migrate.'))}),[["showFoot","showFooter"],["showHead","showHeader"],["didDrawPage","addPageContent"],["didParseCell","createdCell"],["headStyles","headerStyles"]].forEach(function(N){var b=N[0],D=N[1];E[D]&&(console.error("Use of deprecated option ".concat(D,". Use ").concat(b," instead")),E[b]=E[D])}),[["padding","cellPadding"],["lineHeight","rowHeight"],"fontSize","overflow"].forEach(function(N){var b=typeof N=="string"?N:N[0],D=typeof N=="string"?N:N[1];typeof E[b]<"u"&&(typeof E.styles[D]>"u"&&(E.styles[D]=E[b]),console.error("Use of deprecated option: "+b+", use the style "+D+" instead."))});for(var L=0,j=["styles","bodyStyles","headStyles","footStyles"];L<j.length;L++){var z=j[L];c(E[z]||{})}for(var w=E.columnStyles||{},S=0,I=Object.keys(w);S<I.length;S++){var F=I[S];c(w[F]||{})}},T=0,_=[m,d,y];T<_.length;T++){var x=_[T];v(x)}}l.default=u;function c(p){p.rowHeight?(console.error("Use of deprecated style rowHeight. It is renamed to minCellHeight."),p.minCellHeight||(p.minCellHeight=p.rowHeight)):p.columnWidth&&(console.error("Use of deprecated style columnWidth. It is renamed to cellWidth."),p.cellWidth||(p.cellWidth=p.columnWidth))}},260:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.Column=l.Cell=l.Row=l.Table=void 0;var c=u(796),p=u(172),m=u(420),d=function(){function _(x,E){this.pageNumber=1,this.pageCount=1,this.id=x.id,this.settings=x.settings,this.styles=x.styles,this.hooks=x.hooks,this.columns=E.columns,this.head=E.head,this.body=E.body,this.foot=E.foot}return _.prototype.getHeadHeight=function(x){return this.head.reduce(function(E,L){return E+L.getMaxCellHeight(x)},0)},_.prototype.getFootHeight=function(x){return this.foot.reduce(function(E,L){return E+L.getMaxCellHeight(x)},0)},_.prototype.allRows=function(){return this.head.concat(this.body).concat(this.foot)},_.prototype.callCellHooks=function(x,E,L,j,z,w){for(var S=0,I=E;S<I.length;S++){var F=I[S],N=new p.CellHookData(x,this,L,j,z,w),b=F(N)===!1;if(L.text=Array.isArray(L.text)?L.text:[L.text],b)return!1}return!0},_.prototype.callEndPageHooks=function(x,E){x.applyStyles(x.userStyles);for(var L=0,j=this.hooks.didDrawPage;L<j.length;L++){var z=j[L];z(new p.HookData(x,this,E))}},_.prototype.callWillDrawPageHooks=function(x,E){for(var L=0,j=this.hooks.willDrawPage;L<j.length;L++){var z=j[L];z(new p.HookData(x,this,E))}},_.prototype.getWidth=function(x){if(typeof this.settings.tableWidth=="number")return this.settings.tableWidth;if(this.settings.tableWidth==="wrap"){var E=this.columns.reduce(function(j,z){return j+z.wrappedWidth},0);return E}else{var L=this.settings.margin;return x-L.left-L.right}},_}();l.Table=d;var y=function(){function _(x,E,L,j,z){z===void 0&&(z=!1),this.height=0,this.raw=x,x instanceof c.HtmlRowInput&&(this.raw=x._element,this.element=x._element),this.index=E,this.section=L,this.cells=j,this.spansMultiplePages=z}return _.prototype.getMaxCellHeight=function(x){var E=this;return x.reduce(function(L,j){var z;return Math.max(L,((z=E.cells[j.index])===null||z===void 0?void 0:z.height)||0)},0)},_.prototype.hasRowSpan=function(x){var E=this;return x.filter(function(L){var j=E.cells[L.index];return j?j.rowSpan>1:!1}).length>0},_.prototype.canEntireRowFit=function(x,E){return this.getMaxCellHeight(E)<=x},_.prototype.getMinimumRowHeight=function(x,E){var L=this;return x.reduce(function(j,z){var w=L.cells[z.index];if(!w)return 0;var S=E.getLineHeight(w.styles.fontSize),I=w.padding("vertical"),F=I+S;return F>j?F:j},0)},_}();l.Row=y;var v=function(){function _(x,E,L){var j,z;this.contentHeight=0,this.contentWidth=0,this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.height=0,this.x=0,this.y=0,this.styles=E,this.section=L,this.raw=x;var w=x;x!=null&&typeof x=="object"&&!Array.isArray(x)?(this.rowSpan=x.rowSpan||1,this.colSpan=x.colSpan||1,w=(z=(j=x.content)!==null&&j!==void 0?j:x.title)!==null&&z!==void 0?z:x,x._element&&(this.raw=x._element)):(this.rowSpan=1,this.colSpan=1);var S=w!=null?""+w:"",I=/\r\n|\r|\n/g;this.text=S.split(I)}return _.prototype.getTextPos=function(){var x;if(this.styles.valign==="top")x=this.y+this.padding("top");else if(this.styles.valign==="bottom")x=this.y+this.height-this.padding("bottom");else{var E=this.height-this.padding("vertical");x=this.y+E/2+this.padding("top")}var L;if(this.styles.halign==="right")L=this.x+this.width-this.padding("right");else if(this.styles.halign==="center"){var j=this.width-this.padding("horizontal");L=this.x+j/2+this.padding("left")}else L=this.x+this.padding("left");return{x:L,y:x}},_.prototype.getContentHeight=function(x,E){E===void 0&&(E=1.15);var L=Array.isArray(this.text)?this.text.length:1,j=this.styles.fontSize/x*E,z=L*j+this.padding("vertical");return Math.max(z,this.styles.minCellHeight)},_.prototype.padding=function(x){var E=(0,m.parseSpacing)(this.styles.cellPadding,0);return x==="vertical"?E.top+E.bottom:x==="horizontal"?E.left+E.right:E[x]},_}();l.Cell=v;var T=function(){function _(x,E,L){this.wrappedWidth=0,this.minReadableWidth=0,this.minWidth=0,this.width=0,this.dataKey=x,this.raw=E,this.index=L}return _.prototype.getMaxCustomCellWidth=function(x){for(var E=0,L=0,j=x.allRows();L<j.length;L++){var z=j[L],w=z.cells[this.index];w&&typeof w.styles.cellWidth=="number"&&(E=Math.max(E,w.styles.cellWidth))}return E},_}();l.Column=T},356:function(o,l){Object.defineProperty(l,"__esModule",{value:!0}),l.assign=void 0;function u(c,p,m,d,y){if(c==null)throw new TypeError("Cannot convert undefined or null to object");for(var v=Object(c),T=1;T<arguments.length;T++){var _=arguments[T];if(_!=null)for(var x in _)Object.prototype.hasOwnProperty.call(_,x)&&(v[x]=_[x])}return v}l.assign=u},972:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.createTable=void 0;var c=u(744),p=u(260),m=u(324),d=u(796),y=u(356);function v(z,w){var S=new c.DocHandler(z),I=T(w,S.scaleFactor()),F=new p.Table(w,I);return(0,m.calculateWidths)(S,F),S.applyStyles(S.userStyles),F}l.createTable=v;function T(z,w){var S=z.content,I=L(S.columns);if(S.head.length===0){var F=x(I,"head");F&&S.head.push(F)}if(S.foot.length===0){var F=x(I,"foot");F&&S.foot.push(F)}var N=z.settings.theme,b=z.styles;return{columns:I,head:_("head",S.head,I,b,N,w),body:_("body",S.body,I,b,N,w),foot:_("foot",S.foot,I,b,N,w)}}function _(z,w,S,I,F,N){var b={},D=w.map(function(Z,de){for(var se=0,re={},X=0,ee=0,he=0,we=S;he<we.length;he++){var P=we[he];if(b[P.index]==null||b[P.index].left===0)if(ee===0){var B=void 0;Array.isArray(Z)?B=Z[P.index-X-se]:B=Z[P.dataKey];var V={};typeof B=="object"&&!Array.isArray(B)&&(V=(B==null?void 0:B.styles)||{});var U=j(z,P,de,F,I,N,V),Y=new p.Cell(B,U,z);re[P.dataKey]=Y,re[P.index]=Y,ee=Y.colSpan-1,b[P.index]={left:Y.rowSpan-1,times:ee}}else ee--,X++;else b[P.index].left--,ee=b[P.index].times,se++}return new p.Row(Z,de,z,re)});return D}function x(z,w){var S={};return z.forEach(function(I){if(I.raw!=null){var F=E(w,I.raw);F!=null&&(S[I.dataKey]=F)}}),Object.keys(S).length>0?S:null}function E(z,w){if(z==="head"){if(typeof w=="object")return w.header||w.title||null;if(typeof w=="string"||typeof w=="number")return w}else if(z==="foot"&&typeof w=="object")return w.footer;return null}function L(z){return z.map(function(w,S){var I,F,N;return typeof w=="object"?N=(F=(I=w.dataKey)!==null&&I!==void 0?I:w.key)!==null&&F!==void 0?F:S:N=S,new p.Column(N,w,S)})}function j(z,w,S,I,F,N,b){var D=(0,d.getTheme)(I),Z;z==="head"?Z=F.headStyles:z==="body"?Z=F.bodyStyles:z==="foot"&&(Z=F.footStyles);var de=(0,y.assign)({},D.table,D[z],F.styles,Z),se=F.columnStyles[w.dataKey]||F.columnStyles[w.index]||{},re=z==="body"?se:{},X=z==="body"&&S%2===0?(0,y.assign)({},D.alternateRow,F.alternateRowStyles):{},ee=(0,d.defaultStyles)(N),he=(0,y.assign)({},ee,de,X,re);return(0,y.assign)(he,b)}},664:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.addPage=l.drawTable=void 0;var c=u(420),p=u(260),m=u(744),d=u(356),y=u(136),v=u(224);function T(se,re){var X=re.settings,ee=X.startY,he=X.margin,we={x:he.left,y:ee},P=re.getHeadHeight(re.columns)+re.getFootHeight(re.columns),B=ee+he.bottom+P;if(X.pageBreak==="avoid"){var V=re.body,U=V.reduce(function(me,ge){return me+ge.height},0);B+=U}var Y=new m.DocHandler(se);(X.pageBreak==="always"||X.startY!=null&&B>Y.pageSize().height)&&(de(Y),we.y=he.top),re.callWillDrawPageHooks(Y,we);var pe=(0,d.assign)({},we);re.startPageNumber=Y.pageNumber(),X.horizontalPageBreak?_(Y,re,pe,we):(Y.applyStyles(Y.userStyles),(X.showHead==="firstPage"||X.showHead==="everyPage")&&re.head.forEach(function(me){return F(Y,re,me,we,re.columns)}),Y.applyStyles(Y.userStyles),re.body.forEach(function(me,ge){var Te=ge===re.body.length-1;I(Y,re,me,Te,pe,we,re.columns)}),Y.applyStyles(Y.userStyles),(X.showFoot==="lastPage"||X.showFoot==="everyPage")&&re.foot.forEach(function(me){return F(Y,re,me,we,re.columns)})),(0,c.addTableBorder)(Y,re,pe,we),re.callEndPageHooks(Y,we),re.finalY=we.y,se.lastAutoTable=re,se.previousAutoTable=re,se.autoTable&&(se.autoTable.previous=re),Y.applyStyles(Y.userStyles)}l.drawTable=T;function _(se,re,X,ee){var he=(0,v.calculateAllColumnsCanFitInPage)(se,re),we=re.settings;if(we.horizontalPageBreakBehaviour==="afterAllRows")he.forEach(function(U,Y){se.applyStyles(se.userStyles),Y>0?Z(se,re,X,ee,U.columns,!0):x(se,re,ee,U.columns),E(se,re,X,ee,U.columns),j(se,re,ee,U.columns)});else for(var P=-1,B=he[0],V=function(){var U=P;if(B){se.applyStyles(se.userStyles);var Y=B.columns;P>=0?Z(se,re,X,ee,Y,!0):x(se,re,ee,Y),U=L(se,re,P+1,ee,Y),j(se,re,ee,Y)}var pe=U-P;he.slice(1).forEach(function(me){se.applyStyles(se.userStyles),Z(se,re,X,ee,me.columns,!0),L(se,re,P+1,ee,me.columns,pe),j(se,re,ee,me.columns)}),P=U};P<re.body.length-1;)V()}function x(se,re,X,ee){var he=re.settings;se.applyStyles(se.userStyles),(he.showHead==="firstPage"||he.showHead==="everyPage")&&re.head.forEach(function(we){return F(se,re,we,X,ee)})}function E(se,re,X,ee,he){se.applyStyles(se.userStyles),re.body.forEach(function(we,P){var B=P===re.body.length-1;I(se,re,we,B,X,ee,he)})}function L(se,re,X,ee,he,we){se.applyStyles(se.userStyles),we=we??re.body.length;var P=Math.min(X+we,re.body.length),B=-1;return re.body.slice(X,P).forEach(function(V,U){var Y=X+U===re.body.length-1,pe=D(se,re,Y,ee);V.canEntireRowFit(pe,he)&&(F(se,re,V,ee,he),B=X+U)}),B}function j(se,re,X,ee){var he=re.settings;se.applyStyles(se.userStyles),(he.showFoot==="lastPage"||he.showFoot==="everyPage")&&re.foot.forEach(function(we){return F(se,re,we,X,ee)})}function z(se,re,X){var ee=X.getLineHeight(se.styles.fontSize),he=se.padding("vertical"),we=Math.floor((re-he)/ee);return Math.max(0,we)}function w(se,re,X,ee){var he={};se.spansMultiplePages=!0,se.height=0;for(var we=0,P=0,B=X.columns;P<B.length;P++){var V=B[P],U=se.cells[V.index];if(U){Array.isArray(U.text)||(U.text=[U.text]);var Y=new p.Cell(U.raw,U.styles,U.section);Y=(0,d.assign)(Y,U),Y.text=[];var pe=z(U,re,ee);U.text.length>pe&&(Y.text=U.text.splice(pe,U.text.length));var me=ee.scaleFactor(),ge=ee.getLineHeightFactor();U.contentHeight=U.getContentHeight(me,ge),U.contentHeight>=re&&(U.contentHeight=re,Y.styles.minCellHeight-=re),U.contentHeight>se.height&&(se.height=U.contentHeight),Y.contentHeight=Y.getContentHeight(me,ge),Y.contentHeight>we&&(we=Y.contentHeight),he[V.index]=Y}}var Te=new p.Row(se.raw,-1,se.section,he,!0);Te.height=we;for(var Me=0,Ve=X.columns;Me<Ve.length;Me++){var V=Ve[Me],Y=Te.cells[V.index];Y&&(Y.height=Te.height);var U=se.cells[V.index];U&&(U.height=se.height)}return Te}function S(se,re,X,ee){var he=se.pageSize().height,we=ee.settings.margin,P=we.top+we.bottom,B=he-P;re.section==="body"&&(B-=ee.getHeadHeight(ee.columns)+ee.getFootHeight(ee.columns));var V=re.getMinimumRowHeight(ee.columns,se),U=V<X;if(V>B)return console.error("Will not be able to print row ".concat(re.index," correctly since it's minimum height is larger than page height")),!0;if(!U)return!1;var Y=re.hasRowSpan(ee.columns),pe=re.getMaxCellHeight(ee.columns)>B;return pe?(Y&&console.error("The content of row ".concat(re.index," will not be drawn correctly since drawing rows with a height larger than the page height and has cells with rowspans is not supported.")),!0):!(Y||ee.settings.rowPageBreak==="avoid")}function I(se,re,X,ee,he,we,P){var B=D(se,re,ee,we);if(X.canEntireRowFit(B,P))F(se,re,X,we,P);else if(S(se,X,B,re)){var V=w(X,B,re,se);F(se,re,X,we,P),Z(se,re,he,we,P),I(se,re,V,ee,he,we,P)}else Z(se,re,he,we,P),I(se,re,X,ee,he,we,P)}function F(se,re,X,ee,he){ee.x=re.settings.margin.left;for(var we=0,P=he;we<P.length;we++){var B=P[we],V=X.cells[B.index];if(!V){ee.x+=B.width;continue}se.applyStyles(V.styles),V.x=ee.x,V.y=ee.y;var U=re.callCellHooks(se,re.hooks.willDrawCell,V,X,B,ee);if(U===!1){ee.x+=B.width;continue}N(se,V,ee);var Y=V.getTextPos();(0,y.default)(V.text,Y.x,Y.y,{halign:V.styles.halign,valign:V.styles.valign,maxWidth:Math.ceil(V.width-V.padding("left")-V.padding("right"))},se.getDocument()),re.callCellHooks(se,re.hooks.didDrawCell,V,X,B,ee),ee.x+=B.width}ee.y+=X.height}function N(se,re,X){var ee=re.styles;if(se.getDocument().setFillColor(se.getDocument().getFillColor()),typeof ee.lineWidth=="number"){var he=(0,c.getFillStyle)(ee.lineWidth,ee.fillColor);he&&se.rect(re.x,X.y,re.width,re.height,he)}else typeof ee.lineWidth=="object"&&(ee.fillColor&&se.rect(re.x,X.y,re.width,re.height,"F"),b(se,re,X,ee.lineWidth))}function b(se,re,X,ee){var he,we,P,B;ee.top&&(he=X.x,we=X.y,P=X.x+re.width,B=X.y,ee.right&&(P+=.5*ee.right),ee.left&&(he-=.5*ee.left),V(ee.top,he,we,P,B)),ee.bottom&&(he=X.x,we=X.y+re.height,P=X.x+re.width,B=X.y+re.height,ee.right&&(P+=.5*ee.right),ee.left&&(he-=.5*ee.left),V(ee.bottom,he,we,P,B)),ee.left&&(he=X.x,we=X.y,P=X.x,B=X.y+re.height,ee.top&&(we-=.5*ee.top),ee.bottom&&(B+=.5*ee.bottom),V(ee.left,he,we,P,B)),ee.right&&(he=X.x+re.width,we=X.y,P=X.x+re.width,B=X.y+re.height,ee.top&&(we-=.5*ee.top),ee.bottom&&(B+=.5*ee.bottom),V(ee.right,he,we,P,B));function V(U,Y,pe,me,ge){se.getDocument().setLineWidth(U),se.getDocument().line(Y,pe,me,ge,"S")}}function D(se,re,X,ee){var he=re.settings.margin.bottom,we=re.settings.showFoot;return(we==="everyPage"||we==="lastPage"&&X)&&(he+=re.getFootHeight(re.columns)),se.pageSize().height-ee.y-he}function Z(se,re,X,ee,he,we){he===void 0&&(he=[]),we===void 0&&(we=!1),se.applyStyles(se.userStyles),re.settings.showFoot==="everyPage"&&!we&&re.foot.forEach(function(B){return F(se,re,B,ee,he)}),re.callEndPageHooks(se,ee);var P=re.settings.margin;(0,c.addTableBorder)(se,re,X,ee),de(se),re.pageNumber++,re.pageCount++,ee.x=P.left,ee.y=P.top,X.y=P.top,re.callWillDrawPageHooks(se,ee),re.settings.showHead==="everyPage"&&(re.head.forEach(function(B){return F(se,re,B,ee,he)}),se.applyStyles(se.userStyles))}l.addPage=Z;function de(se){var re=se.pageNumber();se.setPage(re+1);var X=se.pageNumber();return X===re?(se.addPage(),!0):!1}},224:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.calculateAllColumnsCanFitInPage=void 0;var c=u(420);function p(d,y,v){var T;v===void 0&&(v={});var _=(0,c.getPageAvailableWidth)(d,y),x=new Map,E=[],L=[],j=[];y.settings.horizontalPageBreakRepeat,Array.isArray(y.settings.horizontalPageBreakRepeat)?j=y.settings.horizontalPageBreakRepeat:(typeof y.settings.horizontalPageBreakRepeat=="string"||typeof y.settings.horizontalPageBreakRepeat=="number")&&(j=[y.settings.horizontalPageBreakRepeat]),j.forEach(function(I){var F=y.columns.find(function(N){return N.dataKey===I||N.index===I});F&&!x.has(F.index)&&(x.set(F.index,!0),E.push(F.index),L.push(y.columns[F.index]),_-=F.wrappedWidth)});for(var z=!0,w=(T=v==null?void 0:v.start)!==null&&T!==void 0?T:0;w<y.columns.length;){if(x.has(w)){w++;continue}var S=y.columns[w].wrappedWidth;if(z||_>=S)z=!1,E.push(w),L.push(y.columns[w]),_-=S;else break;w++}return{colIndexes:E,columns:L,lastIndex:w-1}}function m(d,y){for(var v=[],T=0;T<y.columns.length;T++){var _=p(d,y,{start:T});_.columns.length&&(v.push(_),T=_.lastIndex)}return v}l.calculateAllColumnsCanFitInPage=m},324:function(o,l,u){Object.defineProperty(l,"__esModule",{value:!0}),l.ellipsize=l.resizeColumns=l.calculateWidths=void 0;var c=u(420);function p(E,L){m(E,L);var j=[],z=0;L.columns.forEach(function(S){var I=S.getMaxCustomCellWidth(L);I?S.width=I:(S.width=S.wrappedWidth,j.push(S)),z+=S.width});var w=L.getWidth(E.pageSize().width)-z;w&&(w=d(j,w,function(S){return Math.max(S.minReadableWidth,S.minWidth)})),w&&(w=d(j,w,function(S){return S.minWidth})),w=Math.abs(w),!L.settings.horizontalPageBreak&&w>.1/E.scaleFactor()&&(w=w<1?w:Math.round(w),console.warn("Of the table content, ".concat(w," units width could not fit page"))),v(L),T(L,E),y(L)}l.calculateWidths=p;function m(E,L){var j=E.scaleFactor(),z=L.settings.horizontalPageBreak,w=(0,c.getPageAvailableWidth)(E,L);L.allRows().forEach(function(S){for(var I=0,F=L.columns;I<F.length;I++){var N=F[I],b=S.cells[N.index];if(b){var D=L.hooks.didParseCell;L.callCellHooks(E,D,b,S,N,null);var Z=b.padding("horizontal");b.contentWidth=(0,c.getStringWidth)(b.text,b.styles,E)+Z;var de=(0,c.getStringWidth)(b.text.join(" ").split(/[^\S\u00A0]+/),b.styles,E);if(b.minReadableWidth=de+b.padding("horizontal"),typeof b.styles.cellWidth=="number")b.minWidth=b.styles.cellWidth,b.wrappedWidth=b.styles.cellWidth;else if(b.styles.cellWidth==="wrap"||z===!0)b.contentWidth>w?(b.minWidth=w,b.wrappedWidth=w):(b.minWidth=b.contentWidth,b.wrappedWidth=b.contentWidth);else{var se=10/j;b.minWidth=b.styles.minCellWidth||se,b.wrappedWidth=b.contentWidth,b.minWidth>b.wrappedWidth&&(b.wrappedWidth=b.minWidth)}}}}),L.allRows().forEach(function(S){for(var I=0,F=L.columns;I<F.length;I++){var N=F[I],b=S.cells[N.index];if(b&&b.colSpan===1)N.wrappedWidth=Math.max(N.wrappedWidth,b.wrappedWidth),N.minWidth=Math.max(N.minWidth,b.minWidth),N.minReadableWidth=Math.max(N.minReadableWidth,b.minReadableWidth);else{var D=L.styles.columnStyles[N.dataKey]||L.styles.columnStyles[N.index]||{},Z=D.cellWidth||D.minCellWidth;Z&&typeof Z=="number"&&(N.minWidth=Z,N.wrappedWidth=Z)}b&&(b.colSpan>1&&!N.minWidth&&(N.minWidth=b.minWidth),b.colSpan>1&&!N.wrappedWidth&&(N.wrappedWidth=b.minWidth))}})}function d(E,L,j){for(var z=L,w=E.reduce(function(se,re){return se+re.wrappedWidth},0),S=0;S<E.length;S++){var I=E[S],F=I.wrappedWidth/w,N=z*F,b=I.width+N,D=j(I),Z=b<D?D:b;L-=Z-I.width,I.width=Z}if(L=Math.round(L*1e10)/1e10,L){var de=E.filter(function(se){return L<0?se.width>j(se):!0});de.length&&(L=d(de,L,j))}return L}l.resizeColumns=d;function y(E){for(var L={},j=1,z=E.allRows(),w=0;w<z.length;w++)for(var S=z[w],I=0,F=E.columns;I<F.length;I++){var N=F[I],b=L[N.index];if(j>1)j--,delete S.cells[N.index];else if(b)b.cell.height+=S.height,j=b.cell.colSpan,delete S.cells[N.index],b.left--,b.left<=1&&delete L[N.index];else{var D=S.cells[N.index];if(!D)continue;if(D.height=S.height,D.rowSpan>1){var Z=z.length-w,de=D.rowSpan>Z?Z:D.rowSpan;L[N.index]={cell:D,left:de,row:S}}}}}function v(E){for(var L=E.allRows(),j=0;j<L.length;j++)for(var z=L[j],w=null,S=0,I=0,F=0;F<E.columns.length;F++){var N=E.columns[F];if(I-=1,I>1&&E.columns[F+1])S+=N.width,delete z.cells[N.index];else if(w){var b=w;delete z.cells[N.index],w=null,b.width=N.width+S}else{var b=z.cells[N.index];if(!b)continue;if(I=b.colSpan,S=0,b.colSpan>1){w=b,S+=N.width;continue}b.width=N.width+S}}}function T(E,L){for(var j={count:0,height:0},z=0,w=E.allRows();z<w.length;z++){for(var S=w[z],I=0,F=E.columns;I<F.length;I++){var N=F[I],b=S.cells[N.index];if(b){L.applyStyles(b.styles,!0);var D=b.width-b.padding("horizontal");if(b.styles.overflow==="linebreak")b.text=L.splitTextToSize(b.text,D+1/L.scaleFactor(),{fontSize:b.styles.fontSize});else if(b.styles.overflow==="ellipsize")b.text=_(b.text,D,b.styles,L,"...");else if(b.styles.overflow==="hidden")b.text=_(b.text,D,b.styles,L,"");else if(typeof b.styles.overflow=="function"){var Z=b.styles.overflow(b.text,D);typeof Z=="string"?b.text=[Z]:b.text=Z}b.contentHeight=b.getContentHeight(L.scaleFactor(),L.getLineHeightFactor());var de=b.contentHeight/b.rowSpan;b.rowSpan>1&&j.count*j.height<de*b.rowSpan?j={height:de,count:b.rowSpan}:j&&j.count>0&&j.height>de&&(de=j.height),de>S.height&&(S.height=de)}}j.count--}}function _(E,L,j,z,w){return E.map(function(S){return x(S,L,j,z,w)})}l.ellipsize=_;function x(E,L,j,z,w){var S=1e4*z.scaleFactor();if(L=Math.ceil(L*S)/S,L>=(0,c.getStringWidth)(E,j,z))return E;for(;L<(0,c.getStringWidth)(E+w,j,z)&&!(E.length<=1);)E=E.substring(0,E.length-1);return E.trim()+w}},964:function(o){if(typeof r>"u"){var l=new Error("Cannot find module 'undefined'");throw l.code="MODULE_NOT_FOUND",l}o.exports=r}},i={};function s(o){var l=i[o];if(l!==void 0)return l.exports;var u=i[o]={exports:{}};return n[o].call(u.exports,u,u.exports,s),u.exports}var a={};return function(){var o=a;Object.defineProperty(o,"__esModule",{value:!0}),o.Cell=o.Column=o.Row=o.Table=o.CellHookData=o.__drawTable=o.__createTable=o.applyPlugin=void 0;var l=s(340),u=s(776),c=s(664),p=s(972),m=s(260);Object.defineProperty(o,"Table",{enumerable:!0,get:function(){return m.Table}});var d=s(172);Object.defineProperty(o,"CellHookData",{enumerable:!0,get:function(){return d.CellHookData}});var y=s(260);Object.defineProperty(o,"Cell",{enumerable:!0,get:function(){return y.Cell}}),Object.defineProperty(o,"Column",{enumerable:!0,get:function(){return y.Column}}),Object.defineProperty(o,"Row",{enumerable:!0,get:function(){return y.Row}});function v(L){(0,l.default)(L)}o.applyPlugin=v;function T(L,j){var z=(0,u.parseInput)(L,j),w=(0,p.createTable)(L,z);(0,c.drawTable)(L,w)}function _(L,j){var z=(0,u.parseInput)(L,j);return(0,p.createTable)(L,z)}o.__createTable=_;function x(L,j){(0,c.drawTable)(L,j)}o.__drawTable=x;try{var E=s(964);E.jsPDF&&(E=E.jsPDF),v(E)}catch{}o.default=T}(),a}()})})(KE);var rF=KE.exports;const Sc=m6(rF),nF=async(t,e,r,n)=>{const i=new Ct({unit:"pt",format:"a4"}),s=i.internal.pageSize.getWidth(),a=i.internal.pageSize.getHeight(),o=40;let l=o;try{const w=await(await fetch("/logo-lnd.png")).blob(),S=await new Promise(I=>{const F=new FileReader;F.onloadend=()=>I(F.result),F.readAsDataURL(w)});i.addImage(S,"PNG",o,l,50,50)}catch(j){console.log("Logo non disponibile:",j)}i.setFont("helvetica","bold"),i.setFontSize(16),i.text("Federazione Italiana Giuoco Calcio",s/2,l+15,{align:"center"}),i.setFontSize(12),i.text("Lega Nazionale Dilettanti",s/2,l+30,{align:"center"}),i.setFontSize(14),i.setTextColor(0,0,139),i.text("DELEGAZIONE PROVINCIALE DI PADOVA",s/2,l+45,{align:"center"}),i.setTextColor(0,0,0),l+=70,i.setFillColor(220,235,255),i.setDrawColor(100,149,237),i.roundedRect(o,l,s-o*2,35,3,3,"FD"),i.setFont("helvetica","bold"),i.setFontSize(13),i.text(e.competition||t.competition,s/2,l+15,{align:"center"}),i.setFontSize(11),i.text("Categoria ESORDIENTI",s/2,l+28,{align:"center"}),l+=50,i.setFontSize(10),i.setFont("helvetica","bold"),i.rect(o,l,8,8),i.text("X",o+2,l+6),i.setFont("helvetica","normal"),i.text("ESORDIENTI 1° Anno 2014 - 9>9 (sigla X1)",o+12,l+6),l+=25,i.setFont("helvetica","bold"),i.setFontSize(11),i.text("Rapporto Gara Dirigente Arbitro:",o,l),i.setFont("helvetica","normal"),i.setFontSize(10),i.text(`Sig. ${e.refereeManager}`,o+180,l),i.text(`della Società ${e.refereeSociety}`,o+320,l),l+=20,i.setFont("helvetica","bold"),i.text("GARA:",o,l),i.setFont("helvetica","normal"),i.text(e.homeTeam,o+50,l),i.text(" - ",s/2-10,l),i.text(e.awayTeam,s/2+10,l),l+=15,i.setFontSize(9),i.text("(Società ospitante)",o+50,l),i.text("(Società ospitata)",s/2+10,l),i.setFontSize(10),l+=20,i.setFont("helvetica","bold"),i.text(`Valevole per la ${e.matchDay||"__"}`,o,l),i.text(" Giornata  GIRONE ",o+140,l),i.text(e.girone||"__",o+230,l),i.text(" del ",o+250,l);const u=new Date(e.date).toLocaleDateString("it-IT");i.text(u,o+280,l),i.text(" ore ",o+360,l),i.text(e.time,o+390,l),l+=20,i.text("Disputata a ",o,l),i.setFont("helvetica","normal"),i.text(e.location,o+70,l),i.setFont("helvetica","bold"),i.text(" campo ",o+300,l),i.setFont("helvetica","normal"),i.text(e.fieldType,o+345,l),l+=25;const c=n(),p=[["Ospitante",...t.periods.map(j=>r(j,"home").toString()),c.home.toString()],["Ospitata",...t.periods.map(j=>r(j,"away").toString()),c.away.toString()]];Sc(i,{startY:l,head:[[`SQUADRE
GARA`,`Prova
Tecnica`,`Risultato
1° tempo`,`Risultato
2° tempo`,`Risultato
3° tempo`,`Risultato
4° tempo`,`Risultato
FINALE`]],body:p,theme:"grid",styles:{fontSize:9,cellPadding:5,halign:"center",valign:"middle"},headStyles:{fillColor:[220,220,220],textColor:0,fontStyle:"bold",halign:"center"},columnStyles:{0:{halign:"left",fontStyle:"bold"},1:{fillColor:[255,255,200]},6:{fillColor:[200,220,255],fontStyle:"bold",fontSize:11}},margin:{left:o,right:o}}),l=i.lastAutoTable.finalY+20,i.setFontSize(10),i.setFillColor(220,255,220),i.rect(o,l,(s-o*2)/2-5,100,"F"),i.setFont("helvetica","bold"),i.text("SQUADRA OSPITANTE",o+5,l+12),i.setFontSize(8),i.setFont("helvetica","italic"),i.text("Da compilare a cura del DIRIGENTE OSPITATO",o+5,l+22),i.setFont("helvetica","normal"),i.setFontSize(9),[{label:"Saluto Inizio e Fine Gara",value:e.homeGreeting},{label:"Appello prima della gara",value:e.homeAppeal},{label:"Tutti i giocatori hanno partecipato",value:e.homeAllPlayed},{label:"Sostituzioni Regolari",value:e.homeSubstitutions},{label:"Distinta Giocatori Regolare",value:e.homeLineup}].forEach((j,z)=>{const w=l+35+z*12;i.text(j.label,o+5,w),i.text("SI",o+140,w),i.rect(o+150,w-5,6,6),j.value==="SI"&&i.text("X",o+151,w-1),i.text("NO",o+165,w),i.rect(o+178,w-5,6,6),j.value==="NO"&&i.text("X",o+179,w-1)});const d=s/2+5;if(i.setFillColor(220,235,255),i.rect(d,l,(s-o*2)/2-5,100,"F"),i.setFont("helvetica","bold"),i.setFontSize(10),i.text("SQUADRA OSPITATA",d+5,l+12),i.setFontSize(8),i.setFont("helvetica","italic"),i.text("Da compilare a cura DEL DIRIGENTE OSPITANTE",d+5,l+22),i.setFont("helvetica","normal"),i.setFontSize(9),[{label:"Saluto Inizio e Fine Gara",value:e.awayGreeting},{label:"Appello prima della gara",value:e.awayAppeal},{label:"Tutti i giocatori hanno partecipato",value:e.awayAllPlayed},{label:"Sostituzioni Regolari",value:e.awaySubstitutions},{label:"Distinta Giocatori Regolare",value:e.awayLineup}].forEach((j,z)=>{const w=l+35+z*12;i.text(j.label,d+5,w),i.text("SI",d+140,w),i.rect(d+150,w-5,6,6),j.value==="SI"&&i.text("X",d+151,w-1),i.text("NO",d+165,w),i.rect(d+178,w-5,6,6),j.value==="NO"&&i.text("X",d+179,w-1)}),l+=120,i.setFont("helvetica","bold"),i.setFontSize(10),i.text("MISURA DELLE PORTE: 6,00 m. x 2,00",o,l),i.text("SI",s-100,l),i.rect(s-85,l-5,6,6),e.goalsCorrect==="SI"&&i.text("X",s-84,l-1),i.text("NO",s-70,l),i.rect(s-55,l-5,6,6),e.goalsCorrect==="NO"&&i.text("X",s-54,l-1),l+=20,i.setFont("helvetica","bold"),i.text("NOTE:",o,l),i.setFont("helvetica","italic"),i.setFontSize(8),i.text("infortuni ai giocatori, mancata disputa della gara, comportamento pubblico e tesserati,",o,l+10),i.text("GIOCATORI ammoniti o espulsi (indicare minuto, cognome nome, n. maglia, società, motivazione), ecc.",o,l+20),i.setFont("helvetica","normal"),i.setFontSize(9),i.rect(o,l+25,s-o*2,40),e.notes){const j=i.splitTextToSize(e.notes,s-o*2-10);i.text(j,o+5,l+35)}l+=70,i.setDrawColor(0,0,0),i.line(o,l,s-o,l),l+=15,i.line(o,l,s-o,l),l+=25,i.setFont("helvetica","bold"),i.setFontSize(10),i.text("FIRMA DEI DIRIGENTI:",o,l);const v=120,T=50;if(i.rect(o+150,l-10,v,T),e.homeManagerSignature)try{i.addImage(e.homeManagerSignature,"PNG",o+155,l-5,v-10,T-10)}catch(j){console.log("Errore firma ospitante:",j)}if(i.setFont("helvetica","normal"),i.setFontSize(8),i.text("(Ospitante)",o+190,l+50),i.rect(s-o-v,l-10,v,T),e.awayManagerSignature)try{i.addImage(e.awayManagerSignature,"PNG",s-o-v+5,l-5,v-10,T-10)}catch(j){console.log("Errore firma ospitato:",j)}i.text("(Ospitato)",s-o-65,l+50),l+=70,i.setFont("helvetica","bold"),i.setFontSize(10),i.text("Dirigente Arbitro Gara reperibile al cellulare:",o,l),i.setFont("helvetica","normal"),i.text(e.refereePhone||"_______________",o+220,l);const _=100,x=35;if(i.rect(s-o-_,l-10,_,x),e.refereeSignature)try{i.addImage(e.refereeSignature,"PNG",s-o-_+5,l-5,_-10,x-10)}catch(j){console.log("Errore firma arbitro:",j)}i.setFont("helvetica","italic"),i.setFontSize(8),i.text("(Firma dell'arbitro)",s-o-55,l+30),l+=50,l>a-80&&(i.addPage(),l=o),i.setFont("helvetica","italic"),i.setFontSize(9),["Il Rapporto Gara, assieme alle distinte delle squadre, dovrà pervenire alla Delegazione di Padova esclusivamente","tramite scansione IN UN UNICO FILE PDF (NO FOTO) all'indirizzo email PADOVA.REFERTIBASE@LND.IT entro","il venerdì successivo alla disputa della gara."].forEach((j,z)=>{i.text(j,s/2,l+z*12,{align:"center"})});const L=`Rapporto_Gara_FIGC_${e.homeTeam.replace(/\s+/g,"_")}_vs_${e.awayTeam.replace(/\s+/g,"_")}_${u.replace(/\//g,"-")}.pdf`;i.save(L)},Y_=({match:t,onBack:e})=>{const[r,n]=rt.useState({category:"X1",refereeManager:t.assistantReferee||"",refereeSociety:"Vigontina San Paolo",homeTeam:t.isHome?"VIGONTINA SAN PAOLO":t.opponent,awayTeam:t.isHome?t.opponent:"VIGONTINA SAN PAOLO",matchDay:t.matchDay||"",girone:"",date:t.date,time:"15:00",location:"Via A. Moro - Busa di Vigonza (PD)",fieldType:"Comunale",homeGreeting:"SI",homeAppeal:"SI",homeAllPlayed:"SI",homeSubstitutions:"SI",homeLineup:"SI",awayGreeting:"SI",awayAppeal:"SI",awayAllPlayed:"SI",awaySubstitutions:"SI",awayLineup:"SI",notes:"",goalsCorrect:"SI",homeManagerSignature:null,awayManagerSignature:null,refereeSignature:null,refereePhone:""}),i=(c,p)=>{const m=c.vigontina,d=c.opponent,y=t.isHome,v=y?m:d,T=y?d:m;return p==="home"?v>=T?1:0:T>=v?1:0},s=()=>{const c=t.periods.filter(m=>m.completed&&m.name!=="PROVA TECNICA").reduce((m,d)=>m+i(d,"home"),0),p=t.periods.filter(m=>m.completed&&m.name!=="PROVA TECNICA").reduce((m,d)=>m+i(d,"away"),0);return{home:c,away:p}},a=(c,p)=>i(c,p),o=(c,p)=>{n(m=>({...m,[c]:p}))},l=async()=>{try{await nF(t,r,i,s),alert("✅ PDF del Rapporto Gara generato con successo!")}catch(c){console.error("Errore export PDF FIGC:",c),alert("❌ Errore durante la generazione del PDF")}},u=s();return R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:R.jsx("div",{className:"max-w-4xl mx-auto",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-4",children:[R.jsxs("button",{onClick:e,className:"mb-3 text-gray-600 hover:text-gray-800 flex items-center gap-2",children:[R.jsx(wf,{className:"w-5 h-5"}),"Indietro"]}),R.jsxs("div",{className:"mb-4",children:[R.jsxs("div",{className:"flex items-center justify-between mb-3",children:[R.jsxs("div",{className:"flex items-center gap-2",children:[R.jsx("div",{className:"w-10 h-10 rounded-full overflow-hidden bg-white flex items-center justify-center border-2 border-blue-200",children:R.jsx("img",{src:"/logo-lnd.png",alt:"LND Logo",className:"w-full h-full object-cover"})}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-lg font-bold text-blue-900",children:"Federazione Italiana Giuoco Calcio"}),R.jsx("p",{className:"text-xs text-gray-600",children:"Lega Nazionale Dilettanti - Del. Prov. PADOVA"})]})]}),R.jsxs("button",{onClick:l,className:"bg-red-600 text-white px-3 py-2 rounded-lg hover:bg-red-700 flex items-center gap-2 text-sm",children:[R.jsx(Cl,{className:"w-4 h-4"}),"PDF"]})]}),R.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 text-center",children:[R.jsx("h2",{className:"font-bold text-sm text-blue-900",children:t.competition}),R.jsx("p",{className:"text-xs text-blue-800",children:"ESORDIENTI 1° Anno 2014 - 9>9 (sigla X1)"})]})]}),R.jsx("div",{className:"mb-3 bg-gray-50 p-3 rounded-lg border",children:R.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3 text-sm",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Dirigente Arbitro *"}),R.jsx("input",{type:"text",value:r.refereeManager,onChange:c=>o("refereeManager",c.target.value),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"Mario Rossi"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Società"}),R.jsx("input",{type:"text",value:r.refereeSociety,readOnly:!0,className:"w-full border rounded px-2 py-1 text-sm bg-gray-100"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Giornata"}),R.jsx("input",{type:"text",value:r.matchDay,onChange:c=>o("matchDay",c.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Girone"}),R.jsx("input",{type:"text",value:r.girone,onChange:c=>o("girone",c.target.value),className:"w-full border rounded px-2 py-1 text-sm",placeholder:"A"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Ospitante"}),R.jsx("input",{type:"text",value:r.homeTeam,readOnly:!0,className:"w-full border rounded px-2 py-1 text-sm bg-gray-100"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Ospitata"}),R.jsx("input",{type:"text",value:r.awayTeam,readOnly:!0,className:"w-full border rounded px-2 py-1 text-sm bg-gray-100"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Data"}),R.jsx("input",{type:"date",value:r.date,onChange:c=>o("date",c.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Ora"}),R.jsx("input",{type:"time",value:r.time,onChange:c=>o("time",c.target.value),className:"w-full border rounded px-2 py-1 text-sm"})]}),R.jsxs("div",{className:"col-span-2",children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Disputata a"}),R.jsx("input",{type:"text",value:r.location,readOnly:!0,className:"w-full border rounded px-2 py-1 text-sm bg-gray-100"})]}),R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Campo"}),R.jsx("input",{type:"text",value:r.fieldType,readOnly:!0,className:"w-full border rounded px-2 py-1 text-sm bg-gray-100"})]})]})}),R.jsxs("div",{className:"mb-3 bg-gray-50 p-3 rounded-lg border",children:[R.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Risultati (V/P = 1 pt, S = 0 pt)"}),R.jsx("div",{className:"overflow-x-auto",children:R.jsxs("table",{className:"w-full border-collapse text-xs",children:[R.jsx("thead",{children:R.jsxs("tr",{className:"bg-blue-100",children:[R.jsx("th",{className:"border p-1",children:"Squadra"}),R.jsx("th",{className:"border p-1 bg-yellow-50 text-xs",children:"PT"}),R.jsx("th",{className:"border p-1",children:"1°T"}),R.jsx("th",{className:"border p-1",children:"2°T"}),R.jsx("th",{className:"border p-1",children:"3°T"}),R.jsx("th",{className:"border p-1",children:"4°T"}),R.jsx("th",{className:"border p-1 bg-blue-200 font-bold",children:"FIN"})]})}),R.jsxs("tbody",{children:[R.jsxs("tr",{children:[R.jsx("td",{className:"border p-1 font-medium text-xs",children:"Ospitante"}),t.periods.map((c,p)=>{const m=a(c,"home"),d=c.name==="PROVA TECNICA";return R.jsx("td",{className:`border p-1 text-center ${d?"bg-yellow-50":""}`,children:R.jsx("div",{className:"font-bold text-lg",children:m})},p)}),R.jsx("td",{className:"border p-1 text-center font-bold bg-blue-50 text-xl",children:u.home})]}),R.jsxs("tr",{children:[R.jsx("td",{className:"border p-1 font-medium text-xs",children:"Ospitata"}),t.periods.map((c,p)=>{const m=a(c,"away"),d=c.name==="PROVA TECNICA";return R.jsx("td",{className:`border p-1 text-center ${d?"bg-yellow-50":""}`,children:R.jsx("div",{className:"font-bold text-lg",children:m})},p)}),R.jsx("td",{className:"border p-1 text-center font-bold bg-blue-50 text-xl",children:u.away})]})]})]})})]}),R.jsx("div",{className:"mb-3",children:R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsxs("div",{className:"bg-green-50 p-2 rounded border border-green-200",children:[R.jsx("h3",{className:"font-semibold text-xs mb-2 text-green-900",children:"OSPITANTE (compila ospitato)"}),R.jsx("div",{className:"space-y-1",children:[{key:"homeGreeting",label:"Saluto"},{key:"homeAppeal",label:"Appello"},{key:"homeAllPlayed",label:"Tutti giocato"},{key:"homeSubstitutions",label:"Sostituzioni"},{key:"homeLineup",label:"Distinta"}].map(c=>R.jsxs("div",{className:"flex items-center justify-between text-xs",children:[R.jsx("span",{children:c.label}),R.jsx("div",{className:"flex gap-2",children:["SI","NO"].map(p=>R.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[R.jsx("input",{type:"radio",checked:r[c.key]===p,onChange:()=>o(c.key,p),className:"w-3 h-3"}),R.jsx("span",{className:"text-xs",children:p})]},p))})]},c.key))})]}),R.jsxs("div",{className:"bg-blue-50 p-2 rounded border border-blue-200",children:[R.jsx("h3",{className:"font-semibold text-xs mb-2 text-blue-900",children:"OSPITATA (compila ospitante)"}),R.jsx("div",{className:"space-y-1",children:[{key:"awayGreeting",label:"Saluto"},{key:"awayAppeal",label:"Appello"},{key:"awayAllPlayed",label:"Tutti giocato"},{key:"awaySubstitutions",label:"Sostituzioni"},{key:"awayLineup",label:"Distinta"}].map(c=>R.jsxs("div",{className:"flex items-center justify-between text-xs",children:[R.jsx("span",{children:c.label}),R.jsx("div",{className:"flex gap-2",children:["SI","NO"].map(p=>R.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[R.jsx("input",{type:"radio",checked:r[c.key]===p,onChange:()=>o(c.key,p),className:"w-3 h-3"}),R.jsx("span",{className:"text-xs",children:p})]},p))})]},c.key))})]})]})}),R.jsx("div",{className:"mb-3 bg-gray-50 p-2 rounded border",children:R.jsxs("label",{className:"flex items-center justify-between text-xs",children:[R.jsx("span",{className:"font-medium",children:"MISURA PORTE: 6,00 m. x 2,00"}),R.jsx("div",{className:"flex gap-3",children:["SI","NO"].map(c=>R.jsxs("label",{className:"flex items-center gap-1 cursor-pointer",children:[R.jsx("input",{type:"radio",checked:r.goalsCorrect===c,onChange:()=>o("goalsCorrect",c),className:"w-3 h-3"}),R.jsx("span",{className:"text-xs",children:c})]},c))})]})}),R.jsxs("div",{className:"mb-3 bg-gray-50 p-2 rounded border",children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"NOTE"}),R.jsx("textarea",{value:r.notes,onChange:c=>o("notes",c.target.value),className:"w-full border rounded px-2 py-1 h-16 text-xs",placeholder:"Infortuni, ammonizioni, espulsioni..."})]}),R.jsxs("div",{className:"mb-3",children:[R.jsx("h3",{className:"font-semibold text-sm mb-2",children:"Firme Digitali"}),R.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-2",children:[R.jsx(ng,{label:"Firma Dirigente OSPITANTE",signature:r.homeManagerSignature,onSave:c=>o("homeManagerSignature",c),height:80}),R.jsx(ng,{label:"Firma Dirigente OSPITATO",signature:r.awayManagerSignature,onSave:c=>o("awayManagerSignature",c),height:80})]}),R.jsxs("div",{className:"bg-yellow-50 p-2 rounded border border-yellow-200",children:[R.jsx("h4",{className:"font-semibold text-xs mb-2",children:"Dirigente Arbitro"}),R.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[R.jsxs("div",{children:[R.jsx("label",{className:"block text-xs font-medium mb-1",children:"Cellulare reperibile"}),R.jsx("input",{type:"tel",value:r.refereePhone,onChange:c=>o("refereePhone",c.target.value),className:"w-full border rounded px-2 py-1 text-sm mb-2",placeholder:"340 1234567"})]}),R.jsx(ng,{label:"Firma Arbitro",signature:r.refereeSignature,onSave:c=>o("refereeSignature",c),height:80,compact:!0})]})]})]}),R.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded p-2 text-xs mb-3",children:R.jsx("p",{className:"font-semibold text-xs",children:"📤 Invio: PADOVA.REFERTIBASE@LND.IT (PDF unico, entro venerdì)"})}),R.jsxs("button",{onClick:l,className:"w-full bg-red-600 text-white py-2 rounded-lg hover:bg-red-700 flex items-center justify-center gap-2 font-medium",children:[R.jsx(Cl,{className:"w-5 h-5"}),"Genera PDF Firmato"]})]})})})},ng=({label:t,signature:e,onSave:r,height:n=80,compact:i=!1})=>{const s=rt.useRef(null),[a,o]=rt.useState(!1),[l,u]=rt.useState(!1);rt.useEffect(()=>{if(e&&s.current){const v=s.current.getContext("2d"),T=new Image;T.onload=()=>{v.drawImage(T,0,0),u(!0)},T.src=e}},[e]);const c=y=>{var L,j,z,w;o(!0);const v=s.current,T=v.getContext("2d"),_=v.getBoundingClientRect(),x=(y.clientX||((j=(L=y.touches)==null?void 0:L[0])==null?void 0:j.clientX))-_.left,E=(y.clientY||((w=(z=y.touches)==null?void 0:z[0])==null?void 0:w.clientY))-_.top;T.beginPath(),T.moveTo(x,E)},p=y=>{var L,j,z,w;if(!a)return;y.preventDefault();const v=s.current,T=v.getContext("2d"),_=v.getBoundingClientRect(),x=(y.clientX||((j=(L=y.touches)==null?void 0:L[0])==null?void 0:j.clientX))-_.left,E=(y.clientY||((w=(z=y.touches)==null?void 0:z[0])==null?void 0:w.clientY))-_.top;T.lineTo(x,E),T.strokeStyle="#000",T.lineWidth=2,T.lineCap="round",T.stroke(),u(!0)},m=()=>{if(o(!1),l){const y=s.current;r(y.toDataURL())}},d=()=>{const y=s.current;y.getContext("2d").clearRect(0,0,y.width,y.height),u(!1),r(null)};return R.jsxs("div",{children:[!i&&R.jsx("label",{className:"block text-xs font-medium mb-1",children:t}),i&&R.jsx("label",{className:"block text-xs font-medium mb-1",children:t}),R.jsx("div",{className:"border-2 border-gray-300 rounded overflow-hidden bg-white",children:R.jsx("canvas",{ref:s,width:250,height:n,className:"w-full touch-none cursor-crosshair",onMouseDown:c,onMouseMove:p,onMouseUp:m,onMouseLeave:m,onTouchStart:c,onTouchMove:p,onTouchEnd:m})}),l&&R.jsx("button",{onClick:d,className:"mt-1 text-xs text-red-600 hover:text-red-800",children:"Cancella"})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var $p={};$p.version="0.18.5";var XE=1252,iF=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],YE=function(t){iF.indexOf(t)!=-1&&(XE=t)};function sF(){YE(1252)}var u0=function(t){YE(t)};function aF(){u0(1200),sF()}var Rd=function(e){return String.fromCharCode(e)},Q_=function(e){return String.fromCharCode(e)},Kp,ll="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function c0(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=ll.charAt(s)+ll.charAt(a)+ll.charAt(o)+ll.charAt(l);return e}function yo(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=ll.indexOf(t.charAt(u++)),a=ll.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=ll.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=ll.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var ur=function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node}(),wo=function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}}();function Pu(t){return ur?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function J_(t){return ur?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var sa=function(e){return ur?wo(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function V1(t){if(typeof ArrayBuffer>"u")return sa(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function P0(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function oF(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}var Qn=ur?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:wo(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function lF(t){for(var e=[],r=0,n=t.length+250,i=Pu(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Pu(65535),n=65530)}return e.push(i.slice(0,r)),Qn(e)}var Nh=/\u0000/g,Dd=/[\u0001-\u0006]/g;function Gc(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function aa(t,e){var r=""+t;return r.length>=e?r:tn("0",e-r.length)+r}function T5(t,e){var r=""+t;return r.length>=e?r:tn(" ",e-r.length)+r}function Xp(t,e){var r=""+t;return r.length>=e?r:r+tn(" ",e-r.length)}function uF(t,e){var r=""+Math.round(t);return r.length>=e?r:tn("0",e-r.length)+r}function cF(t,e){var r=""+t;return r.length>=e?r:tn("0",e-r.length)+r}var Z_=Math.pow(2,32);function pc(t,e){if(t>Z_||t<-Z_)return uF(t,e);var r=Math.round(t);return cF(r,e)}function Yp(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var ew=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],ig=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function fF(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"上午/下午 "hh"時"mm"分"ss"秒 "',t}var rn={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"上午/下午 "hh"時"mm"分"ss"秒 "'},tw={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},hF={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function Qp(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,c=0,p=Math.floor(i);u<e&&(p=Math.floor(i),o=p*a+s,c=p*u+l,!(i-p<5e-8));)i=1/(i-p),s=a,a=o,l=u,u=c;if(c>e&&(u>e?(c=l,o=s):(c=u,o=a)),!r)return[0,n*o,c];var m=Math.floor(n*o/c);return[m,n*o-m*c,c]}function Od(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=xF(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var QE=new Date(1899,11,31,0,0,0),dF=QE.getTime(),pF=new Date(1900,2,1,0,0,0);function JE(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=pF&&(r+=24*60*60*1e3),(r-(dF+(t.getTimezoneOffset()-QE.getTimezoneOffset())*6e4))/(24*60*60*1e3)}function b5(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function mF(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function gF(t){var e=t<0?12:11,r=b5(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function vF(t){var e=b5(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yF(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=gF(t):e===10?r=t.toFixed(10).substr(0,12):r=vF(t),b5(mF(r.toUpperCase()))}function B2(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yF(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return kl(14,JE(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function xF(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function _F(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return ig[r.m-1][1];case 5:return ig[r.m-1][0];default:return ig[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return ew[r.q][0];default:return ew[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?aa(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=aa(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var c=u>0?aa(l,u):"";return c}function ul(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var ZE=/%/g;function wF(t,e,r){var n=e.replace(ZE,""),i=e.length-n.length;return ao(t,n,r*Math.pow(10,2*i))+tn("%",i)}function SF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ao(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function eA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+eA(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tA=/# (\?+)( ?)\/( ?)(\d+)/;function EF(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?tn(" ",t[1].length+1+t[4].length):T5(a,t[1].length)+t[2]+"/"+t[3]+aa(o,t[4].length))}function AF(t,e,r){return r+(e===0?"":""+e)+tn(" ",t[1].length+2+t[4].length)}var rA=/^#*0*\.([0#]+)/,nA=/\).*[0#]/,iA=/\(###\) ###\\?-####/;function Ii(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function rw(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function nw(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function TF(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function bF(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function ks(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?ks("n",n,r):"("+ks("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return SF(t,e,r);if(e.indexOf("%")!==-1)return wF(t,e,r);if(e.indexOf("E")!==-1)return eA(e,r);if(e.charCodeAt(0)===36)return"$"+ks(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+pc(l,e.length);if(e.match(/^[#?]+$/))return i=pc(r,0),i==="0"&&(i=""),i.length>e.length?i:Ii(e.substr(0,e.length-i.length))+i;if(s=e.match(tA))return EF(s,l,u);if(e.match(/^#+0+$/))return u+pc(l,e.length-e.indexOf("0"));if(s=e.match(rA))return i=rw(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ii(s[1])).replace(/\.$/,"."+Ii(s[1])).replace(/\.(\d*)$/,function(y,v){return"."+v+tn("0",Ii(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+rw(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+ul(pc(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+ks(t,e,-r):ul(""+(Math.floor(r)+TF(r,s[1].length)))+"."+aa(nw(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return ks(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Gc(ks(t,e.replace(/[\\-]/g,""),r)),a=0,Gc(Gc(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(iA))return i=ks(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Qp(l,Math.pow(10,a)-1,!1),i=""+u,c=ao("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=Xp(o[2],a),c.length<s[4].length&&(c=Ii(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Qp(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?T5(o[1],a)+s[2]+"/"+s[3]+Xp(o[2],a):tn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=pc(r,0),e.length<=i.length?i:Ii(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,m=e.length-i.length-p;return Ii(e.substr(0,p)+i+e.substr(e.length-m))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=nw(r,s[1].length),r<0?"-"+ks(t,e,-r):ul(bF(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?aa(0,3-y.length):"")+y})+"."+aa(a,s[1].length);switch(e){case"###,##0.00":return ks(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var d=ul(pc(l,0));return d!=="0"?u+d:"";case"###,###.00":return ks(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return ks(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function NF(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return ao(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function CF(t,e,r){var n=e.replace(ZE,""),i=e.length-n.length;return ao(t,n,r*Math.pow(10,2*i))+tn("%",i)}function sA(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sA(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,c){return l+u+c.substr(0,(i+s)%i)+"."+c.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Ta(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nA)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Ta("n",n,r):"("+Ta("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return NF(t,e,r);if(e.indexOf("%")!==-1)return CF(t,e,r);if(e.indexOf("E")!==-1)return sA(e,r);if(e.charCodeAt(0)===36)return"$"+Ta(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+aa(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ii(e.substr(0,e.length-i.length))+i;if(s=e.match(tA))return AF(s,l,u);if(e.match(/^#+0+$/))return u+aa(l,e.length-e.indexOf("0"));if(s=e.match(rA))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ii(s[1])).replace(/\.$/,"."+Ii(s[1])),i=i.replace(/\.(\d*)$/,function(y,v){return"."+v+tn("0",Ii(s[1]).length-v.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+ul(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Ta(t,e,-r):ul(""+r)+"."+tn("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Ta(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Gc(Ta(t,e.replace(/[\\-]/g,""),r)),a=0,Gc(Gc(e.replace(/\\/g,"")).replace(/[0#]/g,function(y){return a<i.length?i.charAt(a++):y==="0"?"0":""}));if(e.match(iA))return i=Ta(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var c="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=Qp(l,Math.pow(10,a)-1,!1),i=""+u,c=ao("n",s[1],o[1]),c.charAt(c.length-1)==" "&&(c=c.substr(0,c.length-1)+"0"),i+=c+s[2]+"/"+s[3],c=Xp(o[2],a),c.length<s[4].length&&(c=Ii(s[4].substr(s[4].length-c.length))+c),i+=c,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=Qp(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?T5(o[1],a)+s[2]+"/"+s[3]+Xp(o[2],a):tn(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ii(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var p=e.indexOf(".")-a,m=e.length-i.length-p;return Ii(e.substr(0,p)+i+e.substr(e.length-m))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Ta(t,e,-r):ul(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(y){return"00,"+(y.length<3?aa(0,3-y.length):"")+y})+"."+aa(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var d=ul(""+l);return d!=="0"?u+d:"";default:if(e.match(/\.[0#?]*$/))return Ta(t,e.slice(0,e.lastIndexOf(".")),r)+Ii(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function ao(t,e,r){return(r|0)===r?Ta(t,e,r):ks(t,e,r)}function IF(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var aA=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function oA(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":Yp(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"上":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="上午/下午")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(aA))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function PF(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,c,p,m="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!Yp(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(p=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(p);i[i.length]={t:"t",v:s},++a;break;case"\\":var d=t.charAt(++a),y=d==="("||d===")"?d:"t";i[i.length]={t:y,v:d},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=Od(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=Od(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=m),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"上":var v={t:o,v:o};if(u==null&&(u=Od(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(v.v=u.H>=12?"P":"A"),v.t="T",m="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(v.v=u.H>=12?"PM":"AM"),v.t="T",a+=5,m="h"):t.substr(a,5).toUpperCase()==="上午/下午"?(u!=null&&(v.v=u.H>=12?"下午":"上午"),v.t="T",a+=5,m="h"):(v.t="t",++a),u==null&&v.t==="T")return"";i[i.length]=v,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(aA)){if(u==null&&(u=Od(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",oA(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=€acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var T=0,_=0,x;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=m,l="h",T<1&&(T=1);break;case"s":(x=i[a].v.match(/\.0+$/))&&(_=Math.max(_,x[0].length-1)),T<3&&(T=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",T<2&&(T=2));break;case"X":break;case"Z":T<1&&i[a].v.match(/[Hh]/)&&(T=1),T<2&&i[a].v.match(/[Mm]/)&&(T=2),T<3&&i[a].v.match(/[Ss]/)&&(T=3)}switch(T){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var E="",L;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=_F(i[a].t.charCodeAt(0),i[a].v,u,_),i[a].t="t";break;case"n":case"?":for(L=a+1;i[L]!=null&&((o=i[L].t)==="?"||o==="D"||(o===" "||o==="t")&&i[L+1]!=null&&(i[L+1].t==="?"||i[L+1].t==="t"&&i[L+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[L].v==="/"||i[L].v===" "&&i[L+1]!=null&&i[L+1].t=="?"));)i[a].v+=i[L].v,i[L]={v:"",t:";"},++L;E+=i[a].v,a=L-1;break;case"G":i[a].t="t",i[a].v=B2(e,r);break}var j="",z,w;if(E.length>0){E.charCodeAt(0)==40?(z=e<0&&E.charCodeAt(0)===45?-e:e,w=ao("n",E,z)):(z=e<0&&n>1?-e:e,w=ao("n",E,z),z<0&&i[0]&&i[0].t=="t"&&(w=w.substr(1),i[0].v="-"+i[0].v)),L=w.length-1;var S=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){S=a;break}var I=i.length;if(S===i.length&&w.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(L>=i[a].v.length-1?(L-=i[a].v.length,i[a].v=w.substr(L+1,i[a].v.length)):L<0?i[a].v="":(i[a].v=w.substr(0,L+1),L=-1),i[a].t="t",I=a);L>=0&&I<i.length&&(i[I].v=w.substr(0,L+1)+i[I].v)}else if(S!==i.length&&w.indexOf("E")===-1){for(L=w.indexOf(".")-1,a=S;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(c=i[a].v.indexOf(".")>-1&&a===S?i[a].v.indexOf(".")-1:i[a].v.length-1,j=i[a].v.substr(c+1);c>=0;--c)L>=0&&(i[a].v.charAt(c)==="0"||i[a].v.charAt(c)==="#")&&(j=w.charAt(L--)+j);i[a].v=j,i[a].t="t",I=a}for(L>=0&&I<i.length&&(i[I].v=w.substr(0,L+1)+i[I].v),L=w.indexOf(".")+1,a=S;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==S)){for(c=i[a].v.indexOf(".")>-1&&a===S?i[a].v.indexOf(".")+1:0,j=i[a].v.substr(0,c);c<i[a].v.length;++c)L<w.length&&(j+=w.charAt(L++));i[a].v=j,i[a].t="t",I=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(z=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=ao(i[a].t,i[a].v,z),i[a].t="t");var F="";for(a=0;a!==i.length;++a)i[a]!=null&&(F+=i[a].v);return F}var iw=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function sw(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function kF(t,e){var r=IF(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(iw),o=r[1].match(iw);return sw(e,a)?[n,r[0]]:sw(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function kl(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:rn)[t],n==null&&(n=r.table&&r.table[tw[t]]||rn[tw[t]]),n==null&&(n=hF[t]||"General");break}if(Yp(n,0))return B2(e,r);e instanceof Date&&(e=JE(e,r.date1904));var i=kF(n,e);if(Yp(i[1]))return B2(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return PF(i[1],e,r,i[0])}function lA(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(rn[r]==null){e<0&&(e=r);continue}if(rn[r]==t){e=r;break}}e<0&&(e=391)}return rn[e]=t,e}function U1(t){for(var e=0;e!=392;++e)t[e]!==void 0&&lA(t[e],e)}function z1(){rn=fF()}var uA=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function LF(t){var e=typeof t=="number"?rn[t]:t;return e=e.replace(uA,"(\\d+)"),new RegExp("^"+e+"$")}function FF(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(uA)||[]).forEach(function(p,m){var d=parseInt(r[m+1],10);switch(p.toLowerCase().charAt(0)){case"y":n=d;break;case"d":s=d;break;case"h":a=d;break;case"s":l=d;break;case"m":a>=0?o=d:i=d;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var c=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?c:u+"T"+c}var RF=function(){var t={};t.version="1.2.0";function e(){for(var w=0,S=new Array(256),I=0;I!=256;++I)w=I,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,w=w&1?-306674912^w>>>1:w>>>1,S[I]=w;return typeof Int32Array<"u"?new Int32Array(S):S}var r=e();function n(w){var S=0,I=0,F=0,N=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(F=0;F!=256;++F)N[F]=w[F];for(F=0;F!=256;++F)for(I=w[F],S=256+F;S<4096;S+=256)I=N[S]=I>>>8^w[I&255];var b=[];for(F=1;F!=16;++F)b[F-1]=typeof Int32Array<"u"?N.subarray(F*256,F*256+256):N.slice(F*256,F*256+256);return b}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],c=i[5],p=i[6],m=i[7],d=i[8],y=i[9],v=i[10],T=i[11],_=i[12],x=i[13],E=i[14];function L(w,S){for(var I=S^-1,F=0,N=w.length;F<N;)I=I>>>8^r[(I^w.charCodeAt(F++))&255];return~I}function j(w,S){for(var I=S^-1,F=w.length-15,N=0;N<F;)I=E[w[N++]^I&255]^x[w[N++]^I>>8&255]^_[w[N++]^I>>16&255]^T[w[N++]^I>>>24]^v[w[N++]]^y[w[N++]]^d[w[N++]]^m[w[N++]]^p[w[N++]]^c[w[N++]]^u[w[N++]]^l[w[N++]]^o[w[N++]]^a[w[N++]]^s[w[N++]]^r[w[N++]];for(F+=15;N<F;)I=I>>>8^r[(I^w[N++])&255];return~I}function z(w,S){for(var I=S^-1,F=0,N=w.length,b=0,D=0;F<N;)b=w.charCodeAt(F++),b<128?I=I>>>8^r[(I^b)&255]:b<2048?(I=I>>>8^r[(I^(192|b>>6&31))&255],I=I>>>8^r[(I^(128|b&63))&255]):b>=55296&&b<57344?(b=(b&1023)+64,D=w.charCodeAt(F++)&1023,I=I>>>8^r[(I^(240|b>>8&7))&255],I=I>>>8^r[(I^(128|b>>2&63))&255],I=I>>>8^r[(I^(128|D>>6&15|(b&3)<<4))&255],I=I>>>8^r[(I^(128|D&63))&255]):(I=I>>>8^r[(I^(224|b>>12&15))&255],I=I>>>8^r[(I^(128|b>>6&63))&255],I=I>>>8^r[(I^(128|b&63))&255]);return~I}return t.table=r,t.bstr=L,t.buf=j,t.str=z,t}(),br=function(){var e={};e.version="1.2.1";function r(q,le){for(var ne=q.split("/"),ie=le.split("/"),oe=0,ue=0,be=Math.min(ne.length,ie.length);oe<be;++oe){if(ue=ne[oe].length-ie[oe].length)return ue;if(ne[oe]!=ie[oe])return ne[oe]<ie[oe]?-1:1}return ne.length-ie.length}function n(q){if(q.charAt(q.length-1)=="/")return q.slice(0,-1).indexOf("/")===-1?q:n(q.slice(0,-1));var le=q.lastIndexOf("/");return le===-1?q:q.slice(0,le+1)}function i(q){if(q.charAt(q.length-1)=="/")return i(q.slice(0,-1));var le=q.lastIndexOf("/");return le===-1?q:q.slice(le+1)}function s(q,le){typeof le=="string"&&(le=new Date(le));var ne=le.getHours();ne=ne<<6|le.getMinutes(),ne=ne<<5|le.getSeconds()>>>1,q.write_shift(2,ne);var ie=le.getFullYear()-1980;ie=ie<<4|le.getMonth()+1,ie=ie<<5|le.getDate(),q.write_shift(2,ie)}function a(q){var le=q.read_shift(2)&65535,ne=q.read_shift(2)&65535,ie=new Date,oe=ne&31;ne>>>=5;var ue=ne&15;ne>>>=4,ie.setMilliseconds(0),ie.setFullYear(ne+1980),ie.setMonth(ue-1),ie.setDate(oe);var be=le&31;le>>>=5;var Fe=le&63;return le>>>=6,ie.setHours(le),ie.setMinutes(Fe),ie.setSeconds(be<<1),ie}function o(q){cs(q,0);for(var le={},ne=0;q.l<=q.length-4;){var ie=q.read_shift(2),oe=q.read_shift(2),ue=q.l+oe,be={};switch(ie){case 21589:ne=q.read_shift(1),ne&1&&(be.mtime=q.read_shift(4)),oe>5&&(ne&2&&(be.atime=q.read_shift(4)),ne&4&&(be.ctime=q.read_shift(4))),be.mtime&&(be.mt=new Date(be.mtime*1e3));break}q.l=ue,le[ie]=be}return le}var l;function u(){return l||(l={})}function c(q,le){if(q[0]==80&&q[1]==75)return Er(q,le);if((q[0]|32)==109&&(q[1]|32)==105)return Si(q,le);if(q.length<512)throw new Error("CFB file size "+q.length+" < 512");var ne=3,ie=512,oe=0,ue=0,be=0,Fe=0,Ne=0,Ce=[],Le=q.slice(0,512);cs(Le,0);var Ke=p(Le);switch(ne=Ke[0],ne){case 3:ie=512;break;case 4:ie=4096;break;case 0:if(Ke[1]==0)return Er(q,le);default:throw new Error("Major Version: Expected 3 or 4 saw "+ne)}ie!==512&&(Le=q.slice(0,ie),cs(Le,28));var nt=q.slice(0,ie);m(Le,ne);var dt=Le.read_shift(4,"i");if(ne===3&&dt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+dt);Le.l+=4,be=Le.read_shift(4,"i"),Le.l+=4,Le.chk("00100000","Mini Stream Cutoff Size: "),Fe=Le.read_shift(4,"i"),oe=Le.read_shift(4,"i"),Ne=Le.read_shift(4,"i"),ue=Le.read_shift(4,"i");for(var Ze=-1,ut=0;ut<109&&(Ze=Le.read_shift(4,"i"),!(Ze<0));++ut)Ce[ut]=Ze;var kt=d(q,ie);T(Ne,ue,kt,ie,Ce);var Zt=x(kt,be,Ce,ie);Zt[be].name="!Directory",oe>0&&Fe!==D&&(Zt[Fe].name="!MiniFAT"),Zt[Ce[0]].name="!FAT",Zt.fat_addrs=Ce,Zt.ssz=ie;var er={},Ar=[],Ei=[],Vs=[];E(be,Zt,kt,Ar,oe,er,Ei,Fe),y(Ei,Vs,Ar),Ar.shift();var es={FileIndex:Ei,FullPaths:Vs};return le&&le.raw&&(es.raw={header:nt,sectors:kt}),es}function p(q){if(q[q.l]==80&&q[q.l+1]==75)return[0,0];q.chk(Z,"Header Signature: "),q.l+=16;var le=q.read_shift(2,"u");return[q.read_shift(2,"u"),le]}function m(q,le){var ne=9;switch(q.l+=2,ne=q.read_shift(2)){case 9:if(le!=3)throw new Error("Sector Shift: Expected 9 saw "+ne);break;case 12:if(le!=4)throw new Error("Sector Shift: Expected 12 saw "+ne);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ne)}q.chk("0600","Mini Sector Shift: "),q.chk("000000000000","Reserved: ")}function d(q,le){for(var ne=Math.ceil(q.length/le)-1,ie=[],oe=1;oe<ne;++oe)ie[oe-1]=q.slice(oe*le,(oe+1)*le);return ie[ne-1]=q.slice(ne*le),ie}function y(q,le,ne){for(var ie=0,oe=0,ue=0,be=0,Fe=0,Ne=ne.length,Ce=[],Le=[];ie<Ne;++ie)Ce[ie]=Le[ie]=ie,le[ie]=ne[ie];for(;Fe<Le.length;++Fe)ie=Le[Fe],oe=q[ie].L,ue=q[ie].R,be=q[ie].C,Ce[ie]===ie&&(oe!==-1&&Ce[oe]!==oe&&(Ce[ie]=Ce[oe]),ue!==-1&&Ce[ue]!==ue&&(Ce[ie]=Ce[ue])),be!==-1&&(Ce[be]=ie),oe!==-1&&ie!=Ce[ie]&&(Ce[oe]=Ce[ie],Le.lastIndexOf(oe)<Fe&&Le.push(oe)),ue!==-1&&ie!=Ce[ie]&&(Ce[ue]=Ce[ie],Le.lastIndexOf(ue)<Fe&&Le.push(ue));for(ie=1;ie<Ne;++ie)Ce[ie]===ie&&(ue!==-1&&Ce[ue]!==ue?Ce[ie]=Ce[ue]:oe!==-1&&Ce[oe]!==oe&&(Ce[ie]=Ce[oe]));for(ie=1;ie<Ne;++ie)if(q[ie].type!==0){if(Fe=ie,Fe!=Ce[Fe])do Fe=Ce[Fe],le[ie]=le[Fe]+"/"+le[ie];while(Fe!==0&&Ce[Fe]!==-1&&Fe!=Ce[Fe]);Ce[ie]=-1}for(le[0]+="/",ie=1;ie<Ne;++ie)q[ie].type!==2&&(le[ie]+="/")}function v(q,le,ne){for(var ie=q.start,oe=q.size,ue=[],be=ie;ne&&oe>0&&be>=0;)ue.push(le.slice(be*b,be*b+b)),oe-=b,be=ou(ne,be*4);return ue.length===0?je(0):Qn(ue).slice(0,q.size)}function T(q,le,ne,ie,oe){var ue=D;if(q===D){if(le!==0)throw new Error("DIFAT chain shorter than expected")}else if(q!==-1){var be=ne[q],Fe=(ie>>>2)-1;if(!be)return;for(var Ne=0;Ne<Fe&&(ue=ou(be,Ne*4))!==D;++Ne)oe.push(ue);T(ou(be,ie-4),le-1,ne,ie,oe)}}function _(q,le,ne,ie,oe){var ue=[],be=[];oe||(oe=[]);var Fe=ie-1,Ne=0,Ce=0;for(Ne=le;Ne>=0;){oe[Ne]=!0,ue[ue.length]=Ne,be.push(q[Ne]);var Le=ne[Math.floor(Ne*4/ie)];if(Ce=Ne*4&Fe,ie<4+Ce)throw new Error("FAT boundary crossed: "+Ne+" 4 "+ie);if(!q[Le])break;Ne=ou(q[Le],Ce)}return{nodes:ue,data:dw([be])}}function x(q,le,ne,ie){var oe=q.length,ue=[],be=[],Fe=[],Ne=[],Ce=ie-1,Le=0,Ke=0,nt=0,dt=0;for(Le=0;Le<oe;++Le)if(Fe=[],nt=Le+le,nt>=oe&&(nt-=oe),!be[nt]){Ne=[];var Ze=[];for(Ke=nt;Ke>=0;){Ze[Ke]=!0,be[Ke]=!0,Fe[Fe.length]=Ke,Ne.push(q[Ke]);var ut=ne[Math.floor(Ke*4/ie)];if(dt=Ke*4&Ce,ie<4+dt)throw new Error("FAT boundary crossed: "+Ke+" 4 "+ie);if(!q[ut]||(Ke=ou(q[ut],dt),Ze[Ke]))break}ue[nt]={nodes:Fe,data:dw([Ne])}}return ue}function E(q,le,ne,ie,oe,ue,be,Fe){for(var Ne=0,Ce=ie.length?2:0,Le=le[q].data,Ke=0,nt=0,dt;Ke<Le.length;Ke+=128){var Ze=Le.slice(Ke,Ke+128);cs(Ze,64),nt=Ze.read_shift(2),dt=k5(Ze,0,nt-Ce),ie.push(dt);var ut={name:dt,type:Ze.read_shift(1),color:Ze.read_shift(1),L:Ze.read_shift(4,"i"),R:Ze.read_shift(4,"i"),C:Ze.read_shift(4,"i"),clsid:Ze.read_shift(16),state:Ze.read_shift(4,"i"),start:0,size:0},kt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);kt!==0&&(ut.ct=L(Ze,Ze.l-8));var Zt=Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2)+Ze.read_shift(2);Zt!==0&&(ut.mt=L(Ze,Ze.l-8)),ut.start=Ze.read_shift(4,"i"),ut.size=Ze.read_shift(4,"i"),ut.size<0&&ut.start<0&&(ut.size=ut.type=0,ut.start=D,ut.name=""),ut.type===5?(Ne=ut.start,oe>0&&Ne!==D&&(le[Ne].name="!StreamData")):ut.size>=4096?(ut.storage="fat",le[ut.start]===void 0&&(le[ut.start]=_(ne,ut.start,le.fat_addrs,le.ssz)),le[ut.start].name=ut.name,ut.content=le[ut.start].data.slice(0,ut.size)):(ut.storage="minifat",ut.size<0?ut.size=0:Ne!==D&&ut.start!==D&&le[Ne]&&(ut.content=v(ut,le[Ne].data,(le[Fe]||{}).data))),ut.content&&cs(ut.content,0),ue[dt]=ut,be.push(ut)}}function L(q,le){return new Date((hs(q,le+4)/1e7*Math.pow(2,32)+hs(q,le)/1e7-11644473600)*1e3)}function j(q,le){return u(),c(l.readFileSync(q),le)}function z(q,le){var ne=le&&le.type;switch(ne||ur&&Buffer.isBuffer(q)&&(ne="buffer"),ne||"base64"){case"file":return j(q,le);case"base64":return c(sa(yo(q)),le);case"binary":return c(sa(q),le)}return c(q,le)}function w(q,le){var ne=le||{},ie=ne.root||"Root Entry";if(q.FullPaths||(q.FullPaths=[]),q.FileIndex||(q.FileIndex=[]),q.FullPaths.length!==q.FileIndex.length)throw new Error("inconsistent CFB structure");q.FullPaths.length===0&&(q.FullPaths[0]=ie+"/",q.FileIndex[0]={name:ie,type:5}),ne.CLSID&&(q.FileIndex[0].clsid=ne.CLSID),S(q)}function S(q){var le="Sh33tJ5";if(!br.find(q,"/"+le)){var ne=je(4);ne[0]=55,ne[1]=ne[3]=50,ne[2]=54,q.FileIndex.push({name:le,type:2,content:ne,size:4,L:69,R:69,C:69}),q.FullPaths.push(q.FullPaths[0]+le),I(q)}}function I(q,le){w(q);for(var ne=!1,ie=!1,oe=q.FullPaths.length-1;oe>=0;--oe){var ue=q.FileIndex[oe];switch(ue.type){case 0:ie?ne=!0:(q.FileIndex.pop(),q.FullPaths.pop());break;case 1:case 2:case 5:ie=!0,isNaN(ue.R*ue.L*ue.C)&&(ne=!0),ue.R>-1&&ue.L>-1&&ue.R==ue.L&&(ne=!0);break;default:ne=!0;break}}if(!(!ne&&!le)){var be=new Date(1987,1,19),Fe=0,Ne=Object.create?Object.create(null):{},Ce=[];for(oe=0;oe<q.FullPaths.length;++oe)Ne[q.FullPaths[oe]]=!0,q.FileIndex[oe].type!==0&&Ce.push([q.FullPaths[oe],q.FileIndex[oe]]);for(oe=0;oe<Ce.length;++oe){var Le=n(Ce[oe][0]);ie=Ne[Le],ie||(Ce.push([Le,{name:i(Le).replace("/",""),type:1,clsid:se,ct:be,mt:be,content:null}]),Ne[Le]=!0)}for(Ce.sort(function(dt,Ze){return r(dt[0],Ze[0])}),q.FullPaths=[],q.FileIndex=[],oe=0;oe<Ce.length;++oe)q.FullPaths[oe]=Ce[oe][0],q.FileIndex[oe]=Ce[oe][1];for(oe=0;oe<Ce.length;++oe){var Ke=q.FileIndex[oe],nt=q.FullPaths[oe];if(Ke.name=i(nt).replace("/",""),Ke.L=Ke.R=Ke.C=-(Ke.color=1),Ke.size=Ke.content?Ke.content.length:0,Ke.start=0,Ke.clsid=Ke.clsid||se,oe===0)Ke.C=Ce.length>1?1:-1,Ke.size=0,Ke.type=5;else if(nt.slice(-1)=="/"){for(Fe=oe+1;Fe<Ce.length&&n(q.FullPaths[Fe])!=nt;++Fe);for(Ke.C=Fe>=Ce.length?-1:Fe,Fe=oe+1;Fe<Ce.length&&n(q.FullPaths[Fe])!=n(nt);++Fe);Ke.R=Fe>=Ce.length?-1:Fe,Ke.type=1}else n(q.FullPaths[oe+1]||"")==n(nt)&&(Ke.R=oe+1),Ke.type=2}}}function F(q,le){var ne=le||{};if(ne.fileType=="mad")return vt(q,ne);switch(I(q),ne.fileType){case"zip":return wi(q,ne)}var ie=function(dt){for(var Ze=0,ut=0,kt=0;kt<dt.FileIndex.length;++kt){var Zt=dt.FileIndex[kt];if(Zt.content){var er=Zt.content.length;er>0&&(er<4096?Ze+=er+63>>6:ut+=er+511>>9)}}for(var Ar=dt.FullPaths.length+3>>2,Ei=Ze+7>>3,Vs=Ze+127>>7,es=Ei+ut+Ar+Vs,Mi=es+127>>7,ts=Mi<=109?0:Math.ceil((Mi-109)/127);es+Mi+ts+127>>7>Mi;)ts=++Mi<=109?0:Math.ceil((Mi-109)/127);var Un=[1,ts,Mi,Vs,Ar,ut,Ze,0];return dt.FileIndex[0].size=Ze<<6,Un[7]=(dt.FileIndex[0].start=Un[0]+Un[1]+Un[2]+Un[3]+Un[4]+Un[5])+(Un[6]+7>>3),Un}(q),oe=je(ie[7]<<9),ue=0,be=0;{for(ue=0;ue<8;++ue)oe.write_shift(1,de[ue]);for(ue=0;ue<8;++ue)oe.write_shift(2,0);for(oe.write_shift(2,62),oe.write_shift(2,3),oe.write_shift(2,65534),oe.write_shift(2,9),oe.write_shift(2,6),ue=0;ue<3;++ue)oe.write_shift(2,0);for(oe.write_shift(4,0),oe.write_shift(4,ie[2]),oe.write_shift(4,ie[0]+ie[1]+ie[2]+ie[3]-1),oe.write_shift(4,0),oe.write_shift(4,4096),oe.write_shift(4,ie[3]?ie[0]+ie[1]+ie[2]-1:D),oe.write_shift(4,ie[3]),oe.write_shift(-4,ie[1]?ie[0]-1:D),oe.write_shift(4,ie[1]),ue=0;ue<109;++ue)oe.write_shift(-4,ue<ie[2]?ie[1]+ue:-1)}if(ie[1])for(be=0;be<ie[1];++be){for(;ue<236+be*127;++ue)oe.write_shift(-4,ue<ie[2]?ie[1]+ue:-1);oe.write_shift(-4,be===ie[1]-1?D:be+1)}var Fe=function(dt){for(be+=dt;ue<be-1;++ue)oe.write_shift(-4,ue+1);dt&&(++ue,oe.write_shift(-4,D))};for(be=ue=0,be+=ie[1];ue<be;++ue)oe.write_shift(-4,re.DIFSECT);for(be+=ie[2];ue<be;++ue)oe.write_shift(-4,re.FATSECT);Fe(ie[3]),Fe(ie[4]);for(var Ne=0,Ce=0,Le=q.FileIndex[0];Ne<q.FileIndex.length;++Ne)Le=q.FileIndex[Ne],Le.content&&(Ce=Le.content.length,!(Ce<4096)&&(Le.start=be,Fe(Ce+511>>9)));for(Fe(ie[6]+7>>3);oe.l&511;)oe.write_shift(-4,re.ENDOFCHAIN);for(be=ue=0,Ne=0;Ne<q.FileIndex.length;++Ne)Le=q.FileIndex[Ne],Le.content&&(Ce=Le.content.length,!(!Ce||Ce>=4096)&&(Le.start=be,Fe(Ce+63>>6)));for(;oe.l&511;)oe.write_shift(-4,re.ENDOFCHAIN);for(ue=0;ue<ie[4]<<2;++ue){var Ke=q.FullPaths[ue];if(!Ke||Ke.length===0){for(Ne=0;Ne<17;++Ne)oe.write_shift(4,0);for(Ne=0;Ne<3;++Ne)oe.write_shift(4,-1);for(Ne=0;Ne<12;++Ne)oe.write_shift(4,0);continue}Le=q.FileIndex[ue],ue===0&&(Le.start=Le.size?Le.start-1:D);var nt=ue===0&&ne.root||Le.name;if(Ce=2*(nt.length+1),oe.write_shift(64,nt,"utf16le"),oe.write_shift(2,Ce),oe.write_shift(1,Le.type),oe.write_shift(1,Le.color),oe.write_shift(-4,Le.L),oe.write_shift(-4,Le.R),oe.write_shift(-4,Le.C),Le.clsid)oe.write_shift(16,Le.clsid,"hex");else for(Ne=0;Ne<4;++Ne)oe.write_shift(4,0);oe.write_shift(4,Le.state||0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,0),oe.write_shift(4,Le.start),oe.write_shift(4,Le.size),oe.write_shift(4,0)}for(ue=1;ue<q.FileIndex.length;++ue)if(Le=q.FileIndex[ue],Le.size>=4096)if(oe.l=Le.start+1<<9,ur&&Buffer.isBuffer(Le.content))Le.content.copy(oe,oe.l,0,Le.size),oe.l+=Le.size+511&-512;else{for(Ne=0;Ne<Le.size;++Ne)oe.write_shift(1,Le.content[Ne]);for(;Ne&511;++Ne)oe.write_shift(1,0)}for(ue=1;ue<q.FileIndex.length;++ue)if(Le=q.FileIndex[ue],Le.size>0&&Le.size<4096)if(ur&&Buffer.isBuffer(Le.content))Le.content.copy(oe,oe.l,0,Le.size),oe.l+=Le.size+63&-64;else{for(Ne=0;Ne<Le.size;++Ne)oe.write_shift(1,Le.content[Ne]);for(;Ne&63;++Ne)oe.write_shift(1,0)}if(ur)oe.l=oe.length;else for(;oe.l<oe.length;)oe.write_shift(1,0);return oe}function N(q,le){var ne=q.FullPaths.map(function(Ne){return Ne.toUpperCase()}),ie=ne.map(function(Ne){var Ce=Ne.split("/");return Ce[Ce.length-(Ne.slice(-1)=="/"?2:1)]}),oe=!1;le.charCodeAt(0)===47?(oe=!0,le=ne[0].slice(0,-1)+le):oe=le.indexOf("/")!==-1;var ue=le.toUpperCase(),be=oe===!0?ne.indexOf(ue):ie.indexOf(ue);if(be!==-1)return q.FileIndex[be];var Fe=!ue.match(Dd);for(ue=ue.replace(Nh,""),Fe&&(ue=ue.replace(Dd,"!")),be=0;be<ne.length;++be)if((Fe?ne[be].replace(Dd,"!"):ne[be]).replace(Nh,"")==ue||(Fe?ie[be].replace(Dd,"!"):ie[be]).replace(Nh,"")==ue)return q.FileIndex[be];return null}var b=64,D=-2,Z="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],se="00000000000000000000000000000000",re={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:D,FREESECT:-1,HEADER_SIGNATURE:Z,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:se,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function X(q,le,ne){u();var ie=F(q,ne);l.writeFileSync(le,ie)}function ee(q){for(var le=new Array(q.length),ne=0;ne<q.length;++ne)le[ne]=String.fromCharCode(q[ne]);return le.join("")}function he(q,le){var ne=F(q,le);switch(le&&le.type||"buffer"){case"file":return u(),l.writeFileSync(le.filename,ne),ne;case"binary":return typeof ne=="string"?ne:ee(ne);case"base64":return c0(typeof ne=="string"?ne:ee(ne));case"buffer":if(ur)return Buffer.isBuffer(ne)?ne:wo(ne);case"array":return typeof ne=="string"?sa(ne):ne}return ne}var we;function P(q){try{var le=q.InflateRaw,ne=new le;if(ne._processChunk(new Uint8Array([3,0]),ne._finishFlushFlag),ne.bytesRead)we=q;else throw new Error("zlib does not expose bytesRead")}catch(ie){console.error("cannot use native zlib: "+(ie.message||ie))}}function B(q,le){if(!we)return Gt(q,le);var ne=we.InflateRaw,ie=new ne,oe=ie._processChunk(q.slice(q.l),ie._finishFlushFlag);return q.l+=ie.bytesRead,oe}function V(q){return we?we.deflateRawSync(q):Ut(q)}var U=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Y=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function me(q){var le=(q<<1|q<<11)&139536|(q<<5|q<<15)&558144;return(le>>16|le>>8|le)&255}for(var ge=typeof Uint8Array<"u",Te=ge?new Uint8Array(256):[],Me=0;Me<256;++Me)Te[Me]=me(Me);function Ve(q,le){var ne=Te[q&255];return le<=8?ne>>>8-le:(ne=ne<<8|Te[q>>8&255],le<=16?ne>>>16-le:(ne=ne<<8|Te[q>>16&255],ne>>>24-le))}function Je(q,le){var ne=le&7,ie=le>>>3;return(q[ie]|(ne<=6?0:q[ie+1]<<8))>>>ne&3}function st(q,le){var ne=le&7,ie=le>>>3;return(q[ie]|(ne<=5?0:q[ie+1]<<8))>>>ne&7}function Re(q,le){var ne=le&7,ie=le>>>3;return(q[ie]|(ne<=4?0:q[ie+1]<<8))>>>ne&15}function fe(q,le){var ne=le&7,ie=le>>>3;return(q[ie]|(ne<=3?0:q[ie+1]<<8))>>>ne&31}function He(q,le){var ne=le&7,ie=le>>>3;return(q[ie]|(ne<=1?0:q[ie+1]<<8))>>>ne&127}function mt(q,le,ne){var ie=le&7,oe=le>>>3,ue=(1<<ne)-1,be=q[oe]>>>ie;return ne<8-ie||(be|=q[oe+1]<<8-ie,ne<16-ie)||(be|=q[oe+2]<<16-ie,ne<24-ie)||(be|=q[oe+3]<<24-ie),be&ue}function Ge(q,le,ne){var ie=le&7,oe=le>>>3;return ie<=5?q[oe]|=(ne&7)<<ie:(q[oe]|=ne<<ie&255,q[oe+1]=(ne&7)>>8-ie),le+3}function tt(q,le,ne){var ie=le&7,oe=le>>>3;return ne=(ne&1)<<ie,q[oe]|=ne,le+1}function ot(q,le,ne){var ie=le&7,oe=le>>>3;return ne<<=ie,q[oe]|=ne&255,ne>>>=8,q[oe+1]=ne,le+8}function lt(q,le,ne){var ie=le&7,oe=le>>>3;return ne<<=ie,q[oe]|=ne&255,ne>>>=8,q[oe+1]=ne&255,q[oe+2]=ne>>>8,le+16}function wt(q,le){var ne=q.length,ie=2*ne>le?2*ne:le+5,oe=0;if(ne>=le)return q;if(ur){var ue=J_(ie);if(q.copy)q.copy(ue);else for(;oe<q.length;++oe)ue[oe]=q[oe];return ue}else if(ge){var be=new Uint8Array(ie);if(be.set)be.set(q);else for(;oe<ne;++oe)be[oe]=q[oe];return be}return q.length=ie,q}function Et(q){for(var le=new Array(q),ne=0;ne<q;++ne)le[ne]=0;return le}function Lt(q,le,ne){var ie=1,oe=0,ue=0,be=0,Fe=0,Ne=q.length,Ce=ge?new Uint16Array(32):Et(32);for(ue=0;ue<32;++ue)Ce[ue]=0;for(ue=Ne;ue<ne;++ue)q[ue]=0;Ne=q.length;var Le=ge?new Uint16Array(Ne):Et(Ne);for(ue=0;ue<Ne;++ue)Ce[oe=q[ue]]++,ie<oe&&(ie=oe),Le[ue]=0;for(Ce[0]=0,ue=1;ue<=ie;++ue)Ce[ue+16]=Fe=Fe+Ce[ue-1]<<1;for(ue=0;ue<Ne;++ue)Fe=q[ue],Fe!=0&&(Le[ue]=Ce[Fe+16]++);var Ke=0;for(ue=0;ue<Ne;++ue)if(Ke=q[ue],Ke!=0)for(Fe=Ve(Le[ue],ie)>>ie-Ke,be=(1<<ie+4-Ke)-1;be>=0;--be)le[Fe|be<<Ke]=Ke&15|ue<<4;return ie}var At=ge?new Uint16Array(512):Et(512),Nt=ge?new Uint16Array(32):Et(32);if(!ge){for(var Ht=0;Ht<512;++Ht)At[Ht]=0;for(Ht=0;Ht<32;++Ht)Nt[Ht]=0}(function(){for(var q=[],le=0;le<32;le++)q.push(5);Lt(q,Nt,32);var ne=[];for(le=0;le<=143;le++)ne.push(8);for(;le<=255;le++)ne.push(9);for(;le<=279;le++)ne.push(7);for(;le<=287;le++)ne.push(8);Lt(ne,At,288)})();var It=function(){for(var le=ge?new Uint8Array(32768):[],ne=0,ie=0;ne<pe.length-1;++ne)for(;ie<pe[ne+1];++ie)le[ie]=ne;for(;ie<32768;++ie)le[ie]=29;var oe=ge?new Uint8Array(259):[];for(ne=0,ie=0;ne<Y.length-1;++ne)for(;ie<Y[ne+1];++ie)oe[ie]=ne;function ue(Fe,Ne){for(var Ce=0;Ce<Fe.length;){var Le=Math.min(65535,Fe.length-Ce),Ke=Ce+Le==Fe.length;for(Ne.write_shift(1,+Ke),Ne.write_shift(2,Le),Ne.write_shift(2,~Le&65535);Le-- >0;)Ne[Ne.l++]=Fe[Ce++]}return Ne.l}function be(Fe,Ne){for(var Ce=0,Le=0,Ke=ge?new Uint16Array(32768):[];Le<Fe.length;){var nt=Math.min(65535,Fe.length-Le);if(nt<10){for(Ce=Ge(Ne,Ce,+(Le+nt==Fe.length)),Ce&7&&(Ce+=8-(Ce&7)),Ne.l=Ce/8|0,Ne.write_shift(2,nt),Ne.write_shift(2,~nt&65535);nt-- >0;)Ne[Ne.l++]=Fe[Le++];Ce=Ne.l*8;continue}Ce=Ge(Ne,Ce,+(Le+nt==Fe.length)+2);for(var dt=0;nt-- >0;){var Ze=Fe[Le];dt=(dt<<5^Ze)&32767;var ut=-1,kt=0;if((ut=Ke[dt])&&(ut|=Le&-32768,ut>Le&&(ut-=32768),ut<Le))for(;Fe[ut+kt]==Fe[Le+kt]&&kt<250;)++kt;if(kt>2){Ze=oe[kt],Ze<=22?Ce=ot(Ne,Ce,Te[Ze+1]>>1)-1:(ot(Ne,Ce,3),Ce+=5,ot(Ne,Ce,Te[Ze-23]>>5),Ce+=3);var Zt=Ze<8?0:Ze-4>>2;Zt>0&&(lt(Ne,Ce,kt-Y[Ze]),Ce+=Zt),Ze=le[Le-ut],Ce=ot(Ne,Ce,Te[Ze]>>3),Ce-=3;var er=Ze<4?0:Ze-2>>1;er>0&&(lt(Ne,Ce,Le-ut-pe[Ze]),Ce+=er);for(var Ar=0;Ar<kt;++Ar)Ke[dt]=Le&32767,dt=(dt<<5^Fe[Le])&32767,++Le;nt-=kt-1}else Ze<=143?Ze=Ze+48:Ce=tt(Ne,Ce,1),Ce=ot(Ne,Ce,Te[Ze]),Ke[dt]=Le&32767,++Le}Ce=ot(Ne,Ce,0)-1}return Ne.l=(Ce+7)/8|0,Ne.l}return function(Ne,Ce){return Ne.length<8?ue(Ne,Ce):be(Ne,Ce)}}();function Ut(q){var le=je(50+Math.floor(q.length*1.1)),ne=It(q,le);return le.slice(0,ne)}var ht=ge?new Uint16Array(32768):Et(32768),Fr=ge?new Uint16Array(32768):Et(32768),qt=ge?new Uint16Array(128):Et(128),Vn=1,Jt=1;function Sr(q,le){var ne=fe(q,le)+257;le+=5;var ie=fe(q,le)+1;le+=5;var oe=Re(q,le)+4;le+=4;for(var ue=0,be=ge?new Uint8Array(19):Et(19),Fe=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],Ne=1,Ce=ge?new Uint8Array(8):Et(8),Le=ge?new Uint8Array(8):Et(8),Ke=be.length,nt=0;nt<oe;++nt)be[U[nt]]=ue=st(q,le),Ne<ue&&(Ne=ue),Ce[ue]++,le+=3;var dt=0;for(Ce[0]=0,nt=1;nt<=Ne;++nt)Le[nt]=dt=dt+Ce[nt-1]<<1;for(nt=0;nt<Ke;++nt)(dt=be[nt])!=0&&(Fe[nt]=Le[dt]++);var Ze=0;for(nt=0;nt<Ke;++nt)if(Ze=be[nt],Ze!=0){dt=Te[Fe[nt]]>>8-Ze;for(var ut=(1<<7-Ze)-1;ut>=0;--ut)qt[dt|ut<<Ze]=Ze&7|nt<<3}var kt=[];for(Ne=1;kt.length<ne+ie;)switch(dt=qt[He(q,le)],le+=dt&7,dt>>>=3){case 16:for(ue=3+Je(q,le),le+=2,dt=kt[kt.length-1];ue-- >0;)kt.push(dt);break;case 17:for(ue=3+st(q,le),le+=3;ue-- >0;)kt.push(0);break;case 18:for(ue=11+He(q,le),le+=7;ue-- >0;)kt.push(0);break;default:kt.push(dt),Ne<dt&&(Ne=dt);break}var Zt=kt.slice(0,ne),er=kt.slice(ne);for(nt=ne;nt<286;++nt)Zt[nt]=0;for(nt=ie;nt<30;++nt)er[nt]=0;return Vn=Lt(Zt,ht,286),Jt=Lt(er,Fr,30),le}function Di(q,le){if(q[0]==3&&!(q[1]&3))return[Pu(le),2];for(var ne=0,ie=0,oe=J_(le||1<<18),ue=0,be=oe.length>>>0,Fe=0,Ne=0;!(ie&1);){if(ie=st(q,ne),ne+=3,ie>>>1)ie>>1==1?(Fe=9,Ne=5):(ne=Sr(q,ne),Fe=Vn,Ne=Jt);else{ne&7&&(ne+=8-(ne&7));var Ce=q[ne>>>3]|q[(ne>>>3)+1]<<8;if(ne+=32,Ce>0)for(!le&&be<ue+Ce&&(oe=wt(oe,ue+Ce),be=oe.length);Ce-- >0;)oe[ue++]=q[ne>>>3],ne+=8;continue}for(;;){!le&&be<ue+32767&&(oe=wt(oe,ue+32767),be=oe.length);var Le=mt(q,ne,Fe),Ke=ie>>>1==1?At[Le]:ht[Le];if(ne+=Ke&15,Ke>>>=4,!(Ke>>>8&255))oe[ue++]=Ke;else{if(Ke==256)break;Ke-=257;var nt=Ke<8?0:Ke-4>>2;nt>5&&(nt=0);var dt=ue+Y[Ke];nt>0&&(dt+=mt(q,ne,nt),ne+=nt),Le=mt(q,ne,Ne),Ke=ie>>>1==1?Nt[Le]:Fr[Le],ne+=Ke&15,Ke>>>=4;var Ze=Ke<4?0:Ke-2>>1,ut=pe[Ke];for(Ze>0&&(ut+=mt(q,ne,Ze),ne+=Ze),!le&&be<dt&&(oe=wt(oe,dt+100),be=oe.length);ue<dt;)oe[ue]=oe[ue-ut],++ue}}}return le?[oe,ne+7>>>3]:[oe.slice(0,ue),ne+7>>>3]}function Gt(q,le){var ne=q.slice(q.l||0),ie=Di(ne,le);return q.l+=ie[1],ie[0]}function Zi(q,le){if(q)typeof console<"u"&&console.error(le);else throw new Error(le)}function Er(q,le){var ne=q;cs(ne,0);var ie=[],oe=[],ue={FileIndex:ie,FullPaths:oe};w(ue,{root:le.root});for(var be=ne.length-4;(ne[be]!=80||ne[be+1]!=75||ne[be+2]!=5||ne[be+3]!=6)&&be>=0;)--be;ne.l=be+4,ne.l+=4;var Fe=ne.read_shift(2);ne.l+=6;var Ne=ne.read_shift(4);for(ne.l=Ne,be=0;be<Fe;++be){ne.l+=20;var Ce=ne.read_shift(4),Le=ne.read_shift(4),Ke=ne.read_shift(2),nt=ne.read_shift(2),dt=ne.read_shift(2);ne.l+=8;var Ze=ne.read_shift(4),ut=o(ne.slice(ne.l+Ke,ne.l+Ke+nt));ne.l+=Ke+nt+dt;var kt=ne.l;ne.l=Ze+4,Sn(ne,Ce,Le,ue,ut),ne.l=kt}return ue}function Sn(q,le,ne,ie,oe){q.l+=2;var ue=q.read_shift(2),be=q.read_shift(2),Fe=a(q);if(ue&8257)throw new Error("Unsupported ZIP encryption");for(var Ne=q.read_shift(4),Ce=q.read_shift(4),Le=q.read_shift(4),Ke=q.read_shift(2),nt=q.read_shift(2),dt="",Ze=0;Ze<Ke;++Ze)dt+=String.fromCharCode(q[q.l++]);if(nt){var ut=o(q.slice(q.l,q.l+nt));(ut[21589]||{}).mt&&(Fe=ut[21589].mt),((oe||{})[21589]||{}).mt&&(Fe=oe[21589].mt)}q.l+=nt;var kt=q.slice(q.l,q.l+Ce);switch(be){case 8:kt=B(q,Le);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+be)}var Zt=!1;ue&8&&(Ne=q.read_shift(4),Ne==134695760&&(Ne=q.read_shift(4),Zt=!0),Ce=q.read_shift(4),Le=q.read_shift(4)),Ce!=le&&Zi(Zt,"Bad compressed size: "+le+" != "+Ce),Le!=ne&&Zi(Zt,"Bad uncompressed size: "+ne+" != "+Le),fn(ie,dt,kt,{unsafe:!0,mt:Fe})}function wi(q,le){var ne=le||{},ie=[],oe=[],ue=je(1),be=ne.compression?8:0,Fe=0,Ne=0,Ce=0,Le=0,Ke=0,nt=q.FullPaths[0],dt=nt,Ze=q.FileIndex[0],ut=[],kt=0;for(Ne=1;Ne<q.FullPaths.length;++Ne)if(dt=q.FullPaths[Ne].slice(nt.length),Ze=q.FileIndex[Ne],!(!Ze.size||!Ze.content||dt=="Sh33tJ5")){var Zt=Le,er=je(dt.length);for(Ce=0;Ce<dt.length;++Ce)er.write_shift(1,dt.charCodeAt(Ce)&127);er=er.slice(0,er.l),ut[Ke]=RF.buf(Ze.content,0);var Ar=Ze.content;be==8&&(Ar=V(Ar)),ue=je(30),ue.write_shift(4,67324752),ue.write_shift(2,20),ue.write_shift(2,Fe),ue.write_shift(2,be),Ze.mt?s(ue,Ze.mt):ue.write_shift(4,0),ue.write_shift(-4,ut[Ke]),ue.write_shift(4,Ar.length),ue.write_shift(4,Ze.content.length),ue.write_shift(2,er.length),ue.write_shift(2,0),Le+=ue.length,ie.push(ue),Le+=er.length,ie.push(er),Le+=Ar.length,ie.push(Ar),ue=je(46),ue.write_shift(4,33639248),ue.write_shift(2,0),ue.write_shift(2,20),ue.write_shift(2,Fe),ue.write_shift(2,be),ue.write_shift(4,0),ue.write_shift(-4,ut[Ke]),ue.write_shift(4,Ar.length),ue.write_shift(4,Ze.content.length),ue.write_shift(2,er.length),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(4,0),ue.write_shift(4,Zt),kt+=ue.l,oe.push(ue),kt+=er.length,oe.push(er),++Ke}return ue=je(22),ue.write_shift(4,101010256),ue.write_shift(2,0),ue.write_shift(2,0),ue.write_shift(2,Ke),ue.write_shift(2,Ke),ue.write_shift(4,kt),ue.write_shift(4,Le),ue.write_shift(2,0),Qn([Qn(ie),Qn(oe),ue])}var or={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Tt(q,le){if(q.ctype)return q.ctype;var ne=q.name||"",ie=ne.match(/\.([^\.]+)$/);return ie&&or[ie[1]]||le&&(ie=(ne=le).match(/[\.\\]([^\.\\])+$/),ie&&or[ie[1]])?or[ie[1]]:"application/octet-stream"}function Qt(q){for(var le=c0(q),ne=[],ie=0;ie<le.length;ie+=76)ne.push(le.slice(ie,ie+76));return ne.join(`\r
`)+`\r
`}function Oi(q){var le=q.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Ce){var Le=Ce.charCodeAt(0).toString(16).toUpperCase();return"="+(Le.length==1?"0"+Le:Le)});le=le.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),le.charAt(0)==`
`&&(le="=0D"+le.slice(1)),le=le.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ne=[],ie=le.split(`\r
`),oe=0;oe<ie.length;++oe){var ue=ie[oe];if(ue.length==0){ne.push("");continue}for(var be=0;be<ue.length;){var Fe=76,Ne=ue.slice(be,be+Fe);Ne.charAt(Fe-1)=="="?Fe--:Ne.charAt(Fe-2)=="="?Fe-=2:Ne.charAt(Fe-3)=="="&&(Fe-=3),Ne=ue.slice(be,be+Fe),be+=Fe,be<ue.length&&(Ne+="="),ne.push(Ne)}}return ne.join(`\r
`)}function Xr(q){for(var le=[],ne=0;ne<q.length;++ne){for(var ie=q[ne];ne<=q.length&&ie.charAt(ie.length-1)=="=";)ie=ie.slice(0,ie.length-1)+q[++ne];le.push(ie)}for(var oe=0;oe<le.length;++oe)le[oe]=le[oe].replace(/[=][0-9A-Fa-f]{2}/g,function(ue){return String.fromCharCode(parseInt(ue.slice(1),16))});return sa(le.join(`\r
`))}function kn(q,le,ne){for(var ie="",oe="",ue="",be,Fe=0;Fe<10;++Fe){var Ne=le[Fe];if(!Ne||Ne.match(/^\s*$/))break;var Ce=Ne.match(/^(.*?):\s*([^\s].*)$/);if(Ce)switch(Ce[1].toLowerCase()){case"content-location":ie=Ce[2].trim();break;case"content-type":ue=Ce[2].trim();break;case"content-transfer-encoding":oe=Ce[2].trim();break}}switch(++Fe,oe.toLowerCase()){case"base64":be=sa(yo(le.slice(Fe).join("")));break;case"quoted-printable":be=Xr(le.slice(Fe));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+oe)}var Le=fn(q,ie.slice(ne.length),be,{unsafe:!0});ue&&(Le.ctype=ue)}function Si(q,le){if(ee(q.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ne=le&&le.root||"",ie=(ur&&Buffer.isBuffer(q)?q.toString("binary"):ee(q)).split(`\r
`),oe=0,ue="";for(oe=0;oe<ie.length;++oe)if(ue=ie[oe],!!/^Content-Location:/i.test(ue)&&(ue=ue.slice(ue.indexOf("file")),ne||(ne=ue.slice(0,ue.lastIndexOf("/")+1)),ue.slice(0,ne.length)!=ne))for(;ne.length>0&&(ne=ne.slice(0,ne.length-1),ne=ne.slice(0,ne.lastIndexOf("/")+1),ue.slice(0,ne.length)!=ne););var be=(ie[1]||"").match(/boundary="(.*?)"/);if(!be)throw new Error("MAD cannot find boundary");var Fe="--"+(be[1]||""),Ne=[],Ce=[],Le={FileIndex:Ne,FullPaths:Ce};w(Le);var Ke,nt=0;for(oe=0;oe<ie.length;++oe){var dt=ie[oe];dt!==Fe&&dt!==Fe+"--"||(nt++&&kn(Le,ie.slice(Ke,oe),ne),Ke=oe)}return Le}function vt(q,le){var ne=le||{},ie=ne.boundary||"SheetJS";ie="------="+ie;for(var oe=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ie.slice(2)+'"',"","",""],ue=q.FullPaths[0],be=ue,Fe=q.FileIndex[0],Ne=1;Ne<q.FullPaths.length;++Ne)if(be=q.FullPaths[Ne].slice(ue.length),Fe=q.FileIndex[Ne],!(!Fe.size||!Fe.content||be=="Sh33tJ5")){be=be.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(kt){return"_x"+kt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(kt){return"_u"+kt.charCodeAt(0).toString(16)+"_"});for(var Ce=Fe.content,Le=ur&&Buffer.isBuffer(Ce)?Ce.toString("binary"):ee(Ce),Ke=0,nt=Math.min(1024,Le.length),dt=0,Ze=0;Ze<=nt;++Ze)(dt=Le.charCodeAt(Ze))>=32&&dt<128&&++Ke;var ut=Ke>=nt*4/5;oe.push(ie),oe.push("Content-Location: "+(ne.root||"file:///C:/SheetJS/")+be),oe.push("Content-Transfer-Encoding: "+(ut?"quoted-printable":"base64")),oe.push("Content-Type: "+Tt(Fe,be)),oe.push(""),oe.push(ut?Oi(Le):Qt(Le))}return oe.push(ie+`--\r
`),oe.join(`\r
`)}function si(q){var le={};return w(le,q),le}function fn(q,le,ne,ie){var oe=ie&&ie.unsafe;oe||w(q);var ue=!oe&&br.find(q,le);if(!ue){var be=q.FullPaths[0];le.slice(0,be.length)==be?be=le:(be.slice(-1)!="/"&&(be+="/"),be=(be+le).replace("//","/")),ue={name:i(le),type:2},q.FileIndex.push(ue),q.FullPaths.push(be),oe||br.utils.cfb_gc(q)}return ue.content=ne,ue.size=ne?ne.length:0,ie&&(ie.CLSID&&(ue.clsid=ie.CLSID),ie.mt&&(ue.mt=ie.mt),ie.ct&&(ue.ct=ie.ct)),ue}function Yr(q,le){w(q);var ne=br.find(q,le);if(ne){for(var ie=0;ie<q.FileIndex.length;++ie)if(q.FileIndex[ie]==ne)return q.FileIndex.splice(ie,1),q.FullPaths.splice(ie,1),!0}return!1}function Wr(q,le,ne){w(q);var ie=br.find(q,le);if(ie){for(var oe=0;oe<q.FileIndex.length;++oe)if(q.FileIndex[oe]==ie)return q.FileIndex[oe].name=i(ne),q.FullPaths[oe]=ne,!0}return!1}function zr(q){I(q,!0)}return e.find=N,e.read=z,e.parse=c,e.write=he,e.writeFile=X,e.utils={cfb_new:si,cfb_add:fn,cfb_del:Yr,cfb_mov:Wr,cfb_gc:zr,ReadShift:Ih,CheckField:NA,prep_blob:cs,bconcat:Qn,use_zlib:P,_deflateRaw:Ut,_inflateRaw:Gt,consts:re},e}();function DF(t){return typeof t=="string"?V1(t):Array.isArray(t)?oF(t):t}function k0(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=V1(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?h0(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([DF(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=P0(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function ii(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function aw(t,e){for(var r=[],n=ii(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function N5(t){for(var e=[],r=ii(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function H1(t){for(var e=[],r=ii(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function OF(t){for(var e=[],r=ii(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var Jp=new Date(1899,11,30,0,0,0);function Yi(t,e){var r=t.getTime(),n=Jp.getTime()+(t.getTimezoneOffset()-Jp.getTimezoneOffset())*6e4;return(r-n)/(24*60*60*1e3)}var cA=new Date,MF=Jp.getTime()+(cA.getTimezoneOffset()-Jp.getTimezoneOffset())*6e4,ow=cA.getTimezoneOffset();function fA(t){var e=new Date;return e.setTime(t*24*60*60*1e3+MF),e.getTimezoneOffset()!==ow&&e.setTime(e.getTime()+(e.getTimezoneOffset()-ow)*6e4),e}var lw=new Date("2017-02-19T19:06:09.000Z"),hA=isNaN(lw.getFullYear())?new Date("2/19/17"):lw,jF=hA.getFullYear()==2017;function Li(t,e){var r=new Date(t);if(jF)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(hA.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function W1(t,e){if(ur&&Buffer.isBuffer(t))return t.toString("binary");if(typeof TextDecoder<"u")try{var r={"€":"","‚":"",ƒ:"","„":"","…":"","†":"","‡":"","ˆ":"","‰":"",Š:"","‹":"",Œ:"",Ž:"","‘":"","’":"","“":"","”":"","•":"","–":"","—":"","˜":"","™":"",š:"","›":"",œ:"",ž:"",Ÿ:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[€‚ƒ„…†‡ˆ‰Š‹ŒŽ‘’“”•–—˜™š›œžŸ]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Qi(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Qi(t[r]));return e}function tn(t,e){for(var r="";r.length<e;)r+=t;return r}function oo(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var BF=["january","february","march","april","may","june","july","august","september","october","november","december"];function f0(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&BF.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}function Wt(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return ur?n=wo(r):n=lF(r),br.utils.cfb_add(t,e,n)}br.utils.cfb_add(t,e,r)}else t.file(e,r)}function C5(){return br.utils.cfb_new()}var wn=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,VF={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},I5=N5(VF),P5=/[&<>'"]/g,UF=/[\u0000-\u0008\u000b-\u001f]/g;function yr(t){var e=t+"";return e.replace(P5,function(r){return I5[r]}).replace(UF,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function uw(t){return yr(t).replace(/ /g,"_x0020_")}var dA=/[\u0000-\u001f]/g;function zF(t){var e=t+"";return e.replace(P5,function(r){return I5[r]}).replace(/\n/g,"<br/>").replace(dA,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function HF(t){var e=t+"";return e.replace(P5,function(r){return I5[r]}).replace(dA,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}function WF(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function qF(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function sg(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function cw(t){var e=Pu(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function fw(t){return wo(t,"binary").toString("utf8")}var Md="foo bar bazâð£",Ch=ur&&(fw(Md)==sg(Md)&&fw||cw(Md)==sg(Md)&&cw)||sg,h0=ur?function(t){return wo(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},GF=function(){var t=[["nbsp"," "],["middot","·"],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}}(),pA=/(^\s|\s$|\n)/;function Jn(t,e){return"<"+t+(e.match(pA)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function d0(t){return ii(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function it(t,e,r){return"<"+t+(r!=null?d0(r):"")+(e!=null?(e.match(pA)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function V2(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function $F(t,e){switch(typeof t){case"string":var r=it("vt:lpwstr",yr(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return it((t|0)==t?"vt:i4":"vt:r8",yr(String(t)));case"boolean":return it("vt:bool",t?"true":"false")}if(t instanceof Date)return it("vt:filetime",V2(t));throw new Error("Unable to serialize "+t)}var On={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Sf=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],fs={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function KF(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function XF(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var hw=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},dw=ur?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:wo(e)})):hw(t)}:hw,pw=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(lh(t,i)));return n.join("").replace(Nh,"")},k5=ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Nh,""):pw(t,e,r)}:pw,mw=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},mA=ur?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):mw(t,e,r)}:mw,gw=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Ec(t,i)));return n.join("")},L0=ur?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):gw(e,r,n)}:gw,gA=function(t,e){var r=hs(t,e);return r>0?L0(t,e+4,e+4+r-1):""},vA=gA,yA=function(t,e){var r=hs(t,e);return r>0?L0(t,e+4,e+4+r-1):""},xA=yA,_A=function(t,e){var r=2*hs(t,e);return r>0?L0(t,e+4,e+4+r-1):""},wA=_A,SA=function(e,r){var n=hs(e,r);return n>0?k5(e,r+4,r+4+n):""},EA=SA,AA=function(t,e){var r=hs(t,e);return r>0?L0(t,e+4,e+4+r):""},TA=AA,bA=function(t,e){return KF(t,e)},Zp=bA,L5=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};ur&&(vA=function(e,r){if(!Buffer.isBuffer(e))return gA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},xA=function(e,r){if(!Buffer.isBuffer(e))return yA(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},wA=function(e,r){if(!Buffer.isBuffer(e))return _A(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},EA=function(e,r){if(!Buffer.isBuffer(e))return SA(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},TA=function(e,r){if(!Buffer.isBuffer(e))return AA(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},Zp=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):bA(e,r)},L5=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Ec=function(t,e){return t[e]},lh=function(t,e){return t[e+1]*256+t[e]},YF=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},hs=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},ou=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},QF=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function Ih(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,ur&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(lh(this,u)),u+=2;t*=2;break;case"utf8":r=L0(this,this.l,this.l+t);break;case"utf16le":t*=2,r=k5(this,this.l,this.l+t);break;case"wstr":return Ih.call(this,t,"dbcs");case"lpstr-ansi":r=vA(this,this.l),t=4+hs(this,this.l);break;case"lpstr-cp":r=xA(this,this.l),t=4+hs(this,this.l);break;case"lpwstr":r=wA(this,this.l),t=4+2*hs(this,this.l);break;case"lpp4":t=4+hs(this,this.l),r=EA(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+hs(this,this.l),r=TA(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Ec(this,this.l+t++))!==0;)s.push(Rd(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=lh(this,this.l+t))!==0;)s.push(Rd(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Ec(this,u),this.l=u+1,o=Ih.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Rd(lh(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Ec(this,u),this.l=u+1,o=Ih.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(Rd(Ec(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Ec(this,this.l),this.l++,n;case 2:return n=(e==="i"?YF:lh)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||!(this[this.l+3]&128)?(n=(t>0?ou:QF)(this,this.l),this.l+=4,n):(i=hs(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=Zp(this,this.l):i=Zp([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=mA(this,this.l,t);break}}return this.l+=t,r}var JF=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},ZF=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},eR=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function tR(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)eR(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,JF(this,e,this.l);break;case 8:if(n=8,r==="f"){XF(this,e,this.l);break}case 16:break;case-4:n=4,ZF(this,e,this.l);break}return this.l+=n,this}function NA(t,e){var r=mA(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function cs(t,e){t.l=e,t.read_shift=Ih,t.chk=NA,t.write_shift=tR}function Ma(t,e){t.l+=e}function je(t){var e=Pu(t);return cs(e,0),e}function Xi(){var t=[],e=ur?256:2048,r=function(u){var c=je(u);return cs(c,0),c},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),Qn(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function qe(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=KM[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&L5(r)&&t.push(r)}}function Ph(t,e,r){var n=Qi(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function vw(t,e,r){var n=Qi(t);return n.s=Ph(n.s,e.s,r),n.e=Ph(n.e,e.s,r),n}function kh(t,e){if(t.cRel&&t.c<0)for(t=Qi(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Qi(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=wr(t);return!t.cRel&&t.cRel!=null&&(r=iR(r)),!t.rRel&&t.rRel!=null&&(r=rR(r)),r}function ag(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+yi(t.s.c)+":"+(t.e.cRel?"":"$")+yi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+ti(t.s.r)+":"+(t.e.rRel?"":"$")+ti(t.e.r):kh(t.s,e.biff)+":"+kh(t.e,e.biff)}function F5(t){return parseInt(nR(t),10)-1}function ti(t){return""+(t+1)}function rR(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function nR(t){return t.replace(/\$(\d+)$/,"$1")}function R5(t){for(var e=sR(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function yi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function iR(t){return t.replace(/^([A-Z])/,"$$$1")}function sR(t){return t.replace(/^\$([A-Z])/,"$1")}function aR(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function Mn(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function wr(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function xs(t){var e=t.indexOf(":");return e==-1?{s:Mn(t),e:Mn(t)}:{s:Mn(t.slice(0,e)),e:Mn(t.slice(e+1))}}function _n(t,e){return typeof e>"u"||typeof e=="number"?_n(t.s,t.e):(typeof t!="string"&&(t=wr(t)),typeof e!="string"&&(e=wr(e)),t==e?t:t+":"+e)}function Ur(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function yw(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=kl(t.z,r?Yi(e):e)}catch{}try{return t.w=kl((t.XF||{}).numFmtId||(r?14:0),r?Yi(e):e)}catch{return""+e}}function xo(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?F0[t.v]||t.v:e==null?yw(t,t.v):yw(t,e))}function Bu(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function CA(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Mn(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var c=Ur(s["!ref"]);u.s.c=c.s.c,u.s.r=c.s.r,u.e.c=Math.max(u.e.c,c.e.c),u.e.r=Math.max(u.e.r,c.e.r),a==-1&&(u.e.r=a=c.e.r+1)}for(var p=0;p!=e.length;++p)if(e[p]){if(!Array.isArray(e[p]))throw new Error("aoa_to_sheet expects an array of arrays");for(var m=0;m!=e[p].length;++m)if(!(typeof e[p][m]>"u")){var d={v:e[p][m]},y=a+p,v=o+m;if(u.s.r>y&&(u.s.r=y),u.s.c>v&&(u.s.c=v),u.e.r<y&&(u.e.r=y),u.e.c<v&&(u.e.c=v),e[p][m]&&typeof e[p][m]=="object"&&!Array.isArray(e[p][m])&&!(e[p][m]instanceof Date))d=e[p][m];else if(Array.isArray(d.v)&&(d.f=e[p][m][1],d.v=d.v[0]),d.v===null)if(d.f)d.t="n";else if(n.nullError)d.t="e",d.v=0;else if(n.sheetStubs)d.t="z";else continue;else typeof d.v=="number"?d.t="n":typeof d.v=="boolean"?d.t="b":d.v instanceof Date?(d.z=n.dateNF||rn[14],n.cellDates?(d.t="d",d.w=kl(d.z,Yi(d.v))):(d.t="n",d.v=Yi(d.v),d.w=kl(d.z,d.v))):d.t="s";if(i)s[y]||(s[y]=[]),s[y][v]&&s[y][v].z&&(d.z=s[y][v].z),s[y][v]=d;else{var T=wr({c:v,r:y});s[T]&&s[T].z&&(d.z=s[T].z),s[T]=d}}}return u.s.c<1e7&&(s["!ref"]=_n(u)),s}function Ef(t,e){return CA(null,t,e)}function oR(t){return t.read_shift(4,"i")}function ca(t,e){return e||(e=je(4)),e.write_shift(4,t),e}function xi(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function jn(t,e){var r=!1;return e==null&&(r=!0,e=je(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function lR(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function uR(t,e){return e||(e=je(4)),e.write_shift(2,0),e.write_shift(2,0),e}function D5(t,e){var r=t.l,n=t.read_shift(1),i=xi(t),s=[],a={t:i,h:i};if(n&1){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(lR(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function cR(t,e){var r=!1;return e==null&&(r=!0,e=je(15+4*t.t.length)),e.write_shift(1,0),jn(t.t,e),r?e.slice(0,e.l):e}var fR=D5;function hR(t,e){var r=!1;return e==null&&(r=!0,e=je(23+4*t.t.length)),e.write_shift(1,1),jn(t.t,e),e.write_shift(4,1),uR({},e),r?e.slice(0,e.l):e}function Bs(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Vu(t,e){return e==null&&(e=je(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function Uu(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function zu(t,e){return e==null&&(e=je(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var dR=xi,IA=jn;function O5(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function e1(t,e){var r=!1;return e==null&&(r=!0,e=je(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var pR=xi,U2=O5,M5=e1;function PA(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?Zp([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):ou(e,0)>>2;return r?i/100:i}function kA(t,e){e==null&&(e=je(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function LA(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function mR(t,e){return e||(e=je(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Hu=LA,Af=mR;function Tf(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function ku(t,e){return(e||je(8)).write_shift(8,t,"f")}function gR(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=TR[i];u&&(e.rgb=Iw(u));break;case 2:e.rgb=Iw([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function t1(t,e){if(e||(e=je(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function vR(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function yR(t,e){e||(e=je(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}var FA=2,ls=3,jd=11,r1=19,Bd=64,xR=65,_R=71,wR=4108,SR=4126,Kn=80,xw={1:{n:"CodePage",t:FA},2:{n:"Category",t:Kn},3:{n:"PresentationFormat",t:Kn},4:{n:"ByteCount",t:ls},5:{n:"LineCount",t:ls},6:{n:"ParagraphCount",t:ls},7:{n:"SlideCount",t:ls},8:{n:"NoteCount",t:ls},9:{n:"HiddenCount",t:ls},10:{n:"MultimediaClipCount",t:ls},11:{n:"ScaleCrop",t:jd},12:{n:"HeadingPairs",t:wR},13:{n:"TitlesOfParts",t:SR},14:{n:"Manager",t:Kn},15:{n:"Company",t:Kn},16:{n:"LinksUpToDate",t:jd},17:{n:"CharacterCount",t:ls},19:{n:"SharedDoc",t:jd},22:{n:"HyperlinksChanged",t:jd},23:{n:"AppVersion",t:ls,p:"version"},24:{n:"DigSig",t:xR},26:{n:"ContentType",t:Kn},27:{n:"ContentStatus",t:Kn},28:{n:"Language",t:Kn},29:{n:"Version",t:Kn},255:{},2147483648:{n:"Locale",t:r1},2147483651:{n:"Behavior",t:r1},1919054434:{}},_w={1:{n:"CodePage",t:FA},2:{n:"Title",t:Kn},3:{n:"Subject",t:Kn},4:{n:"Author",t:Kn},5:{n:"Keywords",t:Kn},6:{n:"Comments",t:Kn},7:{n:"Template",t:Kn},8:{n:"LastAuthor",t:Kn},9:{n:"RevNumber",t:Kn},10:{n:"EditTime",t:Bd},11:{n:"LastPrinted",t:Bd},12:{n:"CreatedDate",t:Bd},13:{n:"ModifiedDate",t:Bd},14:{n:"PageCount",t:ls},15:{n:"WordCount",t:ls},16:{n:"CharCount",t:ls},17:{n:"Thumbnail",t:_R},18:{n:"Application",t:Kn},19:{n:"DocSecurity",t:ls},255:{},2147483648:{n:"Locale",t:r1},2147483651:{n:"Behavior",t:r1},1919054434:{}};function ER(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var AR=ER([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),TR=Qi(AR),F0={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},bR={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},Vd={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function RA(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function DA(t,e){var r=OF(bR),n=[],i;n[n.length]=wn,n[n.length]=it("Types",null,{xmlns:On.CT,"xmlns:xsd":On.xsd,"xmlns:xsi":On.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return it("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=it("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:Vd[l][e.bookType]||Vd[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=it("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:Vd[l][e.bookType]||Vd[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=it("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var sr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function OA(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function $c(t){var e=[wn,it("Relationships",null,{xmlns:On.RELS})];return ii(t["!id"]).forEach(function(r){e[e.length]=it("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function gr(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[sr.HLINK,sr.XPATH,sr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}function NR(t){var e=[wn];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function ww(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function CR(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function IR(t){var e=[wn];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(ww(t[r][0],t[r][1])),e.push(CR("",t[r][0]));return e.push(ww("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function MA(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+$p.version+"</meta:generator></office:meta></office:document-meta>"}var _u=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]];function og(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=yr(e),n[n.length]=r?it(t,e,r):Jn(t,e))}function jA(t,e){var r=e||{},n=[wn,it("cp:coreProperties",null,{"xmlns:cp":On.CORE_PROPS,"xmlns:dc":On.dc,"xmlns:dcterms":On.dcterms,"xmlns:dcmitype":On.dcmitype,"xmlns:xsi":On.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&og("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:V2(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&og("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:V2(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=_u.length;++s){var a=_u[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&og(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var Kc=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],BA=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function VA(t){var e=[],r=it;return t||(t={}),t.Application="SheetJS",e[e.length]=wn,e[e.length]=it("Properties",null,{xmlns:On.EXT_PROPS,"xmlns:vt":On.vt}),Kc.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=yr(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+yr(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}function UA(t){var e=[wn,it("Properties",null,{xmlns:On.CUST_PROPS,"xmlns:vt":On.vt})];if(!t)return e.join("");var r=1;return ii(t).forEach(function(i){++r,e[e.length]=it("property",$F(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:yr(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var Sw={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"};function PR(t,e){var r=[];return ii(Sw).map(function(n){for(var i=0;i<_u.length;++i)if(_u[i][1]==n)return _u[i];for(i=0;i<Kc.length;++i)if(Kc[i][1]==n)return Kc[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(Jn(Sw[n[1]]||n[1],i))}}),it("DocumentProperties",r.join(""),{xmlns:fs.o})}function kR(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&ii(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<_u.length;++a)if(s==_u[a][1])return;for(a=0;a<Kc.length;++a)if(s==Kc[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(it(uw(s),o,{"dt:dt":l}))}}),e&&ii(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(it(uw(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+fs.o+'">'+i.join("")+"</"+n+">"}function LR(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=je(8);return a.write_shift(4,n),a.write_shift(4,i),a}function Ew(t,e){var r=je(4),n=je(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=je(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=LR(e);break;case 31:case 80:for(n=je(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Qn([r,n])}var zA=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function FR(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function Aw(t,e,r){var n=je(8),i=[],s=[],a=8,o=0,l=je(8),u=je(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=je(8),u.write_shift(4,0),i.unshift(u);var c=[je(4)];for(c[0].write_shift(4,t.length),o=0;o<t.length;++o){var p=t[o][0];for(l=je(8+2*(p.length+1)+(p.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,p.length+1),l.write_shift(0,p,"dbcs");l.l!=l.length;)l.write_shift(1,0);c.push(l)}l=Qn(c),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(zA.indexOf(t[o][0])>-1||BA.indexOf(t[o][0])>-1)&&t[o][1]!=null){var m=t[o][1],d=0;if(e){d=+e[t[o][0]];var y=r[d];if(y.p=="version"&&typeof m=="string"){var v=m.split(".");m=(+v[0]<<16)+(+v[1]||0)}l=Ew(y.t,m)}else{var T=FR(m);T==-1&&(T=31,m=String(m)),l=Ew(T,m)}s.push(l),u=je(8),u.write_shift(4,e?d:2+o),i.push(u),a+=8+l.length}var _=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,_),_+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Qn([n].concat(i).concat(s))}function Tw(t,e,r,n,i,s){var a=je(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,br.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=Aw(t,r,n);if(o.push(l),i){var u=Aw(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return Qn(o)}function RR(t,e){e||(e=je(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function DR(t,e){return t.read_shift(e)===1}function Pi(t,e){return e||(e=je(2)),e.write_shift(2,+!!t),e}function HA(t){return t.read_shift(2,"u")}function Ls(t,e){return e||(e=je(2)),e.write_shift(2,t),e}function WA(t,e,r){return r||(r=je(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function qA(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function OR(t){var e=t.t||"",r=je(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=je(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Qn(i)}function MR(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function jR(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):MR(t,n,r)}function BR(t,e,r){if(r.biff>5)return jR(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function GA(t,e,r){return r||(r=je(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function bw(t,e){e||(e=je(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function VR(t){var e=je(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),bw(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&bw(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Lu(t,e,r,n){return n||(n=je(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function UR(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function zR(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function $A(t,e){return e||(e=je(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function j5(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=je(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function HR(t,e){var r=!e||e.biff==8,n=je(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function WR(t,e){var r=!e||e.biff>=8?2:1,n=je(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function qR(t,e){var r=je(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=OR(t[i]);var s=Qn([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function GR(){var t=je(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function $R(t){var e=je(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function KR(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=je(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function XR(t,e,r,n){var i=je(10);return Lu(t,e,n,i),i.write_shift(4,r),i}function YR(t,e,r,n,i){var s=!i||i.biff==8,a=je(8+ +s+(1+s)*r.length);return Lu(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function QR(t,e,r,n){var i=r&&r.biff==5;n||(n=je(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}function JR(t,e){var r=e.biff==8||!e.biff?4:2,n=je(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function Nw(t,e,r,n){var i=r&&r.biff==5;n||(n=je(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function ZR(t){var e=je(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function e7(t,e,r,n,i,s){var a=je(8);return Lu(t,e,n,a),WA(r,s,a),a}function t7(t,e,r,n){var i=je(14);return Lu(t,e,n,i),ku(r,i),i}function r7(t,e,r){if(r.biff<8)return n7(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(UR(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function n7(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=qA(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function i7(t){var e=je(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)$A(t[r],e);return e}function s7(t){var e=je(24),r=Mn(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Qn([e,VR(t[1])])}function a7(t){var e=t[1].Tooltip,r=je(10+2*(e.length+1));r.write_shift(2,2048);var n=Mn(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function o7(t){return t||(t=je(4)),t.write_shift(2,1),t.write_shift(2,1),t}function l7(t,e,r){if(!r.cellStyles)return Ma(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function u7(t,e){var r=je(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function c7(t){for(var e=je(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}function f7(t,e,r){var n=je(15);return D0(n,t,e),n.write_shift(8,r,"f"),n}function h7(t,e,r){var n=je(9);return D0(n,t,e),n.write_shift(2,r),n}var d7=function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=N5({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],c=Pu(1);switch(l.type){case"base64":c=sa(yo(o));break;case"binary":c=sa(o);break;case"buffer":case"array":c=o;break}cs(c,0);var p=c.read_shift(1),m=!!(p&136),d=!1,y=!1;switch(p){case 2:break;case 3:break;case 48:d=!0,m=!0;break;case 49:d=!0,m=!0;break;case 131:break;case 139:break;case 140:y=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+p.toString(16))}var v=0,T=521;p==2&&(v=c.read_shift(2)),c.l+=3,p!=2&&(v=c.read_shift(4)),v>1048576&&(v=1e6),p!=2&&(T=c.read_shift(2));var _=c.read_shift(2),x=l.codepage||1252;p!=2&&(c.l+=16,c.read_shift(1),c[c.l]!==0&&(x=t[c[c.l]]),c.l+=1,c.l+=2),y&&(c.l+=36);for(var E=[],L={},j=Math.min(c.length,p==2?521:T-10-(d?264:0)),z=y?32:11;c.l<j&&c[c.l]!=13;)switch(L={},L.name=Kp.utils.decode(x,c.slice(c.l,c.l+z)).replace(/[\u0000\r\n].*$/g,""),c.l+=z,L.type=String.fromCharCode(c.read_shift(1)),p!=2&&!y&&(L.offset=c.read_shift(4)),L.len=c.read_shift(1),p==2&&(L.offset=c.read_shift(2)),L.dec=c.read_shift(1),L.name.length&&E.push(L),p!=2&&(c.l+=y?13:14),L.type){case"B":(!d||L.len!=8)&&l.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+L.name+":"+L.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+L.type)}if(c[c.l]!==13&&(c.l=T-1),c.read_shift(1)!==13)throw new Error("DBF Terminator not found "+c.l+" "+c[c.l]);c.l=T;var w=0,S=0;for(u[0]=[],S=0;S!=E.length;++S)u[0][S]=E[S].name;for(;v-- >0;){if(c[c.l]===42){c.l+=_;continue}for(++c.l,u[++w]=[],S=0,S=0;S!=E.length;++S){var I=c.slice(c.l,c.l+E[S].len);c.l+=E[S].len,cs(I,0);var F=Kp.utils.decode(x,I);switch(E[S].type){case"C":F.trim().length&&(u[w][S]=F.replace(/\s+$/,""));break;case"D":F.length===8?u[w][S]=new Date(+F.slice(0,4),+F.slice(4,6)-1,+F.slice(6,8)):u[w][S]=F;break;case"F":u[w][S]=parseFloat(F.trim());break;case"+":case"I":u[w][S]=y?I.read_shift(-4,"i")^2147483648:I.read_shift(4,"i");break;case"L":switch(F.trim().toUpperCase()){case"Y":case"T":u[w][S]=!0;break;case"N":case"F":u[w][S]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+F+"|")}break;case"M":if(!m)throw new Error("DBF Unexpected MEMO for type "+p.toString(16));u[w][S]="##MEMO##"+(y?parseInt(F.trim(),10):I.read_shift(4));break;case"N":F=F.replace(/\u0000/g,"").trim(),F&&F!="."&&(u[w][S]=+F||0);break;case"@":u[w][S]=new Date(I.read_shift(-8,"f")-621356832e5);break;case"T":u[w][S]=new Date((I.read_shift(4)-2440588)*864e5+I.read_shift(4));break;case"Y":u[w][S]=I.read_shift(4,"i")/1e4+I.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[w][S]=-I.read_shift(-8,"f");break;case"B":if(d&&E[S].len==8){u[w][S]=I.read_shift(8,"f");break}case"G":case"P":I.l+=E[S].len;break;case"0":if(E[S].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+E[S].type)}}}if(p!=2&&c.l<c.length&&c[c.l++]!=26)throw new Error("DBF EOF Marker missing "+(c.l-1)+" of "+c.length+" "+c[c.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=E,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var c=Ef(r(o,u),u);return c["!cols"]=u.DBF.map(function(p){return{wch:p.len,DBF:p}}),delete u.DBF,c}function i(o,l){try{return Bu(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&u0(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var c=Xi(),p=o1(o,{header:1,raw:!0,cellDates:!0}),m=p[0],d=p.slice(1),y=o["!cols"]||[],v=0,T=0,_=0,x=1;for(v=0;v<m.length;++v){if(((y[v]||{}).DBF||{}).name){m[v]=y[v].DBF.name,++_;continue}if(m[v]!=null){if(++_,typeof m[v]=="number"&&(m[v]=m[v].toString(10)),typeof m[v]!="string")throw new Error("DBF Invalid column name "+m[v]+" |"+typeof m[v]+"|");if(m.indexOf(m[v])!==v){for(T=0;T<1024;++T)if(m.indexOf(m[v]+"_"+T)==-1){m[v]+="_"+T;break}}}}var E=Ur(o["!ref"]),L=[],j=[],z=[];for(v=0;v<=E.e.c-E.s.c;++v){var w="",S="",I=0,F=[];for(T=0;T<d.length;++T)d[T][v]!=null&&F.push(d[T][v]);if(F.length==0||m[v]==null){L[v]="?";continue}for(T=0;T<F.length;++T){switch(typeof F[T]){case"number":S="B";break;case"string":S="C";break;case"boolean":S="L";break;case"object":S=F[T]instanceof Date?"D":"C";break;default:S="C"}I=Math.max(I,String(F[T]).length),w=w&&w!=S?"C":S}I>250&&(I=250),S=((y[v]||{}).DBF||{}).type,S=="C"&&y[v].DBF.len>I&&(I=y[v].DBF.len),w=="B"&&S=="N"&&(w="N",z[v]=y[v].DBF.dec,I=y[v].DBF.len),j[v]=w=="C"||S=="N"?I:s[w]||0,x+=j[v],L[v]=w}var N=c.next(32);for(N.write_shift(4,318902576),N.write_shift(4,d.length),N.write_shift(2,296+32*_),N.write_shift(2,x),v=0;v<4;++v)N.write_shift(4,0);for(N.write_shift(4,0|(+e[XE]||3)<<8),v=0,T=0;v<m.length;++v)if(m[v]!=null){var b=c.next(32),D=(m[v].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);b.write_shift(1,D,"sbcs"),b.write_shift(1,L[v]=="?"?"C":L[v],"sbcs"),b.write_shift(4,T),b.write_shift(1,j[v]||s[L[v]]||0),b.write_shift(1,z[v]||0),b.write_shift(1,2),b.write_shift(4,0),b.write_shift(1,0),b.write_shift(4,0),b.write_shift(4,0),T+=j[v]||s[L[v]]||0}var Z=c.next(264);for(Z.write_shift(4,13),v=0;v<65;++v)Z.write_shift(4,0);for(v=0;v<d.length;++v){var de=c.next(x);for(de.write_shift(1,0),T=0;T<m.length;++T)if(m[T]!=null)switch(L[T]){case"L":de.write_shift(1,d[v][T]==null?63:d[v][T]?84:70);break;case"B":de.write_shift(8,d[v][T]||0,"f");break;case"N":var se="0";for(typeof d[v][T]=="number"&&(se=d[v][T].toFixed(z[T]||0)),_=0;_<j[T]-se.length;++_)de.write_shift(1,32);de.write_shift(1,se,"sbcs");break;case"D":d[v][T]?(de.write_shift(4,("0000"+d[v][T].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(d[v][T].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+d[v][T].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var re=String(d[v][T]!=null?d[v][T]:"").slice(0,j[T]);for(de.write_shift(1,re,"sbcs"),_=0;_<j[T]-re.length;++_)de.write_shift(1,32);break}}return c.next(1).write_shift(1,26),c.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}}(),p7=function(){var t={AA:"À",BA:"Á",CA:"Â",DA:195,HA:"Ä",JA:197,AE:"È",BE:"É",CE:"Ê",HE:"Ë",AI:"Ì",BI:"Í",CI:"Î",HI:"Ï",AO:"Ò",BO:"Ó",CO:"Ô",DO:213,HO:"Ö",AU:"Ù",BU:"Ú",CU:"Û",HU:"Ü",Aa:"à",Ba:"á",Ca:"â",Da:227,Ha:"ä",Ja:229,Ae:"è",Be:"é",Ce:"ê",He:"ë",Ai:"ì",Bi:"í",Ci:"î",Hi:"ï",Ao:"ò",Bo:"ó",Co:"ô",Do:245,Ho:"ö",Au:"ù",Bu:"ú",Cu:"û",Hu:"ü",KC:"Ç",Kc:"ç",q:"æ",z:"œ",a:"Æ",j:"Œ",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+ii(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(m,d){var y=t[d];return typeof y=="number"?Q_(y):y},n=function(m,d,y){var v=d.charCodeAt(0)-32<<4|y.charCodeAt(0)-48;return v==59?m:Q_(v)};t["|"]=254;function i(m,d){switch(d.type){case"base64":return s(yo(m),d);case"binary":return s(m,d);case"buffer":return s(ur&&Buffer.isBuffer(m)?m.toString("binary"):P0(m),d);case"array":return s(W1(m),d)}throw new Error("Unrecognized type "+d.type)}function s(m,d){var y=m.split(/[\n\r]+/),v=-1,T=-1,_=0,x=0,E=[],L=[],j=null,z={},w=[],S=[],I=[],F=0,N;for(+d.codepage>=0&&u0(+d.codepage);_!==y.length;++_){F=0;var b=y[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),D=b.replace(/;;/g,"\0").split(";").map(function(U){return U.replace(/\u0000/g,";")}),Z=D[0],de;if(b.length>0)switch(Z){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":D[1].charAt(0)=="P"&&L.push(b.slice(3).replace(/;;/g,";"));break;case"C":var se=!1,re=!1,X=!1,ee=!1,he=-1,we=-1;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"A":break;case"X":T=parseInt(D[x].slice(1))-1,re=!0;break;case"Y":for(v=parseInt(D[x].slice(1))-1,re||(T=0),N=E.length;N<=v;++N)E[N]=[];break;case"K":de=D[x].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(oo(de))?isNaN(f0(de).getDate())||(de=Li(de)):(de=oo(de),j!==null&&oA(j)&&(de=fA(de))),se=!0;break;case"E":ee=!0;var P=hD(D[x].slice(1),{r:v,c:T});E[v][T]=[E[v][T],P];break;case"S":X=!0,E[v][T]=[E[v][T],"S5S"];break;case"G":break;case"R":he=parseInt(D[x].slice(1))-1;break;case"C":we=parseInt(D[x].slice(1))-1;break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+b)}if(se&&(E[v][T]&&E[v][T].length==2?E[v][T][0]=de:E[v][T]=de,j=null),X){if(ee)throw new Error("SYLK shared formula cannot have own formula");var B=he>-1&&E[he][we];if(!B||!B[1])throw new Error("SYLK shared formula cannot find base");E[v][T][1]=dD(B[1],{r:v-he,c:T-we})}break;case"F":var V=0;for(x=1;x<D.length;++x)switch(D[x].charAt(0)){case"X":T=parseInt(D[x].slice(1))-1,++V;break;case"Y":for(v=parseInt(D[x].slice(1))-1,N=E.length;N<=v;++N)E[N]=[];break;case"M":F=parseInt(D[x].slice(1))/20;break;case"F":break;case"G":break;case"P":j=L[parseInt(D[x].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(I=D[x].slice(1).split(" "),N=parseInt(I[0],10);N<=parseInt(I[1],10);++N)F=parseInt(I[2],10),S[N-1]=F===0?{hidden:!0}:{wch:F},B5(S[N-1]);break;case"C":T=parseInt(D[x].slice(1))-1,S[T]||(S[T]={});break;case"R":v=parseInt(D[x].slice(1))-1,w[v]||(w[v]={}),F>0?(w[v].hpt=F,w[v].hpx=JA(F)):F===0&&(w[v].hidden=!0);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+b)}V<1&&(j=null);break;default:if(d&&d.WTF)throw new Error("SYLK bad record "+b)}}return w.length>0&&(z["!rows"]=w),S.length>0&&(z["!cols"]=S),d&&d.sheetRows&&(E=E.slice(0,d.sheetRows)),[E,z]}function a(m,d){var y=i(m,d),v=y[0],T=y[1],_=Ef(v,d);return ii(T).forEach(function(x){_[x]=T[x]}),_}function o(m,d){return Bu(a(m,d),d)}function l(m,d,y,v){var T="C;Y"+(y+1)+";X"+(v+1)+";K";switch(m.t){case"n":T+=m.v||0,m.f&&!m.F&&(T+=";E"+U5(m.f,{r:y,c:v}));break;case"b":T+=m.v?"TRUE":"FALSE";break;case"e":T+=m.w||m.v;break;case"d":T+='"'+(m.w||m.v)+'"';break;case"s":T+='"'+m.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return T}function u(m,d){d.forEach(function(y,v){var T="F;W"+(v+1)+" "+(v+1)+" ";y.hidden?T+="0":(typeof y.width=="number"&&!y.wpx&&(y.wpx=n1(y.width)),typeof y.wpx=="number"&&!y.wch&&(y.wch=i1(y.wpx)),typeof y.wch=="number"&&(T+=Math.round(y.wch))),T.charAt(T.length-1)!=" "&&m.push(T)})}function c(m,d){d.forEach(function(y,v){var T="F;";y.hidden?T+="M0;":y.hpt?T+="M"+20*y.hpt+";":y.hpx&&(T+="M"+20*s1(y.hpx)+";"),T.length>2&&m.push(T+"R"+(v+1))})}function p(m,d){var y=["ID;PWXL;N;E"],v=[],T=Ur(m["!ref"]),_,x=Array.isArray(m),E=`\r
`;y.push("P;PGeneral"),y.push("F;P0;DG0G8;M255"),m["!cols"]&&u(y,m["!cols"]),m["!rows"]&&c(y,m["!rows"]),y.push("B;Y"+(T.e.r-T.s.r+1)+";X"+(T.e.c-T.s.c+1)+";D"+[T.s.c,T.s.r,T.e.c,T.e.r].join(" "));for(var L=T.s.r;L<=T.e.r;++L)for(var j=T.s.c;j<=T.e.c;++j){var z=wr({r:L,c:j});_=x?(m[L]||[])[j]:m[z],!(!_||_.v==null&&(!_.f||_.F))&&v.push(l(_,m,L,j))}return y.join(E)+E+v.join(E)+E+"E"+E}return{to_workbook:o,to_sheet:a,from_sheet:p}}(),m7=function(){function t(s,a){switch(a.type){case"base64":return e(yo(s),a);case"binary":return e(s,a);case"buffer":return e(ur&&Buffer.isBuffer(s)?s.toString("binary"):P0(s),a);case"array":return e(W1(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,c=0,p=[];c!==o.length;++c){if(o[c].trim()==="BOT"){p[++l]=[],u=0;continue}if(!(l<0)){var m=o[c].trim().split(","),d=m[0],y=m[1];++c;for(var v=o[c]||"";(v.match(/["]/g)||[]).length&1&&c<o.length-1;)v+=`
`+o[++c];switch(v=v.trim(),+d){case-1:if(v==="BOT"){p[++l]=[],u=0;continue}else if(v!=="EOD")throw new Error("Unrecognized DIF special command "+v);break;case 0:v==="TRUE"?p[l][u]=!0:v==="FALSE"?p[l][u]=!1:isNaN(oo(y))?isNaN(f0(y).getDate())?p[l][u]=y:p[l][u]=Li(y):p[l][u]=oo(y),++u;break;case 1:v=v.slice(1,v.length-1),v=v.replace(/""/g,'"'),v&&v.match(/^=".*"$/)&&(v=v.slice(2,-1)),p[l][u++]=v!==""?v:null;break}if(v==="EOD")break}}return a&&a.sheetRows&&(p=p.slice(0,a.sheetRows)),p}function r(s,a){return Ef(t(s,a),a)}function n(s,a){return Bu(r(s,a),a)}var i=function(){var s=function(l,u,c,p,m){l.push(u),l.push(c+","+p),l.push('"'+m.replace(/"/g,'""')+'"')},a=function(l,u,c,p){l.push(u+","+c),l.push(u==1?'"'+p.replace(/"/g,'""')+'"':p)};return function(l){var u=[],c=Ur(l["!ref"]),p,m=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,c.e.r-c.s.r+1,""),s(u,"TUPLES",0,c.e.c-c.s.c+1,""),s(u,"DATA",0,0,"");for(var d=c.s.r;d<=c.e.r;++d){a(u,-1,0,"BOT");for(var y=c.s.c;y<=c.e.c;++y){var v=wr({r:d,c:y});if(p=m?(l[d]||[])[y]:l[v],!p){a(u,1,0,"");continue}switch(p.t){case"n":var T=p.w;!T&&p.v!=null&&(T=p.v),T==null?p.f&&!p.F?a(u,1,0,"="+p.f):a(u,1,0,""):a(u,0,T,"V");break;case"b":a(u,0,p.v?1:0,p.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(p.v)?p.v:'="'+p.v+'"');break;case"d":p.w||(p.w=kl(p.z||rn[14],Yi(Li(p.v)))),a(u,0,p.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var _=`\r
`,x=u.join(_);return x}}();return{to_workbook:n,to_sheet:r,from_sheet:i}}(),KA=function(){function t(p){return p.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(p){return p.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(p,m){for(var d=p.split(`
`),y=-1,v=-1,T=0,_=[];T!==d.length;++T){var x=d[T].trim().split(":");if(x[0]==="cell"){var E=Mn(x[1]);if(_.length<=E.r)for(y=_.length;y<=E.r;++y)_[y]||(_[y]=[]);switch(y=E.r,v=E.c,x[2]){case"t":_[y][v]=t(x[3]);break;case"v":_[y][v]=+x[3];break;case"vtf":var L=x[x.length-1];case"vtc":switch(x[3]){case"nl":_[y][v]=!!+x[4];break;default:_[y][v]=+x[4];break}x[2]=="vtf"&&(_[y][v]=[_[y][v],L])}}}return m&&m.sheetRows&&(_=_.slice(0,m.sheetRows)),_}function n(p,m){return Ef(r(p,m),m)}function i(p,m){return Bu(n(p,m),m)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(p){if(!p||!p["!ref"])return"";for(var m=[],d=[],y,v="",T=xs(p["!ref"]),_=Array.isArray(p),x=T.s.r;x<=T.e.r;++x)for(var E=T.s.c;E<=T.e.c;++E)if(v=wr({r:x,c:E}),y=_?(p[x]||[])[E]:p[v],!(!y||y.v==null||y.t==="z")){switch(d=["cell",v,"t"],y.t){case"s":case"str":d.push(e(y.v));break;case"n":y.f?(d[2]="vtf",d[3]="n",d[4]=y.v,d[5]=e(y.f)):(d[2]="v",d[3]=y.v);break;case"b":d[2]="vt"+(y.f?"f":"c"),d[3]="nl",d[4]=y.v?"1":"0",d[5]=e(y.f||(y.v?"TRUE":"FALSE"));break;case"d":var L=Yi(Li(y.v));d[2]="vtc",d[3]="nd",d[4]=""+L,d[5]=y.w||kl(y.z||rn[14],L);break;case"e":continue}m.push(d.join(":"))}return m.push("sheet:c:"+(T.e.c-T.s.c+1)+":r:"+(T.e.r-T.s.r+1)+":tvf:1"),m.push("valueformat:1:text-wiki"),m.join(`
`)}function c(p){return[s,a,o,a,u(p),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:c}}(),g7=function(){function t(c,p,m,d,y){y.raw?p[m][d]=c:c===""||(c==="TRUE"?p[m][d]=!0:c==="FALSE"?p[m][d]=!1:isNaN(oo(c))?isNaN(f0(c).getDate())?p[m][d]=c:p[m][d]=Li(c):p[m][d]=oo(c))}function e(c,p){var m=p||{},d=[];if(!c||c.length===0)return d;for(var y=c.split(/[\r\n]/),v=y.length-1;v>=0&&y[v].length===0;)--v;for(var T=10,_=0,x=0;x<=v;++x)_=y[x].indexOf(" "),_==-1?_=y[x].length:_++,T=Math.max(T,_);for(x=0;x<=v;++x){d[x]=[];var E=0;for(t(y[x].slice(0,T).trim(),d,x,E,m),E=1;E<=(y[x].length-T)/10+1;++E)t(y[x].slice(T+(E-1)*10,T+E*10).trim(),d,x,E,m)}return m.sheetRows&&(d=d.slice(0,m.sheetRows)),d}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(c){for(var p={},m=!1,d=0,y=0;d<c.length;++d)(y=c.charCodeAt(d))==34?m=!m:!m&&y in r&&(p[y]=(p[y]||0)+1);y=[];for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&y.push([p[d],d]);if(!y.length){p=n;for(d in p)Object.prototype.hasOwnProperty.call(p,d)&&y.push([p[d],d])}return y.sort(function(v,T){return v[0]-T[0]||n[v[1]]-n[T[1]]}),r[y.pop()[1]]||44}function s(c,p){var m=p||{},d="",y=m.dense?[]:{},v={s:{c:0,r:0},e:{c:0,r:0}};c.slice(0,4)=="sep="?c.charCodeAt(5)==13&&c.charCodeAt(6)==10?(d=c.charAt(4),c=c.slice(7)):c.charCodeAt(5)==13||c.charCodeAt(5)==10?(d=c.charAt(4),c=c.slice(6)):d=i(c.slice(0,1024)):m&&m.FS?d=m.FS:d=i(c.slice(0,1024));var T=0,_=0,x=0,E=0,L=0,j=d.charCodeAt(0),z=!1,w=0,S=c.charCodeAt(0);c=c.replace(/\r\n/mg,`
`);var I=m.dateNF!=null?LF(m.dateNF):null;function F(){var N=c.slice(E,L),b={};if(N.charAt(0)=='"'&&N.charAt(N.length-1)=='"'&&(N=N.slice(1,-1).replace(/""/g,'"')),N.length===0)b.t="z";else if(m.raw)b.t="s",b.v=N;else if(N.trim().length===0)b.t="s",b.v=N;else if(N.charCodeAt(0)==61)N.charCodeAt(1)==34&&N.charCodeAt(N.length-1)==34?(b.t="s",b.v=N.slice(2,-1).replace(/""/g,'"')):pD(N)?(b.t="n",b.f=N.slice(1)):(b.t="s",b.v=N);else if(N=="TRUE")b.t="b",b.v=!0;else if(N=="FALSE")b.t="b",b.v=!1;else if(!isNaN(x=oo(N)))b.t="n",m.cellText!==!1&&(b.w=N),b.v=x;else if(!isNaN(f0(N).getDate())||I&&N.match(I)){b.z=m.dateNF||rn[14];var D=0;I&&N.match(I)&&(N=FF(N,m.dateNF,N.match(I)||[]),D=1),m.cellDates?(b.t="d",b.v=Li(N,D)):(b.t="n",b.v=Yi(Li(N,D))),m.cellText!==!1&&(b.w=kl(b.z,b.v instanceof Date?Yi(b.v):b.v)),m.cellNF||delete b.z}else b.t="s",b.v=N;if(b.t=="z"||(m.dense?(y[T]||(y[T]=[]),y[T][_]=b):y[wr({c:_,r:T})]=b),E=L+1,S=c.charCodeAt(E),v.e.c<_&&(v.e.c=_),v.e.r<T&&(v.e.r=T),w==j)++_;else if(_=0,++T,m.sheetRows&&m.sheetRows<=T)return!0}e:for(;L<c.length;++L)switch(w=c.charCodeAt(L)){case 34:S===34&&(z=!z);break;case j:case 10:case 13:if(!z&&F())break e;break}return L-E>0&&F(),y["!ref"]=_n(v),y}function a(c,p){return!(p&&p.PRN)||p.FS||c.slice(0,4)=="sep="||c.indexOf("	")>=0||c.indexOf(",")>=0||c.indexOf(";")>=0?s(c,p):Ef(e(c,p),p)}function o(c,p){var m="",d=p.type=="string"?[0,0,0,0]:Cj(c,p);switch(p.type){case"base64":m=yo(c);break;case"binary":m=c;break;case"buffer":p.codepage==65001?m=c.toString("utf8"):p.codepage&&typeof Kp<"u"||(m=ur&&Buffer.isBuffer(c)?c.toString("binary"):P0(c));break;case"array":m=W1(c);break;case"string":m=c;break;default:throw new Error("Unrecognized type "+p.type)}return d[0]==239&&d[1]==187&&d[2]==191?m=Ch(m.slice(3)):p.type!="string"&&p.type!="buffer"&&p.codepage==65001?m=Ch(m):p.type=="binary"&&typeof Kp<"u",m.slice(0,19)=="socialcalc:version:"?KA.to_sheet(p.type=="string"?m:Ch(m),p):a(m,p)}function l(c,p){return Bu(o(c,p),p)}function u(c){for(var p=[],m=Ur(c["!ref"]),d,y=Array.isArray(c),v=m.s.r;v<=m.e.r;++v){for(var T=[],_=m.s.c;_<=m.e.c;++_){var x=wr({r:v,c:_});if(d=y?(c[v]||[])[_]:c[x],!d||d.v==null){T.push("          ");continue}for(var E=(d.w||(xo(d),d.w)||"").slice(0,10);E.length<10;)E+=" ";T.push(E+(_===0?" ":""))}p.push(T.join(""))}return p.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}}(),Cw=function(){function t(P,B,V){if(P){cs(P,P.l||0);for(var U=V.Enum||he;P.l<P.length;){var Y=P.read_shift(2),pe=U[Y]||U[65535],me=P.read_shift(2),ge=P.l+me,Te=pe.f&&pe.f(P,me,V);if(P.l=ge,B(Te,pe,Y))return}}}function e(P,B){switch(B.type){case"base64":return r(sa(yo(P)),B);case"binary":return r(sa(P),B);case"buffer":case"array":return r(P,B)}throw"Unsupported type "+B.type}function r(P,B){if(!P)return P;var V=B||{},U=V.dense?[]:{},Y="Sheet1",pe="",me=0,ge={},Te=[],Me=[],Ve={s:{r:0,c:0},e:{r:0,c:0}},Je=V.sheetRows||0;if(P[2]==0&&(P[3]==8||P[3]==9)&&P.length>=16&&P[14]==5&&P[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(P[2]==2)V.Enum=he,t(P,function(He,mt,Ge){switch(Ge){case 0:V.vers=He,He>=4096&&(V.qpro=!0);break;case 6:Ve=He;break;case 204:He&&(pe=He);break;case 222:pe=He;break;case 15:case 51:V.qpro||(He[1].v=He[1].v.slice(1));case 13:case 14:case 16:Ge==14&&(He[2]&112)==112&&(He[2]&15)>1&&(He[2]&15)<15&&(He[1].z=V.dateNF||rn[14],V.cellDates&&(He[1].t="d",He[1].v=fA(He[1].v))),V.qpro&&He[3]>me&&(U["!ref"]=_n(Ve),ge[Y]=U,Te.push(Y),U=V.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},me=He[3],Y=pe||"Sheet"+(me+1),pe="");var tt=V.dense?(U[He[0].r]||[])[He[0].c]:U[wr(He[0])];if(tt){tt.t=He[1].t,tt.v=He[1].v,He[1].z!=null&&(tt.z=He[1].z),He[1].f!=null&&(tt.f=He[1].f);break}V.dense?(U[He[0].r]||(U[He[0].r]=[]),U[He[0].r][He[0].c]=He[1]):U[wr(He[0])]=He[1];break}},V);else if(P[2]==26||P[2]==14)V.Enum=we,P[2]==14&&(V.qpro=!0,P.l=0),t(P,function(He,mt,Ge){switch(Ge){case 204:Y=He;break;case 22:He[1].v=He[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(He[3]>me&&(U["!ref"]=_n(Ve),ge[Y]=U,Te.push(Y),U=V.dense?[]:{},Ve={s:{r:0,c:0},e:{r:0,c:0}},me=He[3],Y="Sheet"+(me+1)),Je>0&&He[0].r>=Je)break;V.dense?(U[He[0].r]||(U[He[0].r]=[]),U[He[0].r][He[0].c]=He[1]):U[wr(He[0])]=He[1],Ve.e.c<He[0].c&&(Ve.e.c=He[0].c),Ve.e.r<He[0].r&&(Ve.e.r=He[0].r);break;case 27:He[14e3]&&(Me[He[14e3][0]]=He[14e3][1]);break;case 1537:Me[He[0]]=He[1],He[0]==me&&(Y=He[1]);break}},V);else throw new Error("Unrecognized LOTUS BOF "+P[2]);if(U["!ref"]=_n(Ve),ge[pe||Y]=U,Te.push(pe||Y),!Me.length)return{SheetNames:Te,Sheets:ge};for(var st={},Re=[],fe=0;fe<Me.length;++fe)ge[Te[fe]]?(Re.push(Me[fe]||Te[fe]),st[Me[fe]]=ge[Me[fe]]||ge[Te[fe]]):(Re.push(Me[fe]),st[Me[fe]]={"!ref":"A1"});return{SheetNames:Re,Sheets:st}}function n(P,B){var V=B||{};if(+V.codepage>=0&&u0(+V.codepage),V.type=="string")throw new Error("Cannot write WK1 to JS string");var U=Xi(),Y=Ur(P["!ref"]),pe=Array.isArray(P),me=[];at(U,0,s(1030)),at(U,6,l(Y));for(var ge=Math.min(Y.e.r,8191),Te=Y.s.r;Te<=ge;++Te)for(var Me=ti(Te),Ve=Y.s.c;Ve<=Y.e.c;++Ve){Te===Y.s.r&&(me[Ve]=yi(Ve));var Je=me[Ve]+Me,st=pe?(P[Te]||[])[Ve]:P[Je];if(!(!st||st.t=="z"))if(st.t=="n")(st.v|0)==st.v&&st.v>=-32768&&st.v<=32767?at(U,13,d(Te,Ve,st.v)):at(U,14,v(Te,Ve,st.v));else{var Re=xo(st);at(U,15,p(Te,Ve,Re.slice(0,239)))}}return at(U,1),U.end()}function i(P,B){var V=B||{};if(+V.codepage>=0&&u0(+V.codepage),V.type=="string")throw new Error("Cannot write WK3 to JS string");var U=Xi();at(U,0,a(P));for(var Y=0,pe=0;Y<P.SheetNames.length;++Y)(P.Sheets[P.SheetNames[Y]]||{})["!ref"]&&at(U,27,ee(P.SheetNames[Y],pe++));var me=0;for(Y=0;Y<P.SheetNames.length;++Y){var ge=P.Sheets[P.SheetNames[Y]];if(!(!ge||!ge["!ref"])){for(var Te=Ur(ge["!ref"]),Me=Array.isArray(ge),Ve=[],Je=Math.min(Te.e.r,8191),st=Te.s.r;st<=Je;++st)for(var Re=ti(st),fe=Te.s.c;fe<=Te.e.c;++fe){st===Te.s.r&&(Ve[fe]=yi(fe));var He=Ve[fe]+Re,mt=Me?(ge[st]||[])[fe]:ge[He];if(!(!mt||mt.t=="z"))if(mt.t=="n")at(U,23,F(st,fe,me,mt.v));else{var Ge=xo(mt);at(U,22,w(st,fe,me,Ge.slice(0,239)))}}++me}}return at(U,1),U.end()}function s(P){var B=je(2);return B.write_shift(2,P),B}function a(P){var B=je(26);B.write_shift(2,4096),B.write_shift(2,4),B.write_shift(4,0);for(var V=0,U=0,Y=0,pe=0;pe<P.SheetNames.length;++pe){var me=P.SheetNames[pe],ge=P.Sheets[me];if(!(!ge||!ge["!ref"])){++Y;var Te=xs(ge["!ref"]);V<Te.e.r&&(V=Te.e.r),U<Te.e.c&&(U=Te.e.c)}}return V>8191&&(V=8191),B.write_shift(2,V),B.write_shift(1,Y),B.write_shift(1,U),B.write_shift(2,0),B.write_shift(2,0),B.write_shift(1,1),B.write_shift(1,2),B.write_shift(4,0),B.write_shift(4,0),B}function o(P,B,V){var U={s:{c:0,r:0},e:{c:0,r:0}};return B==8&&V.qpro?(U.s.c=P.read_shift(1),P.l++,U.s.r=P.read_shift(2),U.e.c=P.read_shift(1),P.l++,U.e.r=P.read_shift(2),U):(U.s.c=P.read_shift(2),U.s.r=P.read_shift(2),B==12&&V.qpro&&(P.l+=2),U.e.c=P.read_shift(2),U.e.r=P.read_shift(2),B==12&&V.qpro&&(P.l+=2),U.s.c==65535&&(U.s.c=U.e.c=U.s.r=U.e.r=0),U)}function l(P){var B=je(8);return B.write_shift(2,P.s.c),B.write_shift(2,P.s.r),B.write_shift(2,P.e.c),B.write_shift(2,P.e.r),B}function u(P,B,V){var U=[{c:0,r:0},{t:"n",v:0},0,0];return V.qpro&&V.vers!=20768?(U[0].c=P.read_shift(1),U[3]=P.read_shift(1),U[0].r=P.read_shift(2),P.l+=2):(U[2]=P.read_shift(1),U[0].c=P.read_shift(2),U[0].r=P.read_shift(2)),U}function c(P,B,V){var U=P.l+B,Y=u(P,B,V);if(Y[1].t="s",V.vers==20768){P.l++;var pe=P.read_shift(1);return Y[1].v=P.read_shift(pe,"utf8"),Y}return V.qpro&&P.l++,Y[1].v=P.read_shift(U-P.l,"cstr"),Y}function p(P,B,V){var U=je(7+V.length);U.write_shift(1,255),U.write_shift(2,B),U.write_shift(2,P),U.write_shift(1,39);for(var Y=0;Y<U.length;++Y){var pe=V.charCodeAt(Y);U.write_shift(1,pe>=128?95:pe)}return U.write_shift(1,0),U}function m(P,B,V){var U=u(P,B,V);return U[1].v=P.read_shift(2,"i"),U}function d(P,B,V){var U=je(7);return U.write_shift(1,255),U.write_shift(2,B),U.write_shift(2,P),U.write_shift(2,V,"i"),U}function y(P,B,V){var U=u(P,B,V);return U[1].v=P.read_shift(8,"f"),U}function v(P,B,V){var U=je(13);return U.write_shift(1,255),U.write_shift(2,B),U.write_shift(2,P),U.write_shift(8,V,"f"),U}function T(P,B,V){var U=P.l+B,Y=u(P,B,V);if(Y[1].v=P.read_shift(8,"f"),V.qpro)P.l=U;else{var pe=P.read_shift(2);L(P.slice(P.l,P.l+pe),Y),P.l+=pe}return Y}function _(P,B,V){var U=B&32768;return B&=-32769,B=(U?P:0)+(B>=8192?B-16384:B),(U?"":"$")+(V?yi(B):ti(B))}var x={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},E=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function L(P,B){cs(P,0);for(var V=[],U=0,Y="",pe="",me="",ge="";P.l<P.length;){var Te=P[P.l++];switch(Te){case 0:V.push(P.read_shift(8,"f"));break;case 1:pe=_(B[0].c,P.read_shift(2),!0),Y=_(B[0].r,P.read_shift(2),!1),V.push(pe+Y);break;case 2:{var Me=_(B[0].c,P.read_shift(2),!0),Ve=_(B[0].r,P.read_shift(2),!1);pe=_(B[0].c,P.read_shift(2),!0),Y=_(B[0].r,P.read_shift(2),!1),V.push(Me+Ve+":"+pe+Y)}break;case 3:if(P.l<P.length){console.error("WK1 premature formula end");return}break;case 4:V.push("("+V.pop()+")");break;case 5:V.push(P.read_shift(2));break;case 6:{for(var Je="";Te=P[P.l++];)Je+=String.fromCharCode(Te);V.push('"'+Je.replace(/"/g,'""')+'"')}break;case 8:V.push("-"+V.pop());break;case 23:V.push("+"+V.pop());break;case 22:V.push("NOT("+V.pop()+")");break;case 20:case 21:ge=V.pop(),me=V.pop(),V.push(["AND","OR"][Te-20]+"("+me+","+ge+")");break;default:if(Te<32&&E[Te])ge=V.pop(),me=V.pop(),V.push(me+E[Te]+ge);else if(x[Te]){if(U=x[Te][1],U==69&&(U=P[P.l++]),U>V.length){console.error("WK1 bad formula parse 0x"+Te.toString(16)+":|"+V.join("|")+"|");return}var st=V.slice(-U);V.length-=U,V.push(x[Te][0]+"("+st.join(",")+")")}else return Te<=7?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=24?console.error("WK1 unsupported op "+Te.toString(16)):Te<=30?console.error("WK1 invalid opcode "+Te.toString(16)):Te<=115?console.error("WK1 unsupported function opcode "+Te.toString(16)):console.error("WK1 unrecognized opcode "+Te.toString(16))}}V.length==1?B[1].f=""+V[0]:console.error("WK1 bad formula parse |"+V.join("|")+"|")}function j(P){var B=[{c:0,r:0},{t:"n",v:0},0];return B[0].r=P.read_shift(2),B[3]=P[P.l++],B[0].c=P[P.l++],B}function z(P,B){var V=j(P);return V[1].t="s",V[1].v=P.read_shift(B-4,"cstr"),V}function w(P,B,V,U){var Y=je(6+U.length);Y.write_shift(2,P),Y.write_shift(1,V),Y.write_shift(1,B),Y.write_shift(1,39);for(var pe=0;pe<U.length;++pe){var me=U.charCodeAt(pe);Y.write_shift(1,me>=128?95:me)}return Y.write_shift(1,0),Y}function S(P,B){var V=j(P);V[1].v=P.read_shift(2);var U=V[1].v>>1;if(V[1].v&1)switch(U&7){case 0:U=(U>>3)*5e3;break;case 1:U=(U>>3)*500;break;case 2:U=(U>>3)/20;break;case 3:U=(U>>3)/200;break;case 4:U=(U>>3)/2e3;break;case 5:U=(U>>3)/2e4;break;case 6:U=(U>>3)/16;break;case 7:U=(U>>3)/64;break}return V[1].v=U,V}function I(P,B){var V=j(P),U=P.read_shift(4),Y=P.read_shift(4),pe=P.read_shift(2);if(pe==65535)return U===0&&Y===3221225472?(V[1].t="e",V[1].v=15):U===0&&Y===3489660928?(V[1].t="e",V[1].v=42):V[1].v=0,V;var me=pe&32768;return pe=(pe&32767)-16446,V[1].v=(1-me*2)*(Y*Math.pow(2,pe+32)+U*Math.pow(2,pe)),V}function F(P,B,V,U){var Y=je(14);if(Y.write_shift(2,P),Y.write_shift(1,V),Y.write_shift(1,B),U==0)return Y.write_shift(4,0),Y.write_shift(4,0),Y.write_shift(2,65535),Y;var pe=0,me=0,ge=0,Te=0;return U<0&&(pe=1,U=-U),me=Math.log2(U)|0,U/=Math.pow(2,me-31),Te=U>>>0,Te&2147483648||(U/=2,++me,Te=U>>>0),U-=Te,Te|=2147483648,Te>>>=0,U*=Math.pow(2,32),ge=U>>>0,Y.write_shift(4,ge),Y.write_shift(4,Te),me+=16383+(pe?32768:0),Y.write_shift(2,me),Y}function N(P,B){var V=I(P);return P.l+=B-14,V}function b(P,B){var V=j(P),U=P.read_shift(4);return V[1].v=U>>6,V}function D(P,B){var V=j(P),U=P.read_shift(8,"f");return V[1].v=U,V}function Z(P,B){var V=D(P);return P.l+=B-10,V}function de(P,B){return P[P.l+B-1]==0?P.read_shift(B,"cstr"):""}function se(P,B){var V=P[P.l++];V>B-1&&(V=B-1);for(var U="";U.length<V;)U+=String.fromCharCode(P[P.l++]);return U}function re(P,B,V){if(!(!V.qpro||B<21)){var U=P.read_shift(1);P.l+=17,P.l+=1,P.l+=2;var Y=P.read_shift(B-21,"cstr");return[U,Y]}}function X(P,B){for(var V={},U=P.l+B;P.l<U;){var Y=P.read_shift(2);if(Y==14e3){for(V[Y]=[0,""],V[Y][0]=P.read_shift(2);P[P.l];)V[Y][1]+=String.fromCharCode(P[P.l]),P.l++;P.l++}}return V}function ee(P,B){var V=je(5+P.length);V.write_shift(2,14e3),V.write_shift(2,B);for(var U=0;U<P.length;++U){var Y=P.charCodeAt(U);V[V.l++]=Y>127?95:Y}return V[V.l++]=0,V}var he={0:{n:"BOF",f:HA},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:m},14:{n:"NUMBER",f:y},15:{n:"LABEL",f:c},16:{n:"FORMULA",f:T},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:c},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:se},65535:{n:""}},we={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:z},23:{n:"NUMBER17",f:I},24:{n:"NUMBER18",f:S},25:{n:"FORMULA19",f:N},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:X},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:b},38:{n:"??"},39:{n:"NUMBER27",f:D},40:{n:"FORMULA28",f:Z},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:re},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}}(),v7=/^\s|\s$|[\t\n\r]/;function XA(t,e){if(!e.bookSST)return"";var r=[wn];r[r.length]=it("sst",null,{xmlns:Sf[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(v7)&&(s+=' xml:space="preserve"'),s+=">"+yr(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function y7(t){return[t.read_shift(4),t.read_shift(4)]}function x7(t,e){return e||(e=je(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var _7=cR;function w7(t){var e=Xi();qe(e,159,x7(t));for(var r=0;r<t.length;++r)qe(e,19,_7(t[r]));return qe(e,160),e.end()}function S7(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function YA(t){var e=0,r,n=S7(t),i=n.length+1,s,a,o,l,u;for(r=Pu(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=e&16384?1:0,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var E7=function(){function t(i,s){switch(s.type){case"base64":return e(yo(i),s);case"binary":return e(i,s);case"buffer":return e(ur&&Buffer.isBuffer(i)?i.toString("binary"):P0(i),s);case"array":return e(W1(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(c,p){Array.isArray(o)&&(o[p]=[]);for(var m=/\\\w+\b/g,d=0,y,v=-1;y=m.exec(c);){switch(y[0]){case"\\cell":var T=c.slice(d,m.lastIndex-y[0].length);if(T[0]==" "&&(T=T.slice(1)),++v,T.length){var _={v:T,t:"s"};Array.isArray(o)?o[p][v]=_:o[wr({r:p,c:v})]=_}break}d=m.lastIndex}v>u.e.c&&(u.e.c=v)}),o["!ref"]=_n(u),o}function r(i,s){return Bu(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Ur(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var c=a.s.c;c<=a.e.c;++c)s.push("\\cellx"+(c+1));for(s.push("\\pard\\intbl"),c=a.s.c;c<=a.e.c;++c){var p=wr({r:u,c});o=l?(i[u]||[])[c]:i[p],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(xo(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}}();function Iw(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}var A7=6,lo=A7;function n1(t){return Math.floor((t+Math.round(128/lo)/256)*lo)}function i1(t){return Math.floor((t-5)/lo*100+.5)/100}function z2(t){return Math.round((t*lo+5)/lo*256)/256}function B5(t){t.width?(t.wpx=n1(t.width),t.wch=i1(t.wpx),t.MDW=lo):t.wpx?(t.wch=i1(t.wpx),t.width=z2(t.wch),t.MDW=lo):typeof t.wch=="number"&&(t.width=z2(t.wch),t.wpx=n1(t.width),t.MDW=lo),t.customWidth&&delete t.customWidth}var T7=96,QA=T7;function s1(t){return t*96/QA}function JA(t){return t*QA/96}function b7(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=it("numFmt",null,{numFmtId:n,formatCode:yr(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=it("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function N7(t){var e=[];return e[e.length]=it("cellXfs",null),t.forEach(function(r){e[e.length]=it("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=it("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}function ZA(t,e){var r=[wn,it("styleSheet",null,{xmlns:Sf[0],"xmlns:vt":On.vt})],n;return t.SSF&&(n=b7(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=N7(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function C7(t,e){var r=t.read_shift(2),n=xi(t);return[r,n]}function I7(t,e,r){r||(r=je(6+4*e.length)),r.write_shift(2,t),jn(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function P7(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=vR(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=gR(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=xi(t),n}function k7(t,e){e||(e=je(25+4*32)),e.write_shift(2,t.sz*20),yR(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),t1(t.color,e);var n=0;return n=2,e.write_shift(1,n),jn(t.name,e),e.length>e.l?e.slice(0,e.l):e}var L7=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],lg,F7=Ma;function Pw(t,e){e||(e=je(4*3+8*7+16*1)),lg||(lg=N5(L7));var r=lg[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(t1({auto:1},e),t1({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function R7(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function eT(t,e,r){r||(r=je(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function eh(t,e){return e||(e=je(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var D7=Ma;function O7(t,e){return e||(e=je(51)),e.write_shift(1,0),eh(null,e),eh(null,e),eh(null,e),eh(null,e),eh(null,e),e.length>e.l?e.slice(0,e.l):e}function M7(t,e){return e||(e=je(12+4*10)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),e1(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function j7(t,e,r){var n=je(2052);return n.write_shift(4,t),e1(e,n),e1(r,n),n.length>n.l?n.slice(0,n.l):n}function B7(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(qe(t,615,ca(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&qe(t,44,I7(i,e[i]))}),qe(t,616))}}function V7(t){var e=1;qe(t,611,ca(e)),qe(t,43,k7({sz:12,color:{theme:1},name:"Calibri",family:2})),qe(t,612)}function U7(t){var e=2;qe(t,603,ca(e)),qe(t,45,Pw({patternType:"none"})),qe(t,45,Pw({patternType:"gray125"})),qe(t,604)}function z7(t){var e=1;qe(t,613,ca(e)),qe(t,46,O7()),qe(t,614)}function H7(t){var e=1;qe(t,626,ca(e)),qe(t,47,eT({numFmtId:0},65535)),qe(t,627)}function W7(t,e){qe(t,617,ca(e.length)),e.forEach(function(r){qe(t,47,eT(r,0))}),qe(t,618)}function q7(t){var e=1;qe(t,619,ca(e)),qe(t,48,M7({xfId:0,name:"Normal"})),qe(t,620)}function G7(t){var e=0;qe(t,505,ca(e)),qe(t,506)}function $7(t){var e=0;qe(t,508,j7(e,"TableStyleMedium9","PivotStyleMedium4")),qe(t,509)}function K7(t,e){var r=Xi();return qe(r,278),B7(r,t.SSF),V7(r),U7(r),z7(r),H7(r),W7(r,e.cellXfs),q7(r),G7(r),$7(r),qe(r,279),r.end()}function tT(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[wn];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface="ＭＳ Ｐゴシック"/>',r[r.length]='<a:font script="Hang" typeface="맑은 고딕"/>',r[r.length]='<a:font script="Hans" typeface="宋体"/>',r[r.length]='<a:font script="Hant" typeface="新細明體"/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function X7(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:xi(t)}}function Y7(t){var e=je(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),jn(t.name,e),e.slice(0,e.l)}function Q7(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function J7(t){var e=je(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function Z7(t,e){var r=je(8+2*e.length);return r.write_shift(4,t),jn(e,r),r.slice(0,r.l)}function eD(t){return t.l+=4,t.read_shift(4)!=0}function tD(t,e){var r=je(8);return r.write_shift(4,t),r.write_shift(4,1),r}function rD(){var t=Xi();return qe(t,332),qe(t,334,ca(1)),qe(t,335,Y7({name:"XLDAPR",version:12e4,flags:3496657072})),qe(t,336),qe(t,339,Z7(1,"XLDAPR")),qe(t,52),qe(t,35,ca(514)),qe(t,4096,ca(0)),qe(t,4097,Ls(1)),qe(t,36),qe(t,53),qe(t,340),qe(t,337,tD(1)),qe(t,51,J7([[1,0]])),qe(t,338),qe(t,333),t.end()}function rT(){var t=[wn];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function nD(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=wr(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}var Mc=1024;function nT(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[it("xml",null,{"xmlns:v":fs.v,"xmlns:o":fs.o,"xmlns:x":fs.x,"xmlns:mv":fs.mv}).replace(/\/>/,">"),it("o:shapelayout",it("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),it("v:shapetype",[it("v:stroke",null,{joinstyle:"miter"}),it("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Mc<t*1e3;)Mc+=1e3;return e.forEach(function(s){var a=Mn(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?it("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=it("v:fill",l,o),c={on:"t",obscured:"t"};++Mc,i=i.concat(["<v:shape"+d0({id:"_x0000_s"+Mc,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,it("v:shadow",null,c),it("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",Jn("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),Jn("x:AutoFill","False"),Jn("x:Row",String(a.r)),Jn("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function iT(t){var e=[wn,it("comments",null,{xmlns:Sf[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=yr(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(yr(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(Jn("t",yr(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(Jn("t",yr(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function iD(t,e,r){var n=[wn,it("ThreadedComments",null,{xmlns:On.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(it("threadedComment",Jn("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function sD(t){var e=[wn,it("personList",null,{xmlns:On.TCMNT,"xmlns:x":Sf[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(it("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function aD(t){var e={};e.iauthor=t.read_shift(4);var r=Hu(t);return e.rfx=r.s,e.ref=wr(r.s),t.l+=16,e}function oD(t,e){return e==null&&(e=je(36)),e.write_shift(4,t[1].iauthor),Af(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var lD=xi;function uD(t){return jn(t.slice(0,54))}function cD(t){var e=Xi(),r=[];return qe(e,628),qe(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),qe(e,632,uD(i.a)))})}),qe(e,631),qe(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:Mn(n[0]),e:Mn(n[0])};qe(e,635,oD([s,i])),i.t&&i.t.length>0&&qe(e,637,hR(i)),qe(e,636),delete i.iauthor})}),qe(e,634),qe(e,629),e.end()}function fD(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&br.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var sT=["xlsb","xlsm","xlam","biff8","xla"],hD=function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,c=a.length>0?parseInt(a,10)|0:0;return o?c+=e.c:--c,l?u+=e.r:--u,i+(o?"":"$")+yi(c)+(l?"":"$")+ti(u)}return function(i,s){return e=s,i.replace(t,r)}}(),V5=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,U5=function(){return function(e,r){return e.replace(V5,function(n,i,s,a,o,l){var u=R5(a)-(s?0:r.c),c=F5(l)-(o?0:r.r),p=c==0?"":o?c+1:"["+c+"]",m=u==0?"":s?u+1:"["+u+"]";return i+"R"+p+"C"+m})}}();function dD(t,e){return t.replace(V5,function(r,n,i,s,a,o){return n+(i=="$"?i+s:yi(R5(s)+e.c))+(a=="$"?a+o:ti(F5(o)+e.r))})}function pD(t){return t.length!=1}function pn(t){t.l+=1}function Ll(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function aT(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return oT(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=Ll(t),o=Ll(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function oT(t){var e=Ll(t),r=Ll(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function mD(t,e,r){if(r.biff<8)return oT(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=Ll(t),a=Ll(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function lT(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return gD(t);var n=t.read_shift(r&&r.biff==12?4:2),i=Ll(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function gD(t){var e=Ll(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function vD(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function yD(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return xD(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function xD(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function _D(t,e,r){var n=(t[t.l++]&96)>>5,i=aT(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function wD(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=aT(t,s,r);return[n,i,a]}function SD(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function ED(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function AD(t,e,r){var n=(t[t.l++]&96)>>5,i=mD(t,e-1,r);return[n,i]}function TD(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function kw(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function bD(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function ND(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function CD(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function ID(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function PD(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function uT(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function kD(t){return t.read_shift(2),uT(t)}function LD(t){return t.read_shift(2),uT(t)}function FD(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=lT(t,0,r);return[n,i]}function RD(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=yD(t,0,r);return[n,i]}function DD(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=lT(t,0,r);return[n,i,s]}function OD(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[OO[i],hT[i],n]}function MD(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:jD(t);return[i,(s[0]===0?hT:DO)[s[1]]]}function jD(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function BD(t,e,r){t.l+=r&&r.biff==2?3:4}function VD(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function UD(t){return t.l++,F0[t.read_shift(1)]}function zD(t){return t.l++,t.read_shift(2)}function HD(t){return t.l++,t.read_shift(1)!==0}function WD(t){return t.l++,Tf(t)}function qD(t,e,r){return t.l++,qA(t,e-1,r)}function GD(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=DR(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=F0[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Tf(t);break;case 2:r[1]=BR(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function $D(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Hu:zR)(t));return i}function KD(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=GD(t,r.biff);return a}function XD(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function YD(t,e,r){if(r.biff==5)return QD(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function QD(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function JD(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function ZD(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function eO(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function tO(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var rO=Ma,nO=Ma,iO=Ma;function R0(t,e,r){return t.l+=2,[vD(t)]}function z5(t){return t.l+=6,[]}var sO=R0,aO=z5,oO=z5,lO=R0;function cT(t){return t.l+=2,[HA(t),t.read_shift(2)&1]}var uO=R0,cO=cT,fO=z5,hO=R0,dO=R0,pO=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function mO(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=pO[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function gO(t){return t.l+=2,[t.read_shift(4)]}function vO(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function yO(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function xO(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function _O(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function wO(t){return t.l+=4,[0,0]}var Lw={1:{n:"PtgExp",f:VD},2:{n:"PtgTbl",f:iO},3:{n:"PtgAdd",f:pn},4:{n:"PtgSub",f:pn},5:{n:"PtgMul",f:pn},6:{n:"PtgDiv",f:pn},7:{n:"PtgPower",f:pn},8:{n:"PtgConcat",f:pn},9:{n:"PtgLt",f:pn},10:{n:"PtgLe",f:pn},11:{n:"PtgEq",f:pn},12:{n:"PtgGe",f:pn},13:{n:"PtgGt",f:pn},14:{n:"PtgNe",f:pn},15:{n:"PtgIsect",f:pn},16:{n:"PtgUnion",f:pn},17:{n:"PtgRange",f:pn},18:{n:"PtgUplus",f:pn},19:{n:"PtgUminus",f:pn},20:{n:"PtgPercent",f:pn},21:{n:"PtgParen",f:pn},22:{n:"PtgMissArg",f:pn},23:{n:"PtgStr",f:qD},26:{n:"PtgSheet",f:vO},27:{n:"PtgEndSheet",f:yO},28:{n:"PtgErr",f:UD},29:{n:"PtgBool",f:HD},30:{n:"PtgInt",f:zD},31:{n:"PtgNum",f:WD},32:{n:"PtgArray",f:TD},33:{n:"PtgFunc",f:OD},34:{n:"PtgFuncVar",f:MD},35:{n:"PtgName",f:XD},36:{n:"PtgRef",f:FD},37:{n:"PtgArea",f:_D},38:{n:"PtgMemArea",f:JD},39:{n:"PtgMemErr",f:rO},40:{n:"PtgMemNoMem",f:nO},41:{n:"PtgMemFunc",f:ZD},42:{n:"PtgRefErr",f:eO},43:{n:"PtgAreaErr",f:SD},44:{n:"PtgRefN",f:RD},45:{n:"PtgAreaN",f:AD},46:{n:"PtgMemAreaN",f:xO},47:{n:"PtgMemNoMemN",f:_O},57:{n:"PtgNameX",f:YD},58:{n:"PtgRef3d",f:DD},59:{n:"PtgArea3d",f:wD},60:{n:"PtgRefErr3d",f:tO},61:{n:"PtgAreaErr3d",f:ED},255:{}},SO={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},EO={1:{n:"PtgElfLel",f:cT},2:{n:"PtgElfRw",f:hO},3:{n:"PtgElfCol",f:sO},6:{n:"PtgElfRwV",f:dO},7:{n:"PtgElfColV",f:lO},10:{n:"PtgElfRadical",f:uO},11:{n:"PtgElfRadicalS",f:fO},13:{n:"PtgElfColS",f:aO},15:{n:"PtgElfColSV",f:oO},16:{n:"PtgElfRadicalLel",f:cO},25:{n:"PtgList",f:mO},29:{n:"PtgSxName",f:gO},255:{}},AO={0:{n:"PtgAttrNoop",f:wO},1:{n:"PtgAttrSemi",f:PD},2:{n:"PtgAttrIf",f:CD},4:{n:"PtgAttrChoose",f:bD},8:{n:"PtgAttrGoto",f:ND},16:{n:"PtgAttrSum",f:BD},32:{n:"PtgAttrBaxcel",f:kw},33:{n:"PtgAttrBaxcel",f:kw},64:{n:"PtgAttrSpace",f:kD},65:{n:"PtgAttrSpaceSemi",f:LD},128:{n:"PtgAttrIfError",f:ID},255:{}};function TO(t,e,r,n){if(n.biff<8)return Ma(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=KD(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=$D(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Ma(t,e)),s}function bO(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=Lw[s]||Lw[SO[s]],(s===24||s===25)&&(i=(s===24?EO:AO)[t[t.l+1]]),!i||!i.f?Ma(t,e):a.push([i.n,i.f(t,e,r)]);return a}function NO(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var CO={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function IO(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function fT(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function Fw(t,e,r){var n=fT(t,e,r);return n=="#REF"?n:IO(n,r)}function ff(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,c,p=0,m=0,d,y="";if(!t[0]||!t[0][0])return"";for(var v=-1,T="",_=0,x=t[0].length;_<x;++_){var E=t[0][_];switch(E[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),v>=0){switch(t[0][v][1][0]){case 0:T=tn(" ",t[0][v][1][1]);break;case 1:T=tn("\r",t[0][v][1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}u=u+T,v=-1}o.push(u+CO[E[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":c=Ph(E[1][1],a,i),o.push(kh(c,s));break;case"PtgRefN":c=r?Ph(E[1][1],r,i):E[1][1],o.push(kh(c,s));break;case"PtgRef3d":p=E[1][1],c=Ph(E[1][2],a,i),y=Fw(n,p,i),o.push(y+"!"+kh(c,s));break;case"PtgFunc":case"PtgFuncVar":var L=E[1][0],j=E[1][1];L||(L=0),L&=127;var z=L==0?[]:o.slice(-L);o.length-=L,j==="User"&&(j=z.shift()),o.push(j+"("+z.join(",")+")");break;case"PtgBool":o.push(E[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(E[1]);break;case"PtgNum":o.push(String(E[1]));break;case"PtgStr":o.push('"'+E[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(E[1]);break;case"PtgAreaN":d=vw(E[1][1],r?{s:r}:a,i),o.push(ag(d,i));break;case"PtgArea":d=vw(E[1][1],a,i),o.push(ag(d,i));break;case"PtgArea3d":p=E[1][1],d=E[1][2],y=Fw(n,p,i),o.push(y+"!"+ag(d,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":m=E[1][2];var w=(n.names||[])[m-1]||(n[0]||[])[m],S=w?w.Name:"SH33TJSNAME"+String(m);S&&S.slice(0,6)=="_xlfn."&&!i.xlfn&&(S=S.slice(6)),o.push(S);break;case"PtgNameX":var I=E[1][1];m=E[1][2];var F;if(i.biff<=5)I<0&&(I=-I),n[I]&&(F=n[I][m]);else{var N="";if(((n[I]||[])[0]||[])[0]==14849||(((n[I]||[])[0]||[])[0]==1025?n[I][m]&&n[I][m].itab>0&&(N=n.SheetNames[n[I][m].itab-1]+"!"):N=n.SheetNames[m-1]+"!"),n[I]&&n[I][m])N+=n[I][m].Name;else if(n[0]&&n[0][m])N+=n[0][m].Name;else{var b=(fT(n,I,i)||"").split(";;");b[m-1]?N=b[m-1]:N+="SH33TJSERRX"}o.push(N);break}F||(F={Name:"SH33TJSERRY"}),o.push(F.Name);break;case"PtgParen":var D="(",Z=")";if(v>=0){switch(T="",t[0][v][1][0]){case 2:D=tn(" ",t[0][v][1][1])+D;break;case 3:D=tn("\r",t[0][v][1][1])+D;break;case 4:Z=tn(" ",t[0][v][1][1])+Z;break;case 5:Z=tn("\r",t[0][v][1][1])+Z;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][v][1][0])}v=-1}o.push(D+o.pop()+Z);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":c={c:E[1][1],r:E[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[wr(c)]){var se=n.sharedf[wr(c)];o.push(ff(se,a,de,n,i))}else{var re=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(c.c<u[0].s.c||c.c>u[0].e.c)&&!(c.r<u[0].s.r||c.r>u[0].e.r)){o.push(ff(u[1],a,de,n,i)),re=!0;break}re||o.push(E[1])}break;case"PtgArray":o.push("{"+NO(E[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":v=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+E[1].idx+"[#"+E[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(E));default:throw new Error("Unrecognized Formula Token: "+String(E))}var X=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&v>=0&&X.indexOf(t[0][_][0])==-1){E=t[0][v];var ee=!0;switch(E[1][0]){case 4:ee=!1;case 0:T=tn(" ",E[1][1]);break;case 5:ee=!1;case 1:T=tn("\r",E[1][1]);break;default:if(T="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+E[1][0])}o.push((ee?T:"")+o.pop()+(ee?"":T)),v=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function PO(t){if(t==null){var e=je(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return ku(t);return ku(0)}function kO(t,e,r,n,i){var s=Lu(e,r,i),a=PO(t.v),o=je(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=je(t.bf.length),c=0;c<t.bf.length;++c)u[c]=t.bf[c];var p=Qn([s,a,o,u]);return p}function q1(t,e,r){var n=t.read_shift(4),i=bO(t,n,r),s=t.read_shift(4),a=s>0?TO(t,s,i,r):null;return[i,a]}var LO=q1,G1=q1,FO=q1,RO=q1,DO={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hT={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},OO={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function MO(t){var e="of:="+t.replace(V5,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function jO(t){return t.replace(/\./,"!")}var Lh=typeof Map<"u";function H5(t,e,r){var n=0,i=t.length;if(r){if(Lh?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=Lh?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(Lh?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function $1(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(lo=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=i1(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=z2(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function dT(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function jl(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){lA(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function BO(t,e,r){if(t&&t["!ref"]){var n=Ur(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function VO(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+_n(t[r])+'"/>';return e+"</mergeCells>"}function UO(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=h0(yr(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+it("outlinePr",null,u)}!s&&!o||(i[i.length]=it("sheetPr",o,a))}var zO=["objects","scenarios","selectLockedCells","selectUnlockedCells"],HO=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function WO(t){var e={sheet:1};return zO.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),HO.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=YA(t.password).toString(16).toUpperCase()),it("sheetProtection",null,e)}function qO(t){return dT(t),it("pageMargins",null,t)}function GO(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=it("col",null,$1(i,n)));return r[r.length]="</cols>",r.join("")}function $O(t,e,r,n){var i=typeof t.ref=="string"?t.ref:_n(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=xs(i);a.s.r==a.e.r&&(a.e.r=xs(e["!ref"]).e.r,i=_n(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),it("autoFilter",null,{ref:i})}function KO(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),it("sheetViews",it("sheetView",null,i),{})}function XO(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=F0[t.v];break;case"d":n&&n.cellDates?i=Li(t.v,-1).toISOString():(t=Qi(t),t.t="n",i=""+(t.v=Yi(Li(t.v)))),typeof t.z>"u"&&(t.z=rn[14]);break;default:i=t.v;break}var o=Jn("v",yr(i)),l={r:e},u=jl(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=Jn("v",""+H5(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var c=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=it("f",yr(t.f),c)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),it("c",o,l)}function YO(t,e,r,n){var i=[],s=[],a=Ur(t["!ref"]),o="",l,u="",c=[],p=0,m=0,d=t["!rows"],y=Array.isArray(t),v={r:u},T,_=-1;for(m=a.s.c;m<=a.e.c;++m)c[m]=yi(m);for(p=a.s.r;p<=a.e.r;++p){for(s=[],u=ti(p),m=a.s.c;m<=a.e.c;++m){l=c[m]+u;var x=y?(t[p]||[])[m]:t[l];x!==void 0&&(o=XO(x,l,t,e))!=null&&s.push(o)}(s.length>0||d&&d[p])&&(v={r:u},d&&d[p]&&(T=d[p],T.hidden&&(v.hidden=1),_=-1,T.hpx?_=s1(T.hpx):T.hpt&&(_=T.hpt),_>-1&&(v.ht=_,v.customHeight=1),T.level&&(v.outlineLevel=T.level)),i[i.length]=it("row",s.join(""),v))}if(d)for(;p<d.length;++p)d&&d[p]&&(v={r:p+1},T=d[p],T.hidden&&(v.hidden=1),_=-1,T.hpx?_=s1(T.hpx):T.hpt&&(_=T.hpt),_>-1&&(v.ht=_,v.customHeight=1),T.level&&(v.outlineLevel=T.level),i[i.length]=it("row","",v));return i.join("")}function pT(t,e,r,n){var i=[wn,it("worksheet",null,{xmlns:Sf[0],"xmlns:r":On.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",c=Ur(u);if(c.e.c>16383||c.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");c.e.c=Math.min(c.e.c,16383),c.e.r=Math.min(c.e.c,1048575),u=_n(c)}n||(n={}),l["!comments"]=[];var p=[];UO(l,r,t,e,i),i[i.length]=it("dimension",null,{ref:u}),i[i.length]=KO(l,e,t,r),e.sheetFormat&&(i[i.length]=it("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=GO(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=YO(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=WO(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=$O(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=VO(l["!merges"]));var m=-1,d,y=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(v){v[1].Target&&(d={ref:v[0]},v[1].Target.charAt(0)!="#"&&(y=gr(n,-1,yr(v[1].Target).replace(/#.*$/,""),sr.HLINK),d["r:id"]="rId"+y),(m=v[1].Target.indexOf("#"))>-1&&(d.location=yr(v[1].Target.slice(m+1))),v[1].Tooltip&&(d.tooltip=yr(v[1].Tooltip)),i[i.length]=it("hyperlink",null,d))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=qO(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=Jn("ignoredErrors",it("ignoredError",null,{numberStoredAsText:1,sqref:u}))),p.length>0&&(y=gr(n,-1,"../drawings/drawing"+(t+1)+".xml",sr.DRAW),i[i.length]=it("drawing",null,{"r:id":"rId"+y}),l["!drawing"]=p),l["!comments"].length>0&&(y=gr(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",sr.VML),i[i.length]=it("legacyDrawing",null,{"r:id":"rId"+y}),l["!legacy"]=y),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function QO(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function JO(t,e,r){var n=je(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=s1(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},c=0;c<16;++c)if(!(e.s.c>c+1<<10||e.e.c<c<<10)){for(var p=-1,m=-1,d=c<<10;d<c+1<<10;++d){u.c=d;var y=Array.isArray(r)?(r[u.r]||[])[u.c]:r[wr(u)];y&&(p<0&&(p=d),m=d)}p<0||(++o,n.write_shift(4,p),n.write_shift(4,m))}var v=n.l;return n.l=l,n.write_shift(4,o),n.l=v,n.length>n.l?n.slice(0,n.l):n}function ZO(t,e,r,n){var i=JO(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&qe(t,0,i)}var e9=Hu,t9=Af;function r9(){}function n9(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=dR(t),r}function i9(t,e,r){r==null&&(r=je(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return t1({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),IA(t,r),r.slice(0,r.l)}function s9(t){var e=Bs(t);return[e]}function a9(t,e,r){return r==null&&(r=je(8)),Vu(e,r)}function o9(t){var e=Uu(t);return[e]}function l9(t,e,r){return r==null&&(r=je(4)),zu(e,r)}function u9(t){var e=Bs(t),r=t.read_shift(1);return[e,r,"b"]}function c9(t,e,r){return r==null&&(r=je(9)),Vu(e,r),r.write_shift(1,t.v?1:0),r}function f9(t){var e=Uu(t),r=t.read_shift(1);return[e,r,"b"]}function h9(t,e,r){return r==null&&(r=je(5)),zu(e,r),r.write_shift(1,t.v?1:0),r}function d9(t){var e=Bs(t),r=t.read_shift(1);return[e,r,"e"]}function p9(t,e,r){return r==null&&(r=je(9)),Vu(e,r),r.write_shift(1,t.v),r}function m9(t){var e=Uu(t),r=t.read_shift(1);return[e,r,"e"]}function g9(t,e,r){return r==null&&(r=je(8)),zu(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function v9(t){var e=Bs(t),r=t.read_shift(4);return[e,r,"s"]}function y9(t,e,r){return r==null&&(r=je(12)),Vu(e,r),r.write_shift(4,e.v),r}function x9(t){var e=Uu(t),r=t.read_shift(4);return[e,r,"s"]}function _9(t,e,r){return r==null&&(r=je(8)),zu(e,r),r.write_shift(4,e.v),r}function w9(t){var e=Bs(t),r=Tf(t);return[e,r,"n"]}function S9(t,e,r){return r==null&&(r=je(16)),Vu(e,r),ku(t.v,r),r}function E9(t){var e=Uu(t),r=Tf(t);return[e,r,"n"]}function A9(t,e,r){return r==null&&(r=je(12)),zu(e,r),ku(t.v,r),r}function T9(t){var e=Bs(t),r=PA(t);return[e,r,"n"]}function b9(t,e,r){return r==null&&(r=je(12)),Vu(e,r),kA(t.v,r),r}function N9(t){var e=Uu(t),r=PA(t);return[e,r,"n"]}function C9(t,e,r){return r==null&&(r=je(8)),zu(e,r),kA(t.v,r),r}function I9(t){var e=Bs(t),r=D5(t);return[e,r,"is"]}function P9(t){var e=Bs(t),r=xi(t);return[e,r,"str"]}function k9(t,e,r){return r==null&&(r=je(12+4*t.v.length)),Vu(e,r),jn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function L9(t){var e=Uu(t),r=xi(t);return[e,r,"str"]}function F9(t,e,r){return r==null&&(r=je(8+4*t.v.length)),zu(e,r),jn(t.v,r),r.length>r.l?r.slice(0,r.l):r}function R9(t,e,r){var n=t.l+e,i=Bs(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=G1(t,n-t.l,r);a[3]=ff(o,null,i,r.supbooks,r)}else t.l=n;return a}function D9(t,e,r){var n=t.l+e,i=Bs(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=G1(t,n-t.l,r);a[3]=ff(o,null,i,r.supbooks,r)}else t.l=n;return a}function O9(t,e,r){var n=t.l+e,i=Bs(t);i.r=r["!row"];var s=Tf(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=G1(t,n-t.l,r);a[3]=ff(o,null,i,r.supbooks,r)}else t.l=n;return a}function M9(t,e,r){var n=t.l+e,i=Bs(t);i.r=r["!row"];var s=xi(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=G1(t,n-t.l,r);a[3]=ff(o,null,i,r.supbooks,r)}else t.l=n;return a}var j9=Hu,B9=Af;function V9(t,e){return e==null&&(e=je(4)),e.write_shift(4,t),e}function U9(t,e){var r=t.l+e,n=Hu(t),i=O5(t),s=xi(t),a=xi(t),o=xi(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function z9(t,e){var r=je(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Af({s:Mn(t[0]),e:Mn(t[0])},r),M5("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return jn(i||"",r),jn(t[1].Tooltip||"",r),jn("",r),r.slice(0,r.l)}function H9(){}function W9(t,e,r){var n=t.l+e,i=LA(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=LO(t,n-t.l,r);a[1]=o}else t.l=n;return a}function q9(t,e,r){var n=t.l+e,i=Hu(t),s=[i];if(r.cellFormula){var a=RO(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function G9(t,e,r){r==null&&(r=je(18));var n=$1(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var mT=["left","right","top","bottom","header","footer"];function $9(t){var e={};return mT.forEach(function(r){e[r]=Tf(t)}),e}function K9(t,e){return e==null&&(e=je(6*8)),dT(t),mT.forEach(function(r){ku(t[r],e)}),e}function X9(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function Y9(t,e,r){r==null&&(r=je(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function Q9(t){var e=je(24);return e.write_shift(4,4),e.write_shift(4,1),Af(t,e),e}function J9(t,e){return e==null&&(e=je(16*4+2)),e.write_shift(2,t.password?YA(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function Z9(){}function eM(){}function tM(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Qi(e),e.z=e.z||rn[14],e.v=Yi(Li(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=jl(i.cellXfs,e,i),e.l&&s["!links"].push([wr(l),e.l]),e.c&&s["!comments"].push([wr(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=H5(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?qe(t,18,_9(e,l)):qe(t,7,y9(e,l))):(l.t="str",a?qe(t,17,F9(e,l)):qe(t,6,k9(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?qe(t,13,C9(e,l)):qe(t,2,b9(e,l)):a?qe(t,16,A9(e,l)):qe(t,5,S9(e,l)),!0;case"b":return l.t="b",a?qe(t,15,h9(e,l)):qe(t,4,c9(e,l)),!0;case"e":return l.t="e",a?qe(t,14,g9(e,l)):qe(t,3,p9(e,l)),!0}return a?qe(t,12,l9(e,l)):qe(t,1,a9(e,l)),!0}function rM(t,e,r,n){var i=Ur(e["!ref"]||"A1"),s,a="",o=[];qe(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var c=i.s.r;c<=u;++c){a=ti(c),ZO(t,e,i,c);var p=!1;if(c<=i.e.r)for(var m=i.s.c;m<=i.e.c;++m){c===i.s.r&&(o[m]=yi(m)),s=o[m]+a;var d=l?(e[c]||[])[m]:e[s];if(!d){p=!1;continue}p=tM(t,d,c,m,n,e,p)}}qe(t,146)}function nM(t,e){!e||!e["!merges"]||(qe(t,177,V9(e["!merges"].length)),e["!merges"].forEach(function(r){qe(t,176,B9(r))}),qe(t,178))}function iM(t,e){!e||!e["!cols"]||(qe(t,390),e["!cols"].forEach(function(r,n){r&&qe(t,60,G9(n,r))}),qe(t,391))}function sM(t,e){!e||!e["!ref"]||(qe(t,648),qe(t,649,Q9(Ur(e["!ref"]))),qe(t,650))}function aM(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=gr(r,-1,n[1].Target.replace(/#.*$/,""),sr.HLINK);qe(t,494,z9(n,i))}}),delete e["!links"]}function oM(t,e,r,n){if(e["!comments"].length>0){var i=gr(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",sr.VML);qe(t,551,M5("rId"+i)),e["!legacy"]=i}}function lM(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:_n(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=xs(s);o.s.r==o.e.r&&(o.e.r=xs(e["!ref"]).e.r,s=_n(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),qe(t,161,Af(Ur(s))),qe(t,162)}}function uM(t,e,r){qe(t,133),qe(t,137,Y9(e,r)),qe(t,138),qe(t,134)}function cM(t,e){e["!protect"]&&qe(t,535,J9(e["!protect"]))}function fM(t,e,r,n){var i=Xi(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Ur(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],qe(i,129),(r.vbaraw||a["!outline"])&&qe(i,147,i9(o,a["!outline"])),qe(i,148,t9(l)),uM(i,a,r.Workbook),iM(i,a),rM(i,a,t,e),cM(i,a),lM(i,a,r,t),nM(i,a),aM(i,a,n),a["!margins"]&&qe(i,476,K9(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&sM(i,a),oM(i,a,t,n),qe(i,130),i.end()}function hM(t,e){t.l+=10;var r=xi(t);return{name:r}}var dM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]];function pM(t){return!t.Workbook||!t.Workbook.WBProps?"false":qF(t.Workbook.WBProps.date1904)?"true":"false"}var mM="][*?/\\".split("");function gT(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return mM.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function gM(t,e,r){t.forEach(function(n,i){gT(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function vM(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];gM(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)BO(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}function vT(t){var e=[wn];e[e.length]=it("workbook",null,{xmlns:Sf[0],"xmlns:r":On.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(dM.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=it("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:yr(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=it("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=it("definedName",yr(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function yM(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=U2(t),r.name=xi(t),r}function xM(t,e){return e||(e=je(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),M5(t.strRelID,e),jn(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function _M(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?xi(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function wM(t,e){e||(e=je(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),IA(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function SM(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=pR(t),a=FO(t,0,r),o=O5(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function EM(t,e){qe(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};qe(t,156,xM(i))}qe(t,144)}function AM(t,e){e||(e=je(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return jn("SheetJS",e),jn($p.version,e),jn($p.version,e),jn("7262",e),e.length>e.l?e.slice(0,e.l):e}function TM(t,e){e||(e=je(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function bM(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(qe(t,135),qe(t,158,TM(i)),qe(t,136))}}function NM(t,e){var r=Xi();return qe(r,131),qe(r,128,AM()),qe(r,153,wM(t.Workbook&&t.Workbook.WBProps||null)),bM(r,t),EM(r,t),qe(r,132),r.end()}function CM(t,e,r){return(e.slice(-4)===".bin"?NM:vT)(t)}function IM(t,e,r,n,i){return(e.slice(-4)===".bin"?fM:pT)(t,r,n,i)}function PM(t,e,r){return(e.slice(-4)===".bin"?K7:ZA)(t,r)}function kM(t,e,r){return(e.slice(-4)===".bin"?w7:XA)(t,r)}function LM(t,e,r){return(e.slice(-4)===".bin"?cD:iT)(t)}function FM(t){return(t.slice(-4)===".bin"?rD:rT)()}function RM(t,e){var r=[];return t.Props&&r.push(PR(t.Props,e)),t.Custprops&&r.push(kR(t.Props,t.Custprops)),r.join("")}function DM(){return""}function OM(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(it("NumberFormat",null,{"ss:Format":yr(rn[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(it("Style",s.join(""),a))}),it("Styles",r.join(""))}function yT(t){return it("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+U5(t.Ref,{r:0,c:0})})}function MM(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(yT(i)))}return it("Names",r.join(""))}function jM(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(yT(o)))}return s.join("")}function BM(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(it("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(it("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(it("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(it("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(Jn("ProtectContents","True")),t["!protect"].objects&&i.push(Jn("ProtectObjects","True")),t["!protect"].scenarios&&i.push(Jn("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(Jn("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(Jn("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":it("WorksheetOptions",i.join(""),{xmlns:fs.x})}function VM(t){return t.map(function(e){var r=WF(e.t||""),n=it("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return it("Comment",n,{"ss:Author":e.a})}).join("")}function UM(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+yr(U5(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=Mn(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=yr(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=yr(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],c=0;c!=u.length;++c)u[c].s.c!=a.c||u[c].s.r!=a.r||(u[c].e.c>u[c].s.c&&(o["ss:MergeAcross"]=u[c].e.c-u[c].s.c),u[c].e.r>u[c].s.r&&(o["ss:MergeDown"]=u[c].e.r-u[c].s.r));var p="",m="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":p="Number",m=String(t.v);break;case"b":p="Boolean",m=t.v?"1":"0";break;case"e":p="Error",m=F0[t.v];break;case"d":p="DateTime",m=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||rn[14]);break;case"s":p="String",m=HF(t.v||"");break}var d=jl(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+d),o["ss:Index"]=a.c+1;var y=t.v!=null?m:"",v=t.t=="z"?"":'<Data ss:Type="'+p+'">'+y+"</Data>";return(t.c||[]).length>0&&(v+=VM(t.c)),it("Cell",v,o)}function zM(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=JA(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function HM(t,e,r,n){if(!t["!ref"])return"";var i=Ur(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(T,_){B5(T);var x=!!T.width,E=$1(_,T),L={"ss:Index":_+1};x&&(L["ss:Width"]=n1(E.width)),T.hidden&&(L["ss:Hidden"]="1"),o.push(it("Column",null,L))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var c=[zM(u,(t["!rows"]||[])[u])],p=i.s.c;p<=i.e.c;++p){var m=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>p)&&!(s[a].s.r>u)&&!(s[a].e.c<p)&&!(s[a].e.r<u)){(s[a].s.c!=p||s[a].s.r!=u)&&(m=!0);break}if(!m){var d={r:u,c:p},y=wr(d),v=l?(t[u]||[])[p]:t[y];c.push(UM(v,y,t,e,r,n,d))}}c.push("</Row>"),c.length>2&&o.push(c.join(""))}return o.join("")}function WM(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?jM(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?HM(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(BM(s,e,t,r)),n.join("")}function qM(t,e){e||(e={}),t.SSF||(t.SSF=Qi(rn)),t.SSF&&(z1(),U1(t.SSF),e.revssf=H1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],jl(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(RM(t,e)),r.push(DM()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(it("Worksheet",WM(n,e,t),{"ss:Name":yr(t.SheetNames[n])}));return r[2]=OM(t,e),r[3]=MM(t),wn+it("Workbook",r.join(""),{xmlns:fs.ss,"xmlns:o":fs.o,"xmlns:x":fs.x,"xmlns:ss":fs.ss,"xmlns:dt":fs.dt,"xmlns:html":fs.html})}var ug={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function GM(t,e){var r=[],n=[],i=[],s=0,a,o=aw(xw,"n"),l=aw(_w,"n");if(t.Props)for(a=ii(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=ii(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)zA.indexOf(i[s][0])>-1||BA.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&br.utils.cfb_add(e,"/SummaryInformation",Tw(n,ug.SI,l,_w)),(r.length||u.length)&&br.utils.cfb_add(e,"/DocumentSummaryInformation",Tw(r,ug.DSI,o,xw,u.length?u:null,ug.UDI))}function $M(t,e){var r=e||{},n=br.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return br.utils.cfb_add(n,i,xT(t,r)),r.biff==8&&(t.Props||t.Custprops)&&GM(t,n),r.biff==8&&t.vbaraw&&fD(n,br.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var KM={0:{f:QO},1:{f:s9},2:{f:T9},3:{f:d9},4:{f:u9},5:{f:w9},6:{f:P9},7:{f:v9},8:{f:M9},9:{f:O9},10:{f:R9},11:{f:D9},12:{f:o9},13:{f:N9},14:{f:m9},15:{f:f9},16:{f:E9},17:{f:L9},18:{f:x9},19:{f:D5},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:SM},40:{},42:{},43:{f:P7},44:{f:C7},45:{f:F7},46:{f:D7},47:{f:R7},48:{},49:{f:oR},50:{},51:{f:Q7},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:l7},62:{f:I9},63:{f:nD},64:{f:Z9},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ma,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:X9},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:n9},148:{f:e9,p:16},151:{f:H9},152:{},153:{f:_M},154:{},155:{},156:{f:yM},157:{},158:{},159:{T:1,f:y7},160:{T:-1},161:{T:1,f:Hu},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:j9},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:X7},336:{T:-1},337:{f:eD,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:U2},357:{},358:{},359:{},360:{T:1},361:{},362:{f:r7},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:W9},427:{f:q9},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:$9},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:r9},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:U9},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:U2},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:lD},633:{T:1},634:{T:-1},635:{T:1,f:aD},636:{T:-1},637:{f:fR},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:hM},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:eM},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}};function at(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&L5(r)&&t.push(r)}}function XM(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return at(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var c=t.next(4);for(c.write_shift(2,s),c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(c=t.next(4),c.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;c.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function D0(t,e,r){return t||(t=je(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function YM(t,e,r,n){var i=je(9);return D0(i,t,e),WA(r,n||"b",i),i}function QM(t,e,r){var n=je(8+2*r.length);return D0(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function JM(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?Yi(Li(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?at(t,2,h7(r,n,i)):at(t,3,f7(r,n,i));return;case"b":case"e":at(t,5,YM(r,n,e.v,e.t));return;case"s":case"str":at(t,4,QM(r,n,(e.v||"").slice(0,255)));return}at(t,1,D0(null,r,n))}function ZM(t,e,r,n){var i=Array.isArray(e),s=Ur(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=_n(s)}for(var u=s.s.r;u<=s.e.r;++u){o=ti(u);for(var c=s.s.c;c<=s.e.c;++c){u===s.s.r&&(l[c]=yi(c)),a=l[c]+o;var p=i?(e[u]||[])[c]:e[a];p&&JM(t,p,u,c)}}}function ej(t,e){for(var r=e||{},n=Xi(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return at(n,r.biff==4?1033:r.biff==3?521:9,j5(t,16,r)),ZM(n,t.Sheets[t.SheetNames[i]],i,r),at(n,10),n.end()}function tj(t,e,r){at(t,49,KR({sz:12,name:"Arial"},r))}function rj(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&at(t,1054,QR(i,e[i],r))})}function nj(t,e){var r=je(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),at(t,2151,r),r=je(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),$A(Ur(e["!ref"]||"A1"),r),r.write_shift(4,4),at(t,2152,r)}function ij(t,e){for(var r=0;r<16;++r)at(t,224,Nw({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){at(t,224,Nw(n,0,e))})}function sj(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];at(t,440,s7(n)),n[1].Tooltip&&at(t,2048,a7(n))}delete e["!links"]}function aj(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&at(t,125,u7($1(i,n),i))})}}function oj(t,e,r,n,i){var s=16+jl(i.cellXfs,e,i);if(e.v==null&&!e.bf){at(t,513,Lu(r,n,s));return}if(e.bf)at(t,6,kO(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?Yi(Li(e.v)):e.v;at(t,515,t7(r,n,a,s));break;case"b":case"e":at(t,517,e7(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=H5(i.Strings,e.v,i.revStrings);at(t,253,XR(r,n,o,s))}else at(t,516,YR(r,n,(e.v||"").slice(0,255),s,i));break;default:at(t,513,Lu(r,n,s))}}function lj(t,e,r){var n=Xi(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,c,p="",m=[],d=Ur(s["!ref"]||"A1"),y=u?65536:16384;if(d.e.c>255||d.e.r>=y){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");d.e.c=Math.min(d.e.c,255),d.e.r=Math.min(d.e.c,y-1)}at(n,2057,j5(r,16,e)),at(n,13,Ls(1)),at(n,12,Ls(100)),at(n,15,Pi(!0)),at(n,17,Pi(!1)),at(n,16,ku(.001)),at(n,95,Pi(!0)),at(n,42,Pi(!1)),at(n,43,Pi(!1)),at(n,130,Ls(1)),at(n,128,ZR()),at(n,131,Pi(!1)),at(n,132,Pi(!1)),u&&aj(n,s["!cols"]),at(n,512,JR(d,e)),u&&(s["!links"]=[]);for(var v=d.s.r;v<=d.e.r;++v){p=ti(v);for(var T=d.s.c;T<=d.e.c;++T){v===d.s.r&&(m[T]=yi(T)),c=m[T]+p;var _=l?(s[v]||[])[T]:s[c];_&&(oj(n,_,v,T,e),u&&_.l&&s["!links"].push([c,_.l]))}}var x=o.CodeName||o.name||i;return u&&at(n,574,$R((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&at(n,229,i7(s["!merges"])),u&&sj(n,s),at(n,442,GA(x)),u&&nj(n,s),at(n,10),n.end()}function uj(t,e,r){var n=Xi(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(at(n,2057,j5(t,5,r)),r.bookType=="xla"&&at(n,135),at(n,225,o?Ls(1200):null),at(n,193,RR(2)),l&&at(n,191),l&&at(n,192),at(n,226),at(n,92,HR("SheetJS",r)),at(n,66,Ls(o?1200:1252)),o&&at(n,353,Ls(0)),o&&at(n,448),at(n,317,c7(t.SheetNames.length)),o&&t.vbaraw&&at(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";at(n,442,GA(u))}at(n,156,Ls(17)),at(n,25,Pi(!1)),at(n,18,Pi(!1)),at(n,19,Ls(0)),o&&at(n,431,Pi(!1)),o&&at(n,444,Ls(0)),at(n,61,GR()),at(n,64,Pi(!1)),at(n,141,Ls(0)),at(n,34,Pi(pM(t)=="true")),at(n,14,Pi(!0)),o&&at(n,439,Pi(!1)),at(n,218,Ls(0)),tj(n,t,r),rj(n,t.SSF,r),ij(n,r),o&&at(n,352,Pi(!1));var c=n.end(),p=Xi();o&&at(p,140,o7()),o&&r.Strings&&XM(p,252,qR(r.Strings)),at(p,10);var m=p.end(),d=Xi(),y=0,v=0;for(v=0;v<t.SheetNames.length;++v)y+=(o?12:11)+(o?2:1)*t.SheetNames[v].length;var T=c.length+y+m.length;for(v=0;v<t.SheetNames.length;++v){var _=s[v]||{};at(d,133,WR({pos:T,hs:_.Hidden||0,dt:0,name:t.SheetNames[v]},r)),T+=e[v].length}var x=d.end();if(y!=x.length)throw new Error("BS8 "+y+" != "+x.length);var E=[];return c.length&&E.push(c),x.length&&E.push(x),m.length&&E.push(m),Qn(E)}function cj(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Qi(rn)),t&&t.SSF&&(z1(),U1(t.SSF),r.revssf=H1(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,W5(r),r.cellXfs=[],jl(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=lj(i,r,t);return n.unshift(uj(t,n,r)),Qn(n)}function xT(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=xs(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return cj(t,e);case 4:case 3:case 2:return ej(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function fj(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var c=wr({r,c:a}),p=n.dense?(t[r]||[])[a]:t[c],m=p&&p.v!=null&&(p.h||zF(p.w||(xo(p),p.w)||""))||"",d={};o>1&&(d.rowspan=o),l>1&&(d.colspan=l),n.editable?m='<span contenteditable="true">'+m+"</span>":p&&(d["data-t"]=p&&p.t||"z",p.v!=null&&(d["data-v"]=p.v),p.z!=null&&(d["data-z"]=p.z),p.l&&(p.l.Target||"#").charAt(0)!="#"&&(m='<a href="'+p.l.Target+'">'+m+"</a>")),d.id=(n.id||"sjs")+"-"+c,s.push(it("td",m,d))}}var y="<tr>";return y+s.join("")+"</tr>"}var hj='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',dj="</body></html>";function pj(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function _T(t,e){var r=e||{},n=r.header!=null?r.header:hj,i=r.footer!=null?r.footer:dj,s=[n],a=xs(t["!ref"]);r.dense=Array.isArray(t),s.push(pj(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(fj(t,a,o,r));return s.push("</table>"+i),s.join("")}function wT(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?Mn(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var c=xs(t["!ref"]);u.s.r=Math.min(u.s.r,c.s.r),u.s.c=Math.min(u.s.c,c.s.c),u.e.r=Math.max(u.e.r,c.e.r),u.e.c=Math.max(u.e.c,c.e.c),i==-1&&(u.e.r=i=c.e.r+1)}var p=[],m=0,d=t["!rows"]||(t["!rows"]=[]),y=0,v=0,T=0,_=0,x=0,E=0;for(t["!cols"]||(t["!cols"]=[]);y<o.length&&v<l;++y){var L=o[y];if(Rw(L)){if(n.display)continue;d[v]={hidden:!0}}var j=L.children;for(T=_=0;T<j.length;++T){var z=j[T];if(!(n.display&&Rw(z))){var w=z.hasAttribute("data-v")?z.getAttribute("data-v"):z.hasAttribute("v")?z.getAttribute("v"):GF(z.innerHTML),S=z.getAttribute("data-z")||z.getAttribute("z");for(m=0;m<p.length;++m){var I=p[m];I.s.c==_+s&&I.s.r<v+i&&v+i<=I.e.r&&(_=I.e.c+1-s,m=-1)}E=+z.getAttribute("colspan")||1,((x=+z.getAttribute("rowspan")||1)>1||E>1)&&p.push({s:{r:v+i,c:_+s},e:{r:v+i+(x||1)-1,c:_+s+(E||1)-1}});var F={t:"s",v:w},N=z.getAttribute("data-t")||z.getAttribute("t")||"";w!=null&&(w.length==0?F.t=N||"z":n.raw||w.trim().length==0||N=="s"||(w==="TRUE"?F={t:"b",v:!0}:w==="FALSE"?F={t:"b",v:!1}:isNaN(oo(w))?isNaN(f0(w).getDate())||(F={t:"d",v:Li(w)},n.cellDates||(F={t:"n",v:Yi(F.v)}),F.z=n.dateNF||rn[14]):F={t:"n",v:oo(w)})),F.z===void 0&&S!=null&&(F.z=S);var b="",D=z.getElementsByTagName("A");if(D&&D.length)for(var Z=0;Z<D.length&&!(D[Z].hasAttribute("href")&&(b=D[Z].getAttribute("href"),b.charAt(0)!="#"));++Z);b&&b.charAt(0)!="#"&&(F.l={Target:b}),n.dense?(t[v+i]||(t[v+i]=[]),t[v+i][_+s]=F):t[wr({c:_+s,r:v+i})]=F,u.e.c<_+s&&(u.e.c=_+s),_+=E}}++v}return p.length&&(t["!merges"]=(t["!merges"]||[]).concat(p)),u.e.r=Math.max(u.e.r,v-1+i),t["!ref"]=_n(u),v>=l&&(t["!fullref"]=_n((u.e.r=o.length-y+v-1+i,u))),t}function ST(t,e){var r=e||{},n=r.dense?[]:{};return wT(n,t,e)}function mj(t,e){return Bu(ST(t,e),e)}function Rw(t){var e="",r=gj(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function gj(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}var vj=function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+d0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return wn+e}}(),Dw=function(){var t=function(s){return yr(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+yr(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,c=0,p=xs(s["!ref"]||"A1"),m=s["!merges"]||[],d=0,y=Array.isArray(s);if(s["!cols"])for(c=0;c<=p.e.c;++c)l.push("        <table:table-column"+(s["!cols"][c]?' table:style-name="co'+s["!cols"][c].ods+'"':"")+`></table:table-column>
`);var v="",T=s["!rows"]||[];for(u=0;u<p.s.r;++u)v=T[u]?' table:style-name="ro'+T[u].ods+'"':"",l.push("        <table:table-row"+v+`></table:table-row>
`);for(;u<=p.e.r;++u){for(v=T[u]?' table:style-name="ro'+T[u].ods+'"':"",l.push("        <table:table-row"+v+`>
`),c=0;c<p.s.c;++c)l.push(e);for(;c<=p.e.c;++c){var _=!1,x={},E="";for(d=0;d!=m.length;++d)if(!(m[d].s.c>c)&&!(m[d].s.r>u)&&!(m[d].e.c<c)&&!(m[d].e.r<u)){(m[d].s.c!=c||m[d].s.r!=u)&&(_=!0),x["table:number-columns-spanned"]=m[d].e.c-m[d].s.c+1,x["table:number-rows-spanned"]=m[d].e.r-m[d].s.r+1;break}if(_){l.push(r);continue}var L=wr({r:u,c}),j=y?(s[u]||[])[c]:s[L];if(j&&j.f&&(x["table:formula"]=yr(MO(j.f)),j.F&&j.F.slice(0,L.length)==L)){var z=xs(j.F);x["table:number-matrix-columns-spanned"]=z.e.c-z.s.c+1,x["table:number-matrix-rows-spanned"]=z.e.r-z.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":E=j.v?"TRUE":"FALSE",x["office:value-type"]="boolean",x["office:boolean-value"]=j.v?"true":"false";break;case"n":E=j.w||String(j.v||0),x["office:value-type"]="float",x["office:value"]=j.v||0;break;case"s":case"str":E=j.v==null?"":j.v,x["office:value-type"]="string";break;case"d":E=j.w||Li(j.v).toISOString(),x["office:value-type"]="date",x["office:date-value"]=Li(j.v).toISOString(),x["table:style-name"]="ce1";break;default:l.push(e);continue}var w=t(E);if(j.l&&j.l.Target){var S=j.l.Target;S=S.charAt(0)=="#"?"#"+jO(S.slice(1)):S,S.charAt(0)!="#"&&!S.match(/^\w+:/)&&(S="../"+S),w=it("text:a",w,{"xlink:href":S.replace(/&/g,"&amp;")})}l.push("          "+it("table:table-cell",it("text:p",w,{}),x)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var c=0;c<u["!cols"].length;++c)if(u["!cols"][c]){var p=u["!cols"][c];if(p.width==null&&p.wpx==null&&p.wch==null)continue;B5(p),p.ods=o;var m=u["!cols"][c].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+m+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var c=0;c<u["!rows"].length;++c)if(u["!rows"][c]){u["!rows"][c].ods=l;var p=u["!rows"][c].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+p+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[wn],u=d0({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),c=d0({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+c+`>
`),l.push(MA().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var p=0;p!=a.SheetNames.length;++p)l.push(n(a.Sheets[a.SheetNames[p]],a,p));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}}();function ET(t,e){if(e.bookType=="fods")return Dw(t,e);var r=C5(),n="",i=[],s=[];return n="mimetype",Wt(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",Wt(r,n,Dw(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",Wt(r,n,vj(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",Wt(r,n,wn+MA()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",Wt(r,n,IR(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",Wt(r,n,NR(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function a1(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yj(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):sa(h0(t))}function xj(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Fl(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function _j(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function p0(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function mr(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Xc(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Tn(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=p0(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=p0(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Gn(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(mr(n*8+i.type)),i.type==2&&e.push(mr(i.data.length)),e.push(i.data))})}),Fl(e)}function Zs(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=p0(t,n),s=Tn(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:Xc(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Tn(o.data),u=Xc(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=Xc(s[3][0].data)>>>0>0),r.push(a)}return r}function mc(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:mr(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:mr(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:mr(a.data.length)}],n[2].push({data:Gn(a.meta),type:2})});var s=Gn(n);e.push(mr(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Fl(e)}function wj(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=p0(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Fl(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var c=Fl(i);if(c.length!=n)throw new Error("Unexpected length: ".concat(c.length," != ").concat(n));return c}function ea(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(wj(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Fl(e)}function gc(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=mr(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Fl(e)}function cg(t,e){var r=new Uint8Array(32),n=a1(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,_j(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function fg(t,e){var r=new Uint8Array(32),n=a1(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Jo(t){var e=Tn(t);return p0(e[1][0].data)}function Sj(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Xc(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=a1(t[7][0].data),c=0,p=[],m=a1(t[4][0].data),d=0,y=[],v=0;v<e.length;++v){if(e[v]==null){u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535);continue}u.setUint16(v*2,c,!0),m.setUint16(v*2,d,!0);var T,_;switch(typeof e[v]){case"string":T=cg({t:"s",v:e[v]},r),_=fg({t:"s",v:e[v]},r);break;case"number":T=cg({t:"n",v:e[v]},r),_=fg({t:"n",v:e[v]},r);break;case"boolean":T=cg({t:"b",v:e[v]},r),_=fg({t:"b",v:e[v]},r);break;default:throw new Error("Unsupported value "+e[v])}p.push(T),c+=T.length,y.push(_),d+=_.length,++l}for(t[2][0].data=mr(l);v<t[7][0].data.length/2;++v)u.setUint16(v*2,65535,!0),m.setUint16(v*2,65535,!0);return t[6][0].data=Fl(p),t[3][0].data=Fl(y),l}function Ej(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=xs(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(_n(n)));var s=o1(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(B){return B.forEach(function(V){typeof V=="string"&&a.push(V)})});var o={},l=[],u=br.read(e.numbers,{type:"base64"});u.FileIndex.map(function(B,V){return[B,u.FullPaths[V]]}).forEach(function(B){var V=B[0],U=B[1];if(V.type==2&&V.name.match(/\.iwa/)){var Y=V.content,pe=ea(Y),me=Zs(pe);me.forEach(function(ge){l.push(ge.id),o[ge.id]={deps:[],location:U,type:Xc(ge.messages[0].meta[1][0].data)}})}}),l.sort(function(B,V){return B-V});var c=l.filter(function(B){return B>1}).map(function(B){return[B,mr(B)]});u.FileIndex.map(function(B,V){return[B,u.FullPaths[V]]}).forEach(function(B){var V=B[0];if(B[1],!!V.name.match(/\.iwa/)){var U=Zs(ea(V.content));U.forEach(function(Y){Y.messages.forEach(function(pe){c.forEach(function(me){Y.messages.some(function(ge){return Xc(ge.meta[1][0].data)!=11006&&xj(ge.data,me[1])})&&o[me[0]].deps.push(Y.id)})})})}});for(var p=br.find(u,o[1].location),m=Zs(ea(p.content)),d,y=0;y<m.length;++y){var v=m[y];v.id==1&&(d=v)}var T=Jo(Tn(d.messages[0].data)[1][0].data);for(p=br.find(u,o[T].location),m=Zs(ea(p.content)),y=0;y<m.length;++y)v=m[y],v.id==T&&(d=v);for(T=Jo(Tn(d.messages[0].data)[2][0].data),p=br.find(u,o[T].location),m=Zs(ea(p.content)),y=0;y<m.length;++y)v=m[y],v.id==T&&(d=v);for(T=Jo(Tn(d.messages[0].data)[2][0].data),p=br.find(u,o[T].location),m=Zs(ea(p.content)),y=0;y<m.length;++y)v=m[y],v.id==T&&(d=v);var _=Tn(d.messages[0].data);{_[6][0].data=mr(n.e.r+1),_[7][0].data=mr(n.e.c+1);var x=Jo(_[46][0].data),E=br.find(u,o[x].location),L=Zs(ea(E.content));{for(var j=0;j<L.length&&L[j].id!=x;++j);if(L[j].id!=x)throw"Bad ColumnRowUIDMapArchive";var z=Tn(L[j].messages[0].data);z[1]=[],z[2]=[],z[3]=[];for(var w=0;w<=n.e.c;++w){var S=[];S[1]=S[2]=[{type:0,data:mr(w+420690)}],z[1].push({type:2,data:Gn(S)}),z[2].push({type:0,data:mr(w)}),z[3].push({type:0,data:mr(w)})}z[4]=[],z[5]=[],z[6]=[];for(var I=0;I<=n.e.r;++I)S=[],S[1]=S[2]=[{type:0,data:mr(I+726270)}],z[4].push({type:2,data:Gn(S)}),z[5].push({type:0,data:mr(I)}),z[6].push({type:0,data:mr(I)});L[j].messages[0].data=Gn(z)}E.content=gc(mc(L)),E.size=E.content.length,delete _[46];var F=Tn(_[4][0].data);{F[7][0].data=mr(n.e.r+1);var N=Tn(F[1][0].data),b=Jo(N[2][0].data);E=br.find(u,o[b].location),L=Zs(ea(E.content));{if(L[0].id!=b)throw"Bad HeaderStorageBucket";var D=Tn(L[0].messages[0].data);for(I=0;I<s.length;++I){var Z=Tn(D[2][0].data);Z[1][0].data=mr(I),Z[4][0].data=mr(s[I].length),D[2][I]={type:D[2][0].type,data:Gn(Z)}}L[0].messages[0].data=Gn(D)}E.content=gc(mc(L)),E.size=E.content.length;var de=Jo(F[2][0].data);E=br.find(u,o[de].location),L=Zs(ea(E.content));{if(L[0].id!=de)throw"Bad HeaderStorageBucket";for(D=Tn(L[0].messages[0].data),w=0;w<=n.e.c;++w)Z=Tn(D[2][0].data),Z[1][0].data=mr(w),Z[4][0].data=mr(n.e.r+1),D[2][w]={type:D[2][0].type,data:Gn(Z)};L[0].messages[0].data=Gn(D)}E.content=gc(mc(L)),E.size=E.content.length;var se=Jo(F[4][0].data);(function(){for(var B=br.find(u,o[se].location),V=Zs(ea(B.content)),U,Y=0;Y<V.length;++Y){var pe=V[Y];pe.id==se&&(U=pe)}var me=Tn(U.messages[0].data);{me[3]=[];var ge=[];a.forEach(function(Ve,Je){ge[1]=[{type:0,data:mr(Je)}],ge[2]=[{type:0,data:mr(1)}],ge[3]=[{type:2,data:yj(Ve)}],me[3].push({type:2,data:Gn(ge)})})}U.messages[0].data=Gn(me);var Te=mc(V),Me=gc(Te);B.content=Me,B.size=B.content.length})();var re=Tn(F[3][0].data);{var X=re[1][0];delete re[2];var ee=Tn(X.data);{var he=Jo(ee[2][0].data);(function(){for(var B=br.find(u,o[he].location),V=Zs(ea(B.content)),U,Y=0;Y<V.length;++Y){var pe=V[Y];pe.id==he&&(U=pe)}var me=Tn(U.messages[0].data);{delete me[6],delete re[7];var ge=new Uint8Array(me[5][0].data);me[5]=[];for(var Te=0,Me=0;Me<=n.e.r;++Me){var Ve=Tn(ge);Te+=Sj(Ve,s[Me],a),Ve[1][0].data=mr(Me),me[5].push({data:Gn(Ve),type:2})}me[1]=[{type:0,data:mr(n.e.c+1)}],me[2]=[{type:0,data:mr(n.e.r+1)}],me[3]=[{type:0,data:mr(Te)}],me[4]=[{type:0,data:mr(n.e.r+1)}]}U.messages[0].data=Gn(me);var Je=mc(V),st=gc(Je);B.content=st,B.size=B.content.length})()}X.data=Gn(ee)}F[3][0].data=Gn(re)}_[4][0].data=Gn(F)}d.messages[0].data=Gn(_);var we=mc(m),P=gc(we);return p.content=P,p.size=p.content.length,u}function Aj(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function W5(t){Aj([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Tj(t,e){return e.bookType=="ods"?ET(t,e):e.bookType=="numbers"?Ej(t,e):e.bookType=="xlsb"?bj(t,e):Nj(t,e)}function bj(t,e){Mc=1024,t&&!t.SSF&&(t.SSF=Qi(rn)),t&&t.SSF&&(z1(),U1(t.SSF),e.revssf=H1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Lh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=sT.indexOf(e.bookType)>-1,i=RA();W5(e=e||{});var s=C5(),a="",o=0;if(e.cellXfs=[],jl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Wt(s,a,jA(t.Props,e)),i.coreprops.push(a),gr(e.rels,2,a,sr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,Wt(s,a,VA(t.Props)),i.extprops.push(a),gr(e.rels,3,a,sr.EXT_PROPS),t.Custprops!==t.Props&&ii(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Wt(s,a,UA(t.Custprops)),i.custprops.push(a),gr(e.rels,4,a,sr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var c={"!id":{}},p=t.Sheets[t.SheetNames[o-1]],m=(p||{})["!type"]||"sheet";switch(m){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Wt(s,a,IM(o-1,a,e,t,c)),i.sheets.push(a),gr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,sr.WS[0])}if(p){var d=p["!comments"],y=!1,v="";d&&d.length>0&&(v="xl/comments"+o+"."+r,Wt(s,v,LM(d,v)),i.comments.push(v),gr(c,-1,"../comments"+o+"."+r,sr.CMNT),y=!0),p["!legacy"]&&y&&Wt(s,"xl/drawings/vmlDrawing"+o+".vml",nT(o,p["!comments"])),delete p["!comments"],delete p["!legacy"]}c["!id"].rId1&&Wt(s,OA(a),$c(c))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Wt(s,a,kM(e.Strings,a,e)),i.strs.push(a),gr(e.wbrels,-1,"sharedStrings."+r,sr.SST)),a="xl/workbook."+r,Wt(s,a,CM(t,a)),i.workbooks.push(a),gr(e.rels,1,a,sr.WB),a="xl/theme/theme1.xml",Wt(s,a,tT(t.Themes,e)),i.themes.push(a),gr(e.wbrels,-1,"theme/theme1.xml",sr.THEME),a="xl/styles."+r,Wt(s,a,PM(t,a,e)),i.styles.push(a),gr(e.wbrels,-1,"styles."+r,sr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Wt(s,a,t.vbaraw),i.vba.push(a),gr(e.wbrels,-1,"vbaProject.bin",sr.VBA)),a="xl/metadata."+r,Wt(s,a,FM(a)),i.metadata.push(a),gr(e.wbrels,-1,"metadata."+r,sr.XLMETA),Wt(s,"[Content_Types].xml",DA(i,e)),Wt(s,"_rels/.rels",$c(e.rels)),Wt(s,"xl/_rels/workbook."+r+".rels",$c(e.wbrels)),delete e.revssf,delete e.ssf,s}function Nj(t,e){Mc=1024,t&&!t.SSF&&(t.SSF=Qi(rn)),t&&t.SSF&&(z1(),U1(t.SSF),e.revssf=H1(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,Lh?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=sT.indexOf(e.bookType)>-1,i=RA();W5(e=e||{});var s=C5(),a="",o=0;if(e.cellXfs=[],jl(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",Wt(s,a,jA(t.Props,e)),i.coreprops.push(a),gr(e.rels,2,a,sr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,Wt(s,a,VA(t.Props)),i.extprops.push(a),gr(e.rels,3,a,sr.EXT_PROPS),t.Custprops!==t.Props&&ii(t.Custprops||{}).length>0&&(a="docProps/custom.xml",Wt(s,a,UA(t.Custprops)),i.custprops.push(a),gr(e.rels,4,a,sr.CUST_PROPS));var c=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var p={"!id":{}},m=t.Sheets[t.SheetNames[o-1]],d=(m||{})["!type"]||"sheet";switch(d){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,Wt(s,a,pT(o-1,e,t,p)),i.sheets.push(a),gr(e.wbrels,-1,"worksheets/sheet"+o+"."+r,sr.WS[0])}if(m){var y=m["!comments"],v=!1,T="";if(y&&y.length>0){var _=!1;y.forEach(function(x){x[1].forEach(function(E){E.T==!0&&(_=!0)})}),_&&(T="xl/threadedComments/threadedComment"+o+"."+r,Wt(s,T,iD(y,c,e)),i.threadedcomments.push(T),gr(p,-1,"../threadedComments/threadedComment"+o+"."+r,sr.TCMNT)),T="xl/comments"+o+"."+r,Wt(s,T,iT(y)),i.comments.push(T),gr(p,-1,"../comments"+o+"."+r,sr.CMNT),v=!0}m["!legacy"]&&v&&Wt(s,"xl/drawings/vmlDrawing"+o+".vml",nT(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}p["!id"].rId1&&Wt(s,OA(a),$c(p))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,Wt(s,a,XA(e.Strings,e)),i.strs.push(a),gr(e.wbrels,-1,"sharedStrings."+r,sr.SST)),a="xl/workbook."+r,Wt(s,a,vT(t)),i.workbooks.push(a),gr(e.rels,1,a,sr.WB),a="xl/theme/theme1.xml",Wt(s,a,tT(t.Themes,e)),i.themes.push(a),gr(e.wbrels,-1,"theme/theme1.xml",sr.THEME),a="xl/styles."+r,Wt(s,a,ZA(t,e)),i.styles.push(a),gr(e.wbrels,-1,"styles."+r,sr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",Wt(s,a,t.vbaraw),i.vba.push(a),gr(e.wbrels,-1,"vbaProject.bin",sr.VBA)),a="xl/metadata."+r,Wt(s,a,rT()),i.metadata.push(a),gr(e.wbrels,-1,"metadata."+r,sr.XLMETA),c.length>1&&(a="xl/persons/person.xml",Wt(s,a,sD(c)),i.people.push(a),gr(e.wbrels,-1,"persons/person.xml",sr.PEOPLE)),Wt(s,"[Content_Types].xml",DA(i,e)),Wt(s,"_rels/.rels",$c(e.rels)),Wt(s,"xl/_rels/workbook."+r+".rels",$c(e.wbrels)),delete e.revssf,delete e.ssf,s}function Cj(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=yo(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function AT(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return k0(e.file,br.write(t,{type:ur?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return br.write(t,e)}function Ij(t,e){var r=Qi(e||{}),n=Tj(t,r);return Pj(n,r)}function Pj(t,e){var r={},n=ur?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?br.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(V1(i))}return e.password&&typeof encrypt_agile<"u"?AT(encrypt_agile(i,e.password),e):e.type==="file"?k0(e.file,i):e.type=="string"?Ch(i):i}function kj(t,e){var r=e||{},n=$M(t,r);return AT(n,r)}function ba(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return c0(h0(n));case"binary":return h0(n);case"string":return t;case"file":return k0(e.file,n,"utf8");case"buffer":return ur?wo(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):ba(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Lj(t,e){switch(e.type){case"base64":return c0(t);case"binary":return t;case"string":return t;case"file":return k0(e.file,t,"binary");case"buffer":return ur?wo(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function Ud(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?c0(r):e.type=="string"?Ch(r):r;case"file":return k0(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function TT(t,e){aF(),vM(t);var r=Qi(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=TT(t,r);return r.type="array",V1(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return ba(qM(t,r),r);case"slk":case"sylk":return ba(p7.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return ba(_T(t.Sheets[t.SheetNames[i]],r),r);case"txt":return Lj(NT(t.Sheets[t.SheetNames[i]],r),r);case"csv":return ba(q5(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return ba(m7.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return Ud(d7.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return ba(g7.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return ba(E7.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return ba(KA.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return ba(ET(t,r),r);case"wk1":return Ud(Cw.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return Ud(Cw.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),Ud(xT(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),kj(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return Ij(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function Fj(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function bT(t,e,r){var n={};return n.type="file",n.file=e,Fj(n),TT(t,n)}function Rj(t,e,r,n,i,s,a,o){var l=ti(r),u=o.defval,c=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),p=!0,m=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(m,"__rowNum__",{value:r,enumerable:!1})}catch{m.__rowNum__=r}else m.__rowNum__=r;if(!a||t[r])for(var d=e.s.c;d<=e.e.c;++d){var y=a?t[r][d]:t[n[d]+l];if(y===void 0||y.t===void 0){if(u===void 0)continue;s[d]!=null&&(m[s[d]]=u);continue}var v=y.v;switch(y.t){case"z":if(v==null)break;continue;case"e":v=v==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+y.t)}if(s[d]!=null){if(v==null)if(y.t=="e"&&v===null)m[s[d]]=null;else if(u!==void 0)m[s[d]]=u;else if(c&&v===null)m[s[d]]=null;else continue;else m[s[d]]=c&&(y.t!=="n"||y.t==="n"&&o.rawNumbers!==!1)?v:xo(y,v,o);v!=null&&(p=!1)}}return{row:m,isempty:p}}function o1(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},c=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof c){case"string":l=Ur(c);break;case"number":l=Ur(t["!ref"]),l.s.r=c;break;default:l=c}n>0&&(i=0);var p=ti(l.s.r),m=[],d=[],y=0,v=0,T=Array.isArray(t),_=l.s.r,x=0,E={};T&&!t[_]&&(t[_]=[]);var L=u.skipHidden&&t["!cols"]||[],j=u.skipHidden&&t["!rows"]||[];for(x=l.s.c;x<=l.e.c;++x)if(!(L[x]||{}).hidden)switch(m[x]=yi(x),r=T?t[_][x]:t[m[x]+p],n){case 1:s[x]=x-l.s.c;break;case 2:s[x]=m[x];break;case 3:s[x]=u.header[x-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=xo(r,null,u),v=E[a]||0,!v)E[a]=1;else{do o=a+"_"+v++;while(E[o]);E[a]=v,E[o]=1}s[x]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(j[_]||{}).hidden){var z=Rj(t,l,_,m,n,s,T,u);(z.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(d[y++]=z.row)}return d.length=y,d}var Ow=/"/g;function Dj(t,e,r,n,i,s,a,o){for(var l=!0,u=[],c="",p=ti(r),m=e.s.c;m<=e.e.c;++m)if(n[m]){var d=o.dense?(t[r]||[])[m]:t[n[m]+p];if(d==null)c="";else if(d.v!=null){l=!1,c=""+(o.rawNumbers&&d.t=="n"?d.v:xo(d,null,o));for(var y=0,v=0;y!==c.length;++y)if((v=c.charCodeAt(y))===i||v===s||v===34||o.forceQuotes){c='"'+c.replace(Ow,'""')+'"';break}c=="ID"&&(c='"ID"')}else d.f!=null&&!d.F?(l=!1,c="="+d.f,c.indexOf(",")>=0&&(c='"'+c.replace(Ow,'""')+'"')):c="";u.push(c)}return o.blankrows===!1&&l?null:u.join(a)}function q5(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Ur(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),c="",p=[];n.dense=Array.isArray(t);for(var m=n.skipHidden&&t["!cols"]||[],d=n.skipHidden&&t["!rows"]||[],y=i.s.c;y<=i.e.c;++y)(m[y]||{}).hidden||(p[y]=yi(y));for(var v=0,T=i.s.r;T<=i.e.r;++T)(d[T]||{}).hidden||(c=Dj(t,i,T,p,a,l,s,n),c!=null&&(n.strip&&(c=c.replace(u,"")),(c||n.blankrows!==!1)&&r.push((v++?o:"")+c)));return delete n.dense,r.join("")}function NT(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=q5(t,e);return r}function Oj(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Ur(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=yi(o);for(var c=i.s.r;c<=i.e.r;++c)for(s=ti(c),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[c]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function CT(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?Mn(n.origin):n.origin;a=l.r,o=l.c}var u,c={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var p=Ur(s["!ref"]);c.e.c=Math.max(c.e.c,p.e.c),c.e.r=Math.max(c.e.r,p.e.r),a==-1&&(a=p.e.r+1,c.e.r=a+e.length-1+i)}else a==-1&&(a=0,c.e.r=e.length-1+i);var m=n.header||[],d=0;e.forEach(function(v,T){ii(v).forEach(function(_){(d=m.indexOf(_))==-1&&(m[d=m.length]=_);var x=v[_],E="z",L="",j=wr({c:o+d,r:a+T+i});u=m0(s,j),x&&typeof x=="object"&&!(x instanceof Date)?s[j]=x:(typeof x=="number"?E="n":typeof x=="boolean"?E="b":typeof x=="string"?E="s":x instanceof Date?(E="d",n.cellDates||(E="n",x=Yi(x)),L=n.dateNF||rn[14]):x===null&&n.nullError&&(E="e",x=0),u?(u.t=E,u.v=x,delete u.w,delete u.R,L&&(u.z=L)):s[j]=u={t:E,v:x},L&&(u.z=L))})}),c.e.c=Math.max(c.e.c,o+m.length-1);var y=ti(a);if(i)for(d=0;d<m.length;++d)s[yi(d+o)+y]={t:"s",v:m[d]};return s["!ref"]=_n(c),s}function Mj(t,e){return CT(null,t,e)}function m0(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=Mn(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?m0(t,wr(e)):m0(t,wr({r:e,c:r||0}))}function jj(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function Bj(){return{SheetNames:[],Sheets:{}}}function Vj(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(gT(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Uj(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=jj(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function zj(t,e){return t.z=e,t}function IT(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Hj(t,e,r){return IT(t,"#"+e,r)}function Wj(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function qj(t,e,r,n){for(var i=typeof e!="string"?e:Ur(e),s=typeof e=="string"?e:_n(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=m0(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var gn={encode_col:yi,encode_row:ti,encode_cell:wr,encode_range:_n,decode_col:R5,decode_row:F5,split_cell:aR,decode_cell:Mn,decode_range:xs,format_cell:xo,sheet_add_aoa:CA,sheet_add_json:CT,sheet_add_dom:wT,aoa_to_sheet:Ef,json_to_sheet:Mj,table_to_sheet:ST,table_to_book:mj,sheet_to_csv:q5,sheet_to_txt:NT,sheet_to_json:o1,sheet_to_html:_T,sheet_to_formulae:Oj,sheet_to_row_object_array:o1,sheet_get_cell:m0,book_new:Bj,book_append_sheet:Vj,book_set_sheet_visibility:Uj,cell_set_number_format:zj,cell_set_hyperlink:IT,cell_set_internal_link:Hj,cell_add_comment:Wj,sheet_set_array_formula:qj,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const PT=t=>((t==null?void 0:t.name)||"").trim().toUpperCase()==="PROVA TECNICA",g0=t=>Array.isArray(t==null?void 0:t.periods)?t.periods.filter(e=>!PT(e)):[],Gj=t=>Array.isArray(t==null?void 0:t.periods)?t.periods.filter(e=>PT(e)):[],Pa=t=>Number.isFinite(t)?t:0,hf=t=>{const e=new Date(t);return Number.isFinite(e.getTime())?e.toLocaleDateString("it-IT"):""};function H2(t,e="Avversari"){const r=Pa(t.vigontina),n=Pa(t.opponent);return r===n?{label:"Pareggio",winner:"draw"}:r>n?{label:"Vigontina",winner:"vigontina"}:{label:e,winner:"opponent"}}function kT(t,e="Avversari"){const r=t.minute!=null?`${t.minute}'`:"",n=t.scorerName||t.scorer||"",i=t.assistName||(t.assist!=null?` (assist: ${t.assist})`:"");switch(t.type){case"goal":return`${r} - Gol ${n}${i?" "+i:""}`;case"own-goal":return`${r} - Autogol`;case"opponent-goal":return`${r} - Gol ${e}`;case"penalty-goal":return`${r} - Gol (Rig.) ${n}`;case"penalty-missed":return`${r} - Rigore fallito`;case"penalty-opponent-goal":return`${r} - Gol (Rig.) ${e}`;case"penalty-opponent-missed":return`${r} - Rigore fallito ${e}`;default:return`${r} - Evento`}}async function $j(t){try{const r=await(await fetch(t,{cache:"no-store"})).blob();return await new Promise(n=>{const i=new FileReader;i.onloadend=()=>n(i.result),i.readAsDataURL(r)})}catch{return null}}const zd=async(t,e={})=>{var re;if(!t)return;const r=t.opponent||"Avversari",n=new Ct({unit:"pt",format:"a4"}),i=n.internal.pageSize.getWidth(),s=28,a=Mr(t,"vigontina"),o=Mr(t,"opponent"),l=Nn(t,"vigontina"),u=Nn(t,"opponent"),c=s0(t),{resultText:p,isWin:m,isDraw:d}=bE(t),y=e.logoUrl??"/logo-vigontina.png",v=await $j(y);let T=s;const _=42,x=42;v&&n.addImage(v,"PNG",s,T,_,x,void 0,"FAST"),n.setFont("helvetica","bold"),n.setFontSize(18),n.text("VIGONTINA SAN PAOLO - REPORT PARTITA",i/2,T+18,{align:"center"}),T=Math.max(T+18,T+x)+12;const L=m?[220,252,231]:d?[254,249,195]:[254,226,226],j=m?[16,185,129]:d?[250,204,21]:[239,68,68],z=m?[4,120,87]:d?[161,98,7]:[153,27,27],w=s,S=i-s*2,I=28;n.setFillColor(...L),n.setDrawColor(...j),n.roundedRect(w,T,S,I,6,6,"FD"),n.setTextColor(...z),n.setFont("helvetica","bold"),n.setFontSize(13),n.text(p,w+10,T+19),n.setFont("helvetica","normal"),n.setTextColor(60,60,60),n.text(`Punti: Vigontina ${a} - ${o} ${r}`,w+S-10,T+19,{align:"right"}),n.setTextColor(0,0,0),T+=I+14,n.setFont("helvetica","normal"),n.setFontSize(11);const F=[`Vigontina San Paolo vs ${r}`,`${t.competition||""}${t.matchDay?` - Giornata ${t.matchDay}`:""}`,`${t.isHome?"Casa":"Trasferta"} - ${hf(t.date)}`];if(t.captain){const X=((re=xn.find(ee=>ee.num===t.captain))==null?void 0:re.name)||"";F.push(`Capitano: ${t.captain} ${X}`)}t.assistantReferee&&F.push(`Assistente Arbitro: ${t.assistantReferee}`),t.teamManager&&F.push(`Dirigente Accompagnatore: ${t.teamManager}`),F.forEach(X=>{n.text(X,s,T),T+=14}),n.setFont("helvetica","bold"),n.text(`Gol (senza PT): ${l} - ${u}`,s,T),T+=18,n.setFont("helvetica","bold"),n.text("DETTAGLIO PERIODI",s,T),T+=6,Sc(n,{startY:T,head:[["Periodo","Vigontina",r,"Completato","Esito"]],body:g0(t).map(X=>{const ee=(X==null?void 0:X.completed)===!0,he=H2(X,r).label;return[X.name||"",Pa(X.vigontina),Pa(X.opponent),ee?"Sì":"No",he]}),theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[54,96,146],textColor:255},margin:{left:s,right:s}}),T=n.lastAutoTable.finalY+14;const N=Gj(t);N.length>0&&(n.setFont("helvetica","bold"),n.text("PROVA TECNICA",s,T),T+=6,Sc(n,{startY:T,head:[["Periodo","Vigontina",r,"Esito"]],body:N.map(X=>{const ee=H2(X,r).label;return[X.name||"Prova Tecnica",Pa(X.vigontina),Pa(X.opponent),ee]}),theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[107,114,128],textColor:255},margin:{left:s,right:s}}),T=n.lastAutoTable.finalY+14);const b=Object.keys(c.scorers||{}).length>0,D=Object.keys(c.assisters||{}).length>0,Z=c.ownGoalsCount>0||c.penaltiesScored>0||c.penaltiesMissed>0;if(b){n.setFont("helvetica","bold"),n.text("MARCATORI",s,T),T+=6;const X=Object.entries(c.scorers).sort((ee,he)=>he[1]-ee[1]).map(([ee,he])=>{const we=xn.find(P=>P.num===parseInt(ee,10));return[`${ee} ${(we==null?void 0:we.name)||"Sconosciuto"}`,he]});Sc(n,{startY:T,head:[["Giocatore","Gol"]],body:X,theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[54,96,146],textColor:255},margin:{left:s,right:s}}),T=n.lastAutoTable.finalY+12}if(D){n.setFont("helvetica","bold"),n.text("ASSIST",s,T),T+=6;const X=Object.entries(c.assisters).sort((ee,he)=>he[1]-ee[1]).map(([ee,he])=>{const we=xn.find(P=>P.num===parseInt(ee,10));return[`${ee} ${(we==null?void 0:we.name)||"Sconosciuto"}`,he]});Sc(n,{startY:T,head:[["Giocatore","Assist"]],body:X,theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[54,96,146],textColor:255},margin:{left:s,right:s}}),T=n.lastAutoTable.finalY+12}Z&&(n.setFont("helvetica","bold"),n.text("ALTRI EVENTI",s,T),T+=14,n.setFont("helvetica","normal"),c.ownGoalsCount>0&&(n.text(`Autogol: ${c.ownGoalsCount}`,s,T),T+=14),c.penaltiesScored>0&&(n.text(`Rigori segnati: ${c.penaltiesScored}`,s,T),T+=14),c.penaltiesMissed>0&&(n.text(`Rigori sbagliati: ${c.penaltiesMissed}`,s,T),T+=14)),n.setFont("helvetica","bold"),n.text("CRONOLOGIA EVENTI",s,T),T+=6;const de=[];g0(t).forEach(X=>{const ee=Array.isArray(X.goals)?X.goals:[];ee.length===0&&X.vigontina===0&&X.opponent===0||(ee.length===0?de.push([X.name,"— nessun evento registrato —"]):ee.forEach((he,we)=>{de.push([we===0?X.name:"",kT(he,r)])}))}),de.length>0&&(Sc(n,{startY:T,head:[["Periodo","Evento"]],body:de,theme:"grid",styles:{fontSize:9,cellPadding:3},headStyles:{fillColor:[16,185,129],textColor:255},margin:{left:s,right:s}}),T=n.lastAutoTable.finalY+8),n.setFont("helvetica","italic"),n.setFontSize(9),n.text("Nota: i PUNTI considerano solo i tempi giocati (Prova Tecnica esclusa). I gol durante la Prova Tecnica non vengono calcolati.",s,Math.min(T,n.internal.pageSize.getHeight()-s));const se=`Vigontina_vs_${r.replace(/\s+/g,"_")}_${hf(t.date)}.pdf`;n.save(se)},Hd=t=>{var e;if(t)try{const r=gn.book_new(),n=t.opponent||"Avversari",i=Mr(t,"vigontina"),s=Mr(t,"opponent"),a=Nn(t,"vigontina"),o=Nn(t,"opponent"),l=s0(t),u=[["VIGONTINA SAN PAOLO - RIASSUNTO PARTITA"],[""],["Competizione",t.competition||""],["Giornata",t.matchDay??""],["Avversario",n],["Data",hf(t.date)],["Luogo",t.isHome?"Casa":"Trasferta"],["Capitano",t.captain?`${t.captain} ${((e=xn.find(x=>x.num===t.captain))==null?void 0:e.name)||""}`:""],["Assistente Arbitro",t.assistantReferee??""],["Dirigente Accompagnatore",t.teamManager??""],[""],["RISULTATO FINALE"],["Punti",`Vigontina ${i} - ${s} ${n}`],["Gol Totali (senza PT)",`${a} - ${o}`]],c=gn.aoa_to_sheet(u);gn.book_append_sheet(r,c,"Riassunto");const p=[["DETTAGLIO PERIODI"],[""],["Periodo","Vigontina",n,"Completato","Esito"],...g0(t).map(x=>{const E=(x==null?void 0:x.completed)===!0,L=H2(x,n).label;return[x.name||"",Pa(x.vigontina),Pa(x.opponent),E?"Sì":"No",L]})],m=gn.aoa_to_sheet(p);gn.book_append_sheet(r,m,"Periodi");const d=[["MARCATORI"],[""],["Numero","Giocatore","Gol"],...Object.entries(l.scorers).sort((x,E)=>E[1]-x[1]).map(([x,E])=>{const L=xn.find(j=>j.num===parseInt(x,10));return[x,(L==null?void 0:L.name)??"Sconosciuto",E]}),[""],["ASSIST"],[""],["Numero","Giocatore","Assist"],...Object.entries(l.assisters).sort((x,E)=>E[1]-x[1]).map(([x,E])=>{const L=xn.find(j=>j.num===parseInt(x,10));return[x,(L==null?void 0:L.name)??"Sconosciuto",E]})],y=gn.aoa_to_sheet(d);gn.book_append_sheet(r,y,"Marcatori");const v=[["CRONOLOGIA EVENTI"],[""],["Periodo","Minuto","Evento"]];g0(t).forEach(x=>{const E=Array.isArray(x.goals)?x.goals:[];E.length===0&&x.vigontina===0&&x.opponent===0||(E.length===0?v.push([x.name,"","— nessun evento registrato —"]):E.forEach((L,j)=>{v.push([j===0?x.name:"",L.minute!=null?`${L.minute}'`:"",kT(L,n)])}))});const T=gn.aoa_to_sheet(v);gn.book_append_sheet(r,T,"Eventi");const _=`Vigontina_vs_${(n||"").replace(/\s+/g,"_")}_${hf(t.date)}.xlsx`;bT(r,_)}catch(r){console.error("Errore export Excel:",r),alert(`❌ Errore durante l'esportazione Excel: ${r.message??"Errore sconosciuto"}`)}},Kj=t=>{if(!t||t.length===0){alert("⚠️ Nessuna partita da esportare");return}try{const e=gn.book_new(),r=[["VIGONTINA SAN PAOLO - STORICO PARTITE"],["Stagione 2025-2026"],[""],["Totale Partite",t.length],[""],["Data Esportazione",new Date().toLocaleDateString("it-IT")],[""],[""],["STATISTICHE GENERALI"],[""]];let n=0,i=0,s=0,a=0,o=0,l=0,u=0;t.forEach(w=>{const S=Mr(w,"vigontina"),I=Mr(w,"opponent"),F=Nn(w,"vigontina"),N=Nn(w,"opponent");l+=S,u+=I,a+=F,o+=N,S>I?n++:S===I?i++:s++}),r.push(["Partite Vinte",n],["Partite Pareggiate",i],["Partite Perse",s],[""],["Punti Totali Vigontina",l],["Punti Totali Avversari",u],[""],["Gol Totali Segnati",a],["Gol Totali Subiti",o],["Differenza Reti",a-o]);const c=gn.aoa_to_sheet(r);gn.book_append_sheet(e,c,"Riepilogo");const p=[["Data","Competizione","Giornata","Avversario","Casa/Trasferta","Punti Vigontina","Punti Avversario","Gol Vigontina","Gol Avversario","Risultato"]];t.sort((w,S)=>new Date(S.date)-new Date(w.date)).forEach(w=>{const S=Mr(w,"vigontina"),I=Mr(w,"opponent"),F=Nn(w,"vigontina"),N=Nn(w,"opponent"),b=S>I?"V":S===I?"P":"S";p.push([hf(w.date),w.competition||"",w.matchDay||"",w.opponent||"",w.isHome?"Casa":"Trasferta",S,I,F,N,b])});const m=gn.aoa_to_sheet(p);gn.book_append_sheet(e,m,"Tutte le Partite");const d={},y={};t.forEach(w=>{const S=s0(w);Object.entries(S.scorers).forEach(([I,F])=>{d[I]=(d[I]||0)+F}),Object.entries(S.assisters).forEach(([I,F])=>{y[I]=(y[I]||0)+F})});const v=[["CLASSIFICA MARCATORI - STAGIONE 2025-2026"],[""],["Posizione","Numero","Giocatore","Gol"]];Object.entries(d).sort((w,S)=>S[1]-w[1]).forEach(([w,S],I)=>{const F=xn.find(N=>N.num===parseInt(w,10));v.push([I+1,w,(F==null?void 0:F.name)||"Sconosciuto",S])}),v.push([""],[""],["CLASSIFICA ASSIST"],[""],["Posizione","Numero","Giocatore","Assist"]),Object.entries(y).sort((w,S)=>S[1]-w[1]).forEach(([w,S],I)=>{const F=xn.find(N=>N.num===parseInt(w,10));v.push([I+1,w,(F==null?void 0:F.name)||"Sconosciuto",S])});const T=gn.aoa_to_sheet(v);gn.book_append_sheet(e,T,"Classifica Marcatori");const _=[["DETTAGLIO COMPLETO PARTITE"],[""]];t.sort((w,S)=>new Date(S.date)-new Date(w.date)).forEach((w,S)=>{const I=Mr(w,"vigontina"),F=Mr(w,"opponent"),N=Nn(w,"vigontina"),b=Nn(w,"opponent"),D=I>F?"VITTORIA":I===F?"PAREGGIO":"SCONFITTA";_.push([`PARTITA ${S+1}`],["Data",hf(w.date)],["Competizione",`${w.competition||""}${w.matchDay?` - Giornata ${w.matchDay}`:""}`],["Avversario",w.opponent||""],["Luogo",w.isHome?"Casa":"Trasferta"],["Risultato",D],["Punti",`${I} - ${F}`],["Gol",`${N} - ${b}`],[""]),w.periods&&w.periods.length>0&&(_.push(["Dettaglio Periodi"]),g0(w).forEach(de=>{_.push([de.name,`${Pa(de.vigontina)} - ${Pa(de.opponent)}`])}),_.push([""]));const Z=s0(w);Object.keys(Z.scorers).length>0&&(_.push(["Marcatori"]),Object.entries(Z.scorers).forEach(([de,se])=>{const re=xn.find(X=>X.num===parseInt(de,10));_.push([`${de} ${(re==null?void 0:re.name)||""}`,se])})),_.push([""],[""],[""])});const x=gn.aoa_to_sheet(_);gn.book_append_sheet(e,x,"Dettaglio Partite");const E={};t.forEach(w=>{const S=w.opponent||"Sconosciuto";E[S]||(E[S]={matches:0,wins:0,draws:0,losses:0,goalsFor:0,goalsAgainst:0,pointsFor:0,pointsAgainst:0});const I=Mr(w,"vigontina"),F=Mr(w,"opponent"),N=Nn(w,"vigontina"),b=Nn(w,"opponent");E[S].matches++,E[S].pointsFor+=I,E[S].pointsAgainst+=F,E[S].goalsFor+=N,E[S].goalsAgainst+=b,I>F?E[S].wins++:I===F?E[S].draws++:E[S].losses++});const L=[["STATISTICHE PER AVVERSARIO"],[""],["Avversario","Partite","V","P","S","Punti Fatti","Punti Subiti","Gol Fatti","Gol Subiti","Diff. Reti"]];Object.entries(E).sort((w,S)=>S[1].matches-w[1].matches).forEach(([w,S])=>{L.push([w,S.matches,S.wins,S.draws,S.losses,S.pointsFor,S.pointsAgainst,S.goalsFor,S.goalsAgainst,S.goalsFor-S.goalsAgainst])});const j=gn.aoa_to_sheet(L);gn.book_append_sheet(e,j,"Statistiche Avversari");const z=`Vigontina_Storico_Completo_${new Date().toLocaleDateString("it-IT").replace(/\//g,"-")}.xlsx`;bT(e,z),alert("✅ Storico esportato con successo!")}catch(e){console.error("Errore export storico:",e),alert(`❌ Errore durante l'esportazione: ${e.message||"Errore sconosciuto"}`)}},Xj=()=>{const[t,e]=rt.useState("home"),[r,n]=rt.useState(null),i=kk(),{matchHistory:s,loadHistory:a,saveMatch:o,deleteMatch:l,stats:u,lastPlayedMatch:c}=Fk(),p=Rk();rt.useEffect(()=>{a(),i.loadTimerState()},[a,i.loadTimerState]);const m=rt.useCallback(I=>{p.createMatch(I),e("match-overview")},[p]),d=rt.useCallback(I=>{p.setPeriod(I),i.resetTimer(),e("period")},[p,i]),y=rt.useCallback(I=>{p.setPeriod(I),e("period-view")},[p]),v=async()=>{await o(p.currentMatch)&&(p.resetMatch(),e("home"))},T=()=>{p.completePeriod()&&(i.resetTimer(),p.resetPeriod(),e("match-overview"))},_=()=>{e("match-overview"),p.resetPeriod()},x=()=>{window.confirm("Sei sicuro? I dati non salvati andranno persi.")&&(p.resetMatch(),e("home"))},E=rt.useCallback(()=>{Kj(s)},[s]),L=rt.useCallback(I=>{n(I),e("history-figc-report")},[]),j=rt.useCallback((I,F)=>{p.addGoal(I,F,i.getCurrentMinute)},[p,i]),z=rt.useCallback(()=>{p.addOwnGoal(i.getCurrentMinute)},[p,i]),w=rt.useCallback(()=>{p.addOpponentGoal(i.getCurrentMinute)},[p,i]),S=rt.useCallback((I,F,N)=>{p.addPenalty(I,F,N,i.getCurrentMinute)},[p,i]);return t==="home"?R.jsx(Yj,{stats:u,lastPlayedMatch:c,onNewMatch:()=>e("new-match"),onViewHistory:()=>e("history"),onViewLastMatch:I=>{n(I),e("history-summary")}}):t==="new-match"?R.jsx(qk,{onSubmit:m,onCancel:()=>e("home")}):t==="match-overview"&&p.currentMatch?R.jsx(Gk,{match:p.currentMatch,onStartPeriod:d,onViewPeriod:y,onSave:v,onExportExcel:()=>Hd(p.currentMatch),onExportPDF:()=>zd(p.currentMatch),onSummary:()=>e("summary"),onFIGCReport:()=>e("figc-report"),isTimerRunning:i.isTimerRunning,onBack:x}):t==="period"&&p.currentMatch&&p.currentPeriod!==null?R.jsx(b_,{match:p.currentMatch,periodIndex:p.currentPeriod,timer:i,onAddGoal:j,onAddOwnGoal:z,onAddOpponentGoal:w,onAddPenalty:S,onUpdateScore:p.updateScore,onFinish:T,onSetLineup:p.setLineup,onBack:_}):t==="period-view"&&p.currentMatch&&p.currentPeriod!==null?R.jsx(b_,{match:p.currentMatch,periodIndex:p.currentPeriod,timer:i,onAddGoal:j,onAddOwnGoal:z,onAddOpponentGoal:w,onAddPenalty:S,onUpdateScore:p.updateScore,onFinish:T,isEditing:!0,onSetLineup:p.setLineup,onBack:_}):t==="history"?R.jsx(Qk,{matches:s,onBack:()=>e("home"),onViewStats:I=>{n(I),e("history-summary")},onExportExcel:Hd,onExportPDF:zd,onDelete:l,onExportHistory:E}):t==="summary"&&p.currentMatch?R.jsx(N_,{match:p.currentMatch,onBack:()=>e("match-overview"),onExportExcel:()=>Hd(p.currentMatch),onExportPDF:()=>zd(p.currentMatch),onFIGCReport:()=>e("figc-report")}):t==="history-summary"&&r?R.jsx(N_,{match:r,onBack:()=>{n(null),e("history")},onExportExcel:()=>Hd(r),onExportPDF:()=>zd(r),onFIGCReport:()=>L(r)}):t==="figc-report"&&p.currentMatch?R.jsx(Y_,{match:p.currentMatch,onBack:()=>e("match-overview")}):t==="history-figc-report"&&r?R.jsx(Y_,{match:r,onBack:()=>e("history-summary")}):null},Yj=({stats:t,lastPlayedMatch:e,onNewMatch:r,onViewHistory:n,onViewLastMatch:i})=>R.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-800 via-slate-700 to-cyan-600 p-4",children:R.jsx("div",{className:"max-w-2xl mx-auto",children:R.jsxs("div",{className:"bg-white rounded-lg shadow-lg p-6",children:[R.jsxs("div",{className:"flex items-center gap-3 mb-8",children:[R.jsx("div",{className:"w-16 h-16 rounded-full overflow-hidden bg-white flex items-center justify-center border-2 border-slate-200",children:R.jsx("img",{src:"/logo-vigontina.png",alt:"Logo Vigontina San Paolo",className:"w-full h-full object-cover",loading:"lazy",decoding:"async"})}),R.jsxs("div",{children:[R.jsx("h1",{className:"text-xl font-semibold text-gray-800",children:"Vigontina San Paolo"}),R.jsx("p",{className:"text-sm text-gray-600",children:"Esordienti 2025-2026"})]})]}),t.totalMatches>0&&R.jsxs("div",{className:"bg-gradient-to-r from-slate-50 to-cyan-50 rounded-lg p-4 mb-6",children:[R.jsx("h3",{className:"font-semibold mb-3 text-center",children:"Stagione 2025-2026"}),R.jsxs("div",{className:"grid grid-cols-4 gap-2",children:[R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-2xl font-bold text-gray-800",children:t.totalMatches}),R.jsx("p",{className:"text-xs text-gray-600",children:"Partite"})]}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-2xl font-bold text-green-600",children:t.wins}),R.jsx("p",{className:"text-xs text-gray-600",children:"Vinte"})]}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:t.draws}),R.jsx("p",{className:"text-xs text-gray-600",children:"Pareggiate"})]}),R.jsxs("div",{className:"text-center",children:[R.jsx("p",{className:"text-2xl font-bold text-red-600",children:t.losses}),R.jsx("p",{className:"text-xs text-gray-600",children:"Perse"})]})]})]}),e&&R.jsxs("div",{className:"bg-white rounded-lg shadow mb-6 border",children:[R.jsxs("div",{className:"p-4 border-b",children:[R.jsx("h3",{className:"font-semibold",children:"Ultima partita"}),R.jsxs("p",{className:"text-xs text-gray-500",children:[new Date(e.date).toLocaleDateString("it-IT")," "," • ",e.isHome?"🏠 Casa":"✈️ Trasferta"," "," • ",e.competition,e.matchDay&&` - Giornata ${e.matchDay}`]})]}),R.jsxs("div",{className:"p-4",children:[R.jsxs("div",{className:"flex items-center justify-between",children:[R.jsxs("div",{className:"text-center flex-1",children:[R.jsx("p",{className:"text-xs text-gray-600",children:"Vigontina"}),R.jsx("p",{className:"text-3xl font-bold",children:Mr(e,"vigontina")})]}),R.jsx("span",{className:"px-3 text-gray-400",children:"-"}),R.jsxs("div",{className:"text-center flex-1",children:[R.jsx("p",{className:"text-xs text-gray-600",children:e.opponent}),R.jsx("p",{className:"text-3xl font-bold",children:Mr(e,"opponent")})]})]}),R.jsx("button",{onClick:()=>i(e),className:"w-full mt-3 bg-blue-500 text-white py-1 rounded hover:bg-blue-600 text-sm",children:"Dettagli ultima partita"})]})]}),R.jsxs("div",{className:"space-y-3",children:[R.jsx("button",{onClick:r,className:"w-full bg-blue-500 text-white py-2 rounded hover:bg-blue-600 transition text-base font-medium",children:"Nuova Partita"}),R.jsxs("button",{onClick:n,className:"w-full bg-purple-500 text-white py-2 rounded hover:bg-purple-600 transition text-base font-medium",children:["Storico Partite (",t.totalMatches,")"]})]})]})})});hg.createRoot(document.getElementById("root")).render(R.jsx(Xj,{}));export{vr as _,hm as c,m6 as g};
